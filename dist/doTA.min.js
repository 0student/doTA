var doTA=function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var valid_chr="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",parse=function(e,n){if(e){var r=e.match(/([<>]|[^<>]+)/g),t=0,i=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===r[t])if(t++,"/"===r[t][0])n.onclosetag(r[t].slice(1));else if("!"===r[t][0])n.oncomment(r[t]);else{var a,o={},l=r[t],f=l.indexOf(" ");if(-1===f)a=l;else{a=l.slice(0,f);for(var c=l.length;++f<c;){var s=l.indexOf("=",f);if(-1===s){o[l.slice(f)]="";break}var d,u,g=l.slice(f,s),p=l[s+1];if('"'===p||"'"===p)u=l.indexOf(p,s+2),d=l.slice(s+2,u),o[g]=i(d),f=u+1;else{if(u=l.indexOf(" ",s+2),-1===u){d=l.slice(s+1),o[g]=i(d);break}d=l.slice(s+1,u),o[g]=i(d),f=u}}}n.onopentag(a,o)}else">"===r[t]&&"<"!==r[t+1]&&(t++,r[t]&&n.ontext(r[t]));while(++t<r.length)}},w=0;return{compile:function(E,O){O=O||{};var val_mod=O.loose?"||''":"";E=E.replace(/\s{2,}|\n/g," "),O.encode&&(E=E.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}));var Y=function(e,n){if(n){for(var r=n.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),t="",i=0;i<r.length;i++)if(!(valid_chr.indexOf(r[i].charAt(0))>=0)||e[r[i]]||i&&"."===r[i-1][r[i-1].length-1])if(r[i].indexOf("$index")>=0){for(var a=L;a>=0;a--)if(I[a]){t+=r[i].replace(/\$index/g,I[a]);break}}else t+=r[i];else t+="S."+r[i];return t}return n},V={$index:1,undefined:1,$attr:1},N=function(e){if(e.indexOf("{{")>=0){for(var n=e.split(/\{\{|\}\}/),r=0;r<n.length;r+=2)n[r].indexOf("'")>=0&&(n[r]=n[r].replace(/'/g,"\\'"));for(var r=1;r<n.length-1;r+=2)n[r]=C(null,n[r]);return n.join("")}return e.indexOf("'")>=0?e.replace(/'/g,"\\'"):e},M=function(e){return e.replace(/\{\{([^}]+)\}\}/g,C)},C=function(e,n){var r=n.indexOf("|");if(-1===r)return"'+("+Y(V,n)+val_mod+")+'";for(var t="|"===n[r+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),i=Y(V,t[0]),a=1;a<t.length;a++){var o=t[a].split(":");if(i="F('"+o.shift().trim()+"')("+i,o.length){for(var l=[],f=0;f<o.length;f++)l.push(Y(V,o[f]));i+=","+l.join(",")}i+=")";break}return"'+("+i+val_mod+")+'"},D=function(e,n){var r=new Array(e+2).join("    ");return n?r.slice(0,-2*n):r},L=0,T={},I={},W={},X,P,Q,F,R="'use strict';var R='';";parse(E,{onopentag:function(e,n){var r,t={};if(n["dota-pass"]?(P=L,Q=0):n["dota-continue"]&&(Q=L),!P&&n["ng-repeat"]){T[L]=T[L]?T[L]+1:1;var i="i"+L,a="l"+L,o=n["ng-repeat"].split(" in "),l=Y(V,o[1]);if(I[L]=i,o[0].indexOf(",")>=0){var f=o[0].split(",");R+="var D"+L+"="+l+";",R+="for(var "+f[0]+" in D"+L+"){",R+="var "+f[1]+" = D"+L+"["+f[0]+"]; ",V[f[0]]=V[f[1]]=1}else R+="var D"+L+"="+l+","+i+"=-1,"+a+"=D"+L+".length;",R+="while(++"+i+"<"+a+"){",R+="var "+o[0]+"=D"+L+"["+i+"]; ",V[o[0]]=1;delete n["ng-repeat"]}if(!P||Q){n["ng-if"]&&((n.wait||n.watch)&&(++w,R+=(X?"":"X.W=[];")+'var W={I:"D'+w+'",W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};X.W.push(W);",W[L]=X=1,R+='W.F=function(S,F){"use strict";var R="";',n.id="D"+w,delete n.watch,delete n.wait),T[L]=T[L]?T[L]+1:1,R+="if("+Y(V,n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(R+="var s=[],n="+Y(V,n["ng-class"])+";",R+="for(var c in n){n[c]&&s.push(c);}",r=1,delete n["ng-class"]);for(var c in n)"-"===c.charAt(2)&&/^ng-(?:src|alt|title|href)/.test(c)&&(n[c.replace("ng-","")]=n[c],delete n[c])}for(var c in n){var s=n[c];if(r&&"class"===c)R+='s.push("'+s+'"); ';else if(t[c]='="'+N(s)+'"',t[c].indexOf("$index")>=0)for(var d=L;d>=0;d--)if(I[d]){t[c]=t[c].replace(/\$index/g,"'+"+I[d]+"+'");break}}R+="R+='<"+e+(r?" class=\"'+s.join(' ')+'\"":"");for(var u in t)R+=" "+u+t[u];if(R+=">';",n["dota-render"]&&n.expand){var g=[];for(var c in n)c.indexOf("data-")?c.indexOf("scope-")||g.push('"'+c.slice(6)+'":S["'+n[c]+'"]'):g.push('"'+c.slice(5)+'":"'+n[c]+'"');R+="var P={"+g.join(",")+'},U="'+n["dota-render"]+'";',R+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(e)?T[L]>0&&(R+="}",T[L]--,I[L]=0):L++},onclosetag:function(e){for(R+="R+='</"+e+">';",L--,W[L]&&(R+="} else {",R+="R+='<"+e+' id="D'+w+'" style="display:none"></'+e+">'; ");T[L]>0;)R+="}",T[L]--,I[L]=0;W[L]&&(R+="return R;}; ",R+="R+=W.F(S,F); ",W[L]=0),P&&P>=L&&(P=0)},ontext:function(e){e.indexOf("{{")>=0&&(e=M(e)),R+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){R+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),R+="return R;",R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,""),O.debug&&console.log(R);try{F=X?eval("[(function X(S,F,$attr){"+R+"})][0]"):new Function("S","F","$attr",R)}catch(e){throw"undefined"!=typeof console&&console.log("doTA compile error:"+R),e}return R=L=T=I=V=P=null,F},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}});