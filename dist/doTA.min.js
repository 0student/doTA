var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function n(n){var t,i={},r=n.indexOf(" ");if(-1!==r){t=n.slice(0,r);for(var o=n.length;++r<o;){var l=n.indexOf("=",r);if(-1===l){i[n.slice(r)]="";break}var f=n.slice(r,l),a=n[l+1];if('"'===a||"'"===a)a=n.indexOf(a,l+2),l=n.slice(l+2,a),i[f]=e(l),r=a+1;else{if(a=n.indexOf(" ",l+2),-1===a){l=n.slice(l+1),i[f]=e(l);break}l=n.slice(l+1,a),i[f]=e(l),r=a}}}else t=n;return[t,i,r]}function t(e,t){if(e){var i=e.match(/([<>]|[^<>]+)/g),r=0,o=i.length;do"<"===i[r]?(r++,"/"===i[r][0]?t.onclosetag(i[r].slice(1)):"!"===i[r][0]?t.oncomment(i[r]):t.onopentag.apply(this,n(i[r]))):">"===i[r]&&"<"!==i[r+1]&&(r++,i[r])&&t.ontext(i[r]);while(++r<o)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var i=0,r={};return{nc:function(e,n){n=n||"";for(var t in e)e[t]&&(n+=(n?" ":"")+t);return n},diff:function(e,t){var i,r,o="textContent"in document.body?"textContent":"innerText",l=e.match(/([<>]|[^<>]+)/g),f=l.length,a=t.match(/([<>]|[^<>]+)/g),d=0;if(f===a.length)do if("<"===l[d]){if(d++,"/"!==l[d][0]&&"!"!==l[d][0])if(l[d]!==a[d])e:{r=a[d];var c=void 0;i=i=void 0,c=n(l[d]),i=n(r),r=c[1];var c=i[1],s=void 0;i=r.id;var u=void 0;for(u in c)if(c[u]!==r[u]){if(!s&&(s=document.getElementById(i),!s)){i=void 0;break e}s.setAttribute(u,c[u])}}else i=l[d],r=i.indexOf(" id="),c=void 0,r>=0&&(r+=4,c=i.charAt(r),"'"===c||'"'===c?(r++,c=i.indexOf(c,r+1)):(c=i.indexOf(" ",r),-1===c&&(c=i.indexOf(">",r),-1===c&&(c=i.length)))),i=i.substring(r,c)}else">"===l[d]&&"<"!==l[d+1]&&(d++,l[d]!==a[d]&&(r=document.getElementById(i))&&r.firstChild&&3===r.firstChild.nodeType&&(r.firstChild[o]=a[d]));while(d++<f)},compile:function(e,n){function o(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var n="",t=0;t<e.length;t++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t].charAt(0)))||g[e[t]]||t&&"."===e[t-1][e[t-1].length-1])if(0<=e[t].indexOf("$index")){for(var i=p;i>=0;i--)if(h[i]){n+=e[t].replace(/\$index/g,h[i]);break}}else n+=e[t];else n+="S."+e[t];return n}return e}function l(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+o(n)+s+")+'";var i="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),t=o(i[0]);if(i[1]){if(i=i[1].split(":"),t="F('"+i.shift().trim()+"')("+t,i.length){for(var r=[],l=0;l<i.length;l++)r.push(o(i[l]));t+=","+r.join(",")}t+=")"}return"'+("+t+s+")+'"}n=n||{};var f,a,d,c,s=n.loose?"||''":"",u=n.watchDiff,g={$index:1,undefined:1,$attr:1},p=0,v={},h={},m={},x=r[n.dotaRender]||i++,O={};r[x]=x;var y="'use strict';var "+(u?"N=0,J="+x+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),n.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),t(e,{onopentag:function(e,t){var i,r={};if(t["dota-pass"]?(a=p,d=0):t["dota-continue"]&&(d=p),!a||d){if(t["ng-repeat"]){v[p]=v[p]?v[p]+1:1;var c="i"+p,s="l"+p,b=t["ng-repeat"].split(" in "),w=o(b[1]);h[p]=c,0<=b[0].indexOf(",")?(c=b[0].split(","),y+="var D"+p+"="+w+";",y+="for(var "+c[0]+" in D"+p+"){",y+="var "+c[1]+" = D"+p+"["+c[0]+"]; ",g[c[0]]=g[c[1]]=1):(y+="var D"+p+"="+w+","+c+"=-1,"+s+"=D"+p+".length;",y+="while(++"+c+"<"+s+"){",y+="var "+b[0]+"=D"+p+"["+c+"]; ",g[b[0]]=1),delete t["ng-repeat"]}t["ng-if"]&&((t.wait||t.watch)&&(t.id=O[x+"."+p]=t.id||x+".'+N+'",y+=(f?"":"var "+(u?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+x+'."+ ++N,W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",m[p]=f=1,y+='W.F=function(S,F,$attr,X){var R="";',delete t.watch,delete t.wait),v[p]=v[p]?v[p]+1:1,y+="if("+o(t["ng-if"])+"){",delete t["ng-if"]),t["ng-class"]&&(t["class"]="'+doTA.nc("+o(t["ng-class"])+(t["class"]?",'"+t["class"]+"'":"")+")+'",i=1,delete t["ng-class"]);for(var T in t)"ng-"===T.substr(0,3)&&(w=T.substr(3),/^(?:src|alt|title|href)/.test(w)?(t[w]=t[T],delete t[T]):n.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(t.de="1",t["de-"+w]=t[T],delete t[T]))}for(T in t){if(w=T,"id"===T||i&&"class"===T)c=t[T];else if(c=t[T],0<=c.indexOf("{{")){for(c=c.split(/\{\{|\}\}/),s=0;s<c.length;s+=2)0<=c[s].indexOf("'")&&(c[s]=c[s].replace(/'/g,"\\'"));for(s=1;s<c.length-1;s+=2)c[s]=l(null,c[s]);c=c.join("")}else c=0<=c.indexOf("'")?c.replace(/'/g,"\\'"):c;if(r[w]=c,0<=r[T].indexOf("$index"))for(w=p;w>=0;w--)if(h[w]){r[T]=r[T].replace(/\$index/g,"'+"+h[w]+"+'");break}}u&&(r.id=r.id||x+".'+N+'"),y+="R+='<"+e;for(var R in r)y+=" "+R+'="'+r[R]+'"';if(y+=">';",u&&(y+="N++; "),t["dota-render"]&&t.expand){r=[];for(T in t)T.indexOf("data-")?T.indexOf("scope-")||r.push('"'+T.slice(6)+'":S["'+t[T]+'"]'):r.push('"'+T.slice(5)+'":"'+t[T]+'"');y+="var P={"+r.join(",")+'},U="'+t["dota-render"]+'";',y+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<v[p]&&(y+="}",v[p]--,h[p]=0):p++},onclosetag:function(e){for(p--,y+="R+='</"+e+">';",m[p]&&(y+="} else {",y+="R+='<"+e+" id="+O[x+"."+p]+" style=display:none></"+e+">'; ");0<v[p];)y+="}",v[p]--,h[p]=0;m[p]&&(y+="return R;}; ",y+="R+=W.F(S,F,$attr,X); ",m[p]=0),a&&a>=p&&(a=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,l)),y+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){y+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),u&&(y+="if(H){doTA.diff(H,R)}doTA.H["+x+"]=R;"),y+="return R;",y=y.replace(/;R\+=/g,"+").replace(/'\+'/g,""),n.optimize&&(y=y.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),n.debug&&console.log(y);try{c=new Function("S","F","$attr","X",y),f&&(c={W:[],F:c})}catch(b){throw"undefined"!=typeof console&&console.log("doTA compile error:"+y),b}return y=p=v=h=g=a=null,c},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}