var doTA=function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var e=" click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ",n="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=function(e,n){if(e){var r=e.match(/([<>]|[^<>]+)/g),t=0,i=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===r[t])if(t++,"/"===r[t][0])n.onclosetag(r[t].slice(1));else if("!"===r[t][0])n.oncomment(r[t]);else{var o,a={},l=r[t],s=l.indexOf(" ");if(-1===s)o=l;else{o=l.slice(0,s);for(var f=l.length;++s<f;){var c=l.indexOf("=",s);if(-1===c){a[l.slice(s)]="";break}var u,d,p=l.slice(s,c),g=l[c+1];if('"'===g||"'"===g)d=l.indexOf(g,c+2),u=l.slice(c+2,d),a[p]=i(u),s=d+1;else{if(d=l.indexOf(" ",c+2),-1===d){u=l.slice(c+1),a[p]=i(u);break}u=l.slice(c+1,d),a[p]=i(u),s=d}}}n.onopentag(o,a)}else">"===r[t]&&"<"!==r[t+1]&&(t++,r[t]&&n.ontext(r[t]));while(++t<r.length)}},t=0;return{compile:function(i,o){o=o||{};var a=o.loose?"||''":"";i=i.replace(/\s{2,}|\n/g," "),o.encode&&(i=i.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}));var l,s,f,c,u=function(e,r){if(r){for(var t=r.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),i="",o=0;o<t.length;o++)if(!(n.indexOf(t[o].charAt(0))>=0)||e[t[o]]||o&&"."===t[o-1][t[o-1].length-1])if(t[o].indexOf("$index")>=0){for(var a=h;a>=0;a--)if(x[a]){i+=t[o].replace(/\$index/g,x[a]);break}}else i+=t[o];else i+="S."+t[o];return i}return r},d={$index:1,undefined:1,$attr:1},p=function(e){if(e.indexOf("{{")>=0){for(var n=e.split(/\{\{|\}\}/),r=0;r<n.length;r+=2)n[r].indexOf("'")>=0&&(n[r]=n[r].replace(/'/g,"\\'"));for(var r=1;r<n.length-1;r+=2)n[r]=v(null,n[r]);return n.join("")}return e.indexOf("'")>=0?e.replace(/'/g,"\\'"):e},g=function(e){return e.replace(/\{\{([^}]+)\}\}/g,v)},v=function(e,n){var r=n.indexOf("|");if(-1===r)return"'+("+u(d,n)+a+")+'";for(var t="|"===n[r+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),i=u(d,t[0]),o=1;o<t.length;o++){var l=t[o].split(":");if(i="F('"+l.shift().trim()+"')("+i,l.length){for(var s=[],f=0;f<l.length;f++)s.push(u(d,l[f]));i+=","+s.join(",")}i+=")";break}return"'+("+i+a+")+'"},h=0,m={},x={},O={},b="'use strict';var R='';";r(i,{onopentag:function(n,r){var i,a={};if(r["dota-pass"]?(s=h,f=0):r["dota-continue"]&&(f=h),!s||f){if(r["ng-repeat"]){m[h]=m[h]?m[h]+1:1;var c="i"+h,g="l"+h,v=r["ng-repeat"].split(" in "),w=u(d,v[1]);if(x[h]=c,v[0].indexOf(",")>=0){var y=v[0].split(",");b+="var D"+h+"="+w+";",b+="for(var "+y[0]+" in D"+h+"){",b+="var "+y[1]+" = D"+h+"["+y[0]+"]; ",d[y[0]]=d[y[1]]=1}else b+="var D"+h+"="+w+","+c+"=-1,"+g+"=D"+h+".length;",b+="while(++"+c+"<"+g+"){",b+="var "+v[0]+"=D"+h+"["+c+"]; ",d[v[0]]=1;delete r["ng-repeat"]}r["ng-if"]&&((r.wait||r.watch)&&(++t,b+=(l?"":"var T=this;T.W=[];")+'var W={I:"D'+t+'",W:"'+r["ng-if"]+'"'+(r.wait?",O:1":"")+"};T.W.push(W);",O[h]=l=1,b+='W.F=function(S,F){"use strict";var R="";',r.id="D"+t,delete r.watch,delete r.wait),m[h]=m[h]?m[h]+1:1,b+="if("+u(d,r["ng-if"])+"){",delete r["ng-if"]),r["ng-class"]&&(b+="var s=[],n="+u(d,r["ng-class"])+";",b+="for(var c in n){n[c]&&s.push(c);}",i=1,delete r["ng-class"]);for(var R in r)if("ng-"===R.substr(0,3)){var $=R.substr(3);/^(?:src|alt|title|href)/.test($)?(r[$]=r[R],delete r[R]):o.event&&e.indexOf(" "+$+" ")>=0&&(r.de="1",r["de-"+$]=r[R],delete r[R])}}for(var R in r){var D=r[R];if(i&&"class"===R)b+='s.push("'+D+'"); ';else if(a[R]='="'+p(D)+'"',a[R].indexOf("$index")>=0)for(var k=h;k>=0;k--)if(x[k]){a[R]=a[R].replace(/\$index/g,"'+"+x[k]+"+'");break}}b+="R+='<"+n+(i?" class=\"'+s.join(' ')+'\"":"");for(var F in a)b+=" "+F+a[F];if(b+=">';",r["dota-render"]&&r.expand){var T=[];for(var R in r)R.indexOf("data-")?R.indexOf("scope-")||T.push('"'+R.slice(6)+'":S["'+r[R]+'"]'):T.push('"'+R.slice(5)+'":"'+r[R]+'"');b+="var P={"+T.join(",")+'},U="'+r["dota-render"]+'";',b+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(n)?m[h]>0&&(b+="}",m[h]--,x[h]=0):h++},onclosetag:function(e){for(b+="R+='</"+e+">';",h--,O[h]&&(b+="} else {",b+="R+='<"+e+' id="D'+t+'" style="display:none"></'+e+">'; ");m[h]>0;)b+="}",m[h]--,x[h]=0;O[h]&&(b+="return R;}; ",b+="R+=W.F(S,F); ",O[h]=0),s&&s>=h&&(s=0)},ontext:function(e){e.indexOf("{{")>=0&&(e=g(e)),b+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){b+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),b+="return R;",b=b.replace(/;R\+=/g,"+").replace(/'\+'/g,""),o.optimize&&(b=b.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),o.debug&&console.log(b);try{c=Function("S","F","$attr",b),l&&(c={W:[],F:c})}catch(w){throw"undefined"!=typeof console&&console.log("doTA compile error:"+b),w}return b=h=m=x=d=s=null,c},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}});