var doTA=function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var e=function(e,n){if(e){var t=e.match(/([<>]|[^<>]+)/g),i=0,r=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===t[i])if(i++,"/"===t[i][0])n.onclosetag(t[i].slice(1));else if("!"===t[i][0])n.oncomment(t[i]);else{var o,l={},s=t[i],a=s.indexOf(" ");if(-1===a)o=s;else{o=s.slice(0,a);for(var c=s.length;++a<c;){var f=s.indexOf("=",a);if(-1===f){l[s.slice(a)]="";break}var a=s.slice(a,f),d=s[f+1];if('"'===d||"'"===d)d=s.indexOf(d,f+2),f=s.slice(f+2,d),l[a]=r(f),a=d+1;else{if(d=s.indexOf(" ",f+2),-1===d){f=s.slice(f+1),l[a]=r(f);break}f=s.slice(f+1,d),l[a]=r(f),a=d}}}n.onopentag(o,l)}else">"===t[i]&&"<"!==t[i+1]&&(i++,t[i])&&n.ontext(t[i]);while(++i<t.length)}},n=0;return{compile:function(t,i){function r(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var n="",t=0;t<e.length;t++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t].charAt(0)))||d[e[t]]||t&&"."===e[t-1][e[t-1].length-1])if(0<=e[t].indexOf("$index")){for(var i=u;i>=0;i--)if(g[i]){n+=e[t].replace(/\$index/g,g[i]);break}}else n+=e[t];else n+="S."+e[t];return n}return e}function o(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+r(n)+f+")+'";var i="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),t=r(i[0]);if(i[1]){if(i=i[1].split(":"),t="F('"+i.shift().trim()+"')("+t,i.length){for(var o=[],l=0;l<i.length;l++)o.push(r(i[l]));t+=","+o.join(",")}t+=")"}return"'+("+t+f+")+'"}i=i||{};var l,s,a,c,f=i.loose?"||''":"",d={$index:1,undefined:1,$attr:1},u=0,p={},g={},v={},h="'use strict';var R='';";t=t.replace(/\s{2,}|\n/g," "),i.encode&&(t=t.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),e(t,{onopentag:function(e,t){var c,f={};if(t["dota-pass"]?(s=u,a=0):t["dota-continue"]&&(a=u),!s||a){if(t["ng-repeat"]){p[u]=p[u]?p[u]+1:1;var m="i"+u,x="l"+u,O=t["ng-repeat"].split(" in "),w=r(O[1]);g[u]=m,0<=O[0].indexOf(",")?(m=O[0].split(","),h+="var D"+u+"="+w+";",h+="for(var "+m[0]+" in D"+u+"){",h+="var "+m[1]+" = D"+u+"["+m[0]+"]; ",d[m[0]]=d[m[1]]=1):(h+="var D"+u+"="+w+","+m+"=-1,"+x+"=D"+u+".length;",h+="while(++"+m+"<"+x+"){",h+="var "+O[0]+"=D"+u+"["+m+"]; ",d[O[0]]=1),delete t["ng-repeat"]}t["ng-if"]&&((t.wait||t.watch)&&(++n,h+=(l?"":"var T=this;T.W=[];")+'var W={I:"D'+n+'",W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",v[u]=l=1,h+='W.F=function(S,F){"use strict";var R="";',t.id="D"+n,delete t.watch,delete t.wait),p[u]=p[u]?p[u]+1:1,h+="if("+r(t["ng-if"])+"){",delete t["ng-if"]),t["ng-class"]&&(h+="var s=[],n="+r(t["ng-class"])+";",h+="for(var c in n){n[c]&&s.push(c);}",c=1,delete t["ng-class"]);for(var b in t)"ng-"===b.substr(0,3)&&(w=b.substr(3),/^(?:src|alt|title|href)/.test(w)?(t[w]=t[b],delete t[b]):i.event&&0<=" click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(t.de="1",t["de-"+w]=t[b],delete t[b]))}for(b in t)if(m=t[b],c&&"class"===b)h+='s.push("'+m+'"); ';else{if(w=b,0<=m.indexOf("{{")){for(m=m.split(/\{\{|\}\}/),x=0;x<m.length;x+=2)0<=m[x].indexOf("'")&&(m[x]=m[x].replace(/'/g,"\\'"));for(x=1;x<m.length-1;x+=2)m[x]=o(null,m[x]);m=m.join("")}else m=0<=m.indexOf("'")?m.replace(/'/g,"\\'"):m;if(f[w]='="'+m+'"',0<=f[b].indexOf("$index"))for(w=u;w>=0;w--)if(g[w]){f[b]=f[b].replace(/\$index/g,"'+"+g[w]+"+'");break}}h+="R+='<"+e+(c?" class=\"'+s.join(' ')+'\"":"");for(var y in f)h+=" "+y+f[y];if(h+=">';",t["dota-render"]&&t.expand){f=[];for(b in t)b.indexOf("data-")?b.indexOf("scope-")||f.push('"'+b.slice(6)+'":S["'+t[b]+'"]'):f.push('"'+b.slice(5)+'":"'+t[b]+'"');h+="var P={"+f.join(",")+'},U="'+t["dota-render"]+'";',h+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(e)?0<p[u]&&(h+="}",p[u]--,g[u]=0):u++},onclosetag:function(e){for(h+="R+='</"+e+">';",u--,v[u]&&(h+="} else {",h+="R+='<"+e+' id="D'+n+'" style="display:none"></'+e+">'; ");0<p[u];)h+="}",p[u]--,g[u]=0;v[u]&&(h+="return R;}; ",h+="R+=W.F(S,F); ",v[u]=0),s&&s>=u&&(s=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,o)),h+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){h+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),h+="return R;",h=h.replace(/;R\+=/g,"+").replace(/'\+'/g,""),i.optimize&&(h=h.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),i.debug&&console.log(h);try{c=new Function("S","F","$attr",h),l&&(c={W:[],F:c})}catch(m){throw"undefined"!=typeof console&&console.log("doTA compile error:"+h),m}return h=u=p=g=d=s=null,c},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}});