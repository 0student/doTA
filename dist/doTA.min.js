var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function i(i){var n,t={},o=i.indexOf(" ");if(-1!==o){n=i.slice(0,o);for(var r=i.length;++o<r;){var l=i.indexOf("=",o);if(-1===l){t[i.slice(o)]="";break}var f=i.slice(o,l),d=i[l+1];if('"'===d||"'"===d)d=i.indexOf(d,l+2),l=i.slice(l+2,d),t[f]=e(l),o=d+1;else{if(d=i.indexOf(" ",l+2),-1===d){l=i.slice(l+1),t[f]=e(l);break}l=i.slice(l+1,d),t[f]=e(l),o=d}}}else n=i;return[n,t,o]}function n(e,n){if(e){var t=e.match(/([<>]|[^<>]+)/g),o=0,r=t.length;do"<"===t[o]?(o++,"/"===t[o][0]?n.onclosetag(t[o].slice(1)):"!"===t[o][0]?n.oncomment(t[o]):n.onopentag.apply(this,i(t[o]))):">"===t[o]&&"<"!==t[o+1]&&(o++,t[o])&&n.ontext(t[o]);while(++o<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var t=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,o=/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g,r=/"[^"]*"|'[^']*'/g,l=/\s{2,}|\n/g,f=/\{\{|\}\}/,d=/\{\{([^}]+)\}\}/g,s=/([^|]+(?:\|\|)?)+/g,a=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,c=/^(?:input|img|br|hr)/i,u=/^(?:src|alt|title|href)/,g=0;return{nc:function(e,i){i=i||"";for(var n in e)e[n]&&(i+=(i?" ":"")+n);return i},diff:function(e,i){var n,t,o="textContent"in document.body?"textContent":"innerText",r=doTA.H[e].match(/([<>]|[^<>]+)/g),l=r.length,f=i.match(/([<>]|[^<>]+)/g),d=0;if(l===f.length)do if("<"===r[d]){if(d++,"/"!==r[d][0]&&"!"!==r[d][0])if(r[d]!==f[d])e:{n=r[d],t=f[d];var s=void 0,a=void 0,c=n.indexOf(" "),u=void 0,g=void 0,p=void 0,v=void 0,p=void 0,g=0,h=void 0,x=void 0,u=void 0,m=n.length;if(-1!==c)for(;++c<m&&(u=n.indexOf("=",c),-1!==u);)if(h=n.slice(c,u),p=n[u+1],'"'===p||"'"===p){if(v=n.indexOf(p,u+2),x=n.slice(u+2,v),"id"===h)s=x;else if(g=u+g,p=t.indexOf(p,g+2),u=t.slice(g+2,p),g=p-v,x!==u){if(!a&&(a=document.getElementById(s),!a)){n=void 0;break e}a.setAttribute(h,u)}c=v+1}else{if(v=n.indexOf(" ",u+2),-1===v){s||(x=n.slice(u+1),"id"===h&&(s=x));break}s||(x=n.slice(u+1,v),"id"===h&&(s=x)),c=v}n=s}else n=r[d],t=n.indexOf(" id="),s=void 0,t>=0&&(t+=4,s=n.charAt(t),"'"===s||'"'===s?(t++,s=n.indexOf(s,t+1)):(s=n.indexOf(" ",t),-1===s&&(s=n.indexOf(">",t),-1===s&&(s=n.length)))),n=n.substring(t,s)}else">"===r[d]&&"<"!==r[d+1]&&(d++,r[d]!==f[d]&&(t=document.getElementById(n))&&t.firstChild&&3===t.firstChild.nodeType&&(t.firstChild[o]=f[d]));while(d++<l)},CH:{},initCH:function(e){this.CH=e},compile:function(e,i){function p(e){if(e){e=e.match(o);for(var i="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||y[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var t=R;t>=0;t--)if(T[t]){i+=e[n].replace(/\$index/g,T[t]);break}}else i+=e[n];else i+="S."+e[n];return i}return e}function v(e,i){var n=i.indexOf("|");if(-1===n)return"'+("+p(i)+w+")+'";var t="|"===i[n+1]?i.match(s):i.split("|"),n=p(t[0]);if(t[1]){if(t=t[1].split(":"),n="F('"+t.shift().trim()+"')("+n,t.length){for(var o=[],r=0;r<t.length;r++)o.push(p(t[r]));n+=","+o.join(",")}n+=")"}return"'+("+n+w+")+'"}i=i||{};var h,x,m,O,w=i.loose?"||''":"",b=i.watchDiff,y={$index:1,undefined:1,$attr:1},R=0,$={},T={},A={},C=this.CH[i.dotaRender]||g++,k={};this.CH[i.dotaRender]=C;var D="'use strict';var "+(b?"N=0,J="+C+",":"")+"R='';";e=e.replace(l," "),i.encode&&(e=e.replace(r,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,r,l={};if(n["dota-pass"]?(x=R,m=0):n["dota-continue"]&&(m=R),!x||m){if(n["ng-repeat"]){$[R]=$[R]?$[R]+1:1;var d="i"+R,s="l"+R,a=n["ng-repeat"].split(" in "),g=p(a[1]);T[R]=d,0<=a[0].indexOf(",")?(d=a[0].split(","),D+="var D"+R+"="+g+";",D+="for(var "+d[0]+" in D"+R+"){",D+="var "+d[1]+" = D"+R+"["+d[0]+"]; ",y[d[0]]=y[d[1]]=1):(D+="var D"+R+"="+g+","+d+"=-1,"+s+"=D"+R+".length;",D+="while(++"+d+"<"+s+"){",D+="var "+a[0]+"=D"+R+"["+d+"]; ",y[a[0]]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(o=1,D+=(h?"":"var "+(b?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+C+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",A[R]=h=1,D+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),$[R]=$[R]?$[R]+1:1,D+="if("+p(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]){for(r=p(n["ng-class"]),n["class"]=n["class"]||"";null!==(g=t.exec(r));)n["class"]+="'+("+g[2]+"?'"+(n["class"]?" ":"")+g[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),r=1,delete n["ng-class"]}for(var O in n)"ng-"===O.substr(0,3)&&(g=O.substr(3),u.test(g)?(n[g]=n[O],delete n[O]):i.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+g+" ")&&(n.de="1",n["de-"+g]=n[O],delete n[O]))}for(O in n){if(g=O,r&&"class"===O)d=n[O];else if(d=n[O],0<=d.indexOf("{{")){for(d=d.split(f),s=0;s<d.length;s+=2)0<=d[s].indexOf("'")&&(d[s]=d[s].replace(/'/g,"\\'"));for(s=1;s<d.length-1;s+=2)d[s]=v(null,d[s]);d=d.join("")}else d=0<=d.indexOf("'")?d.replace(/'/g,"\\'"):d;if(l[g]=d,0<=l[O].indexOf("$index"))for(g=R;g>=0;g--)if(T[g]){l[O]=l[O].replace(/\$index/g,"'+"+T[g]+"+'");break}}D+="R+='<"+e,(b||o)&&(o=k[C+"."+R]=l.id||C+".'+N+'",D+=' id="'+o+'"',l.id&&delete l.id);for(var w in l)D+=" "+w+'="'+l[w]+'"';if(D+=">';",b&&(D+="N++; "),n["dota-render"]&&n.expand){l=[];for(O in n)O.indexOf("data-")?O.indexOf("scope-")||l.push('"'+O.slice(6)+'":S["'+n[O]+'"]'):l.push('"'+O.slice(5)+'":"'+n[O]+'"');D+="var P={"+l.join(",")+'},U="'+n["dota-render"]+'";',D+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}c.test(e)?0<$[R]&&(D+="}",$[R]--,T[R]=0):R++},onclosetag:function(e){for(R--,D+="R+='</"+e+">';",A[R]&&(D+="} else {",D+="R+='<"+e+" id="+k[C+"."+R]+" style=display:none></"+e+">'; ");0<$[R];)D+="}",$[R]--,T[R]=0;A[R]&&(D+="return R;}; ",D+="R+=W.F(S,F,$attr,X); ",A[R]=0),x&&x>=R&&(x=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(d,v)),D+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){D+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),b&&(D+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),D+="return R;",D=D.replace(/;R\+=/g,"+").replace(/'\+'/g,""),i.optimize&&(D=D.replace(a,"$1$2")),i.debug&&console.log(D);try{O=new Function("S","F","$attr","X",D),h&&(O={W:[],F:O})}catch(F){throw"undefined"!=typeof console&&console.log("doTA compile error:"+D),F}return D=R=$=T=y=x=null,O},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}