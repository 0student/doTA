var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function i(i,n){if(i){var t=0,r=i.indexOf("<");do if("<"===i.charAt(r))if(r++,"/"===i.charAt(r))t=++r,r=i.indexOf(">",t),n.onclosetag(i.substring(t,r));else if("!"===i.charAt(r))t=r,r=i.indexOf(">",t),n.oncomment(i.substring(t,r));else{var t=r,r=i.indexOf(">",t),t=i.substring(t,r),s=n,d={},o=void 0,f=t.indexOf(" "),l=void 0,a=void 0,c=void 0,u=void 0,u=void 0;if(-1!==f){for(o=t.slice(0,f),l=t.length;++f<l;){if(c=t.indexOf("=",f),-1===c){a=t.slice(f),"/"!==a&&(d[a]="");break}if(a=t.slice(f,c),u=t[c+1],'"'===u||"'"===u)u=t.indexOf(u,c+2),c=t.slice(c+2,u),d[a]=e(c),f=u+1;else{if(u=t.indexOf(" ",c+2),-1===u){c=t.slice(c+1),d[a]=e(c);break}c=t.slice(c+1,u),d[a]=e(c),f=u}}s.onopentag(o,d),o=o.toLowerCase(),"input"===o||"img"===o?s.onvoidtag():"/"===a&&s.onclosetag(o)}else"/"===t.charAt(t.length-1)?(o=t.slice(0,-1),s.onopentag(o,d),o=o.toLowerCase(),"br"===o||"hr"===o?s.onvoidtag():s.onclosetag(o)):(o=t,s.onopentag(t,d),o=o.toLowerCase(),("br"===o||"hr"===o)&&s.onvoidtag())}else{if(">"!==i.charAt(r))break;t=++r,r=i.indexOf("<",t),r>t&&n.ontext(i.substring(t,r))}while(r>0)}}function n(e,i){var n,t=1,r=i;do r=e.indexOf("<",r+1),"/"===e.charAt(r+1)?t--:(n=e.indexOf(" ",r+1),n=e.substring(r+1,n),"input"!==n&&"img"!==n&&"br"!==n&&"hr"!==n&&t++),i=e.indexOf(">",r);while(t>0);return i+1}function t(e,i){var n,t,r,s,d,o=e.indexOf(" ");s=0;var f,l,a=e.length;if(-1!==o)for(;++o<a&&(r=e.indexOf("=",o),-1!==r);)if(f=e.slice(o,r),d=e[r+1],'"'===d||"'"===d){if(o=e.indexOf(d,r+2),l=e.slice(r+2,o),"id"===f)n=l;else if(s=r+s,r=i.indexOf(d,s+2),d=i.slice(s+2,r),s=r-o,l!==d){if(!t&&(t=document.getElementById(n),!t))return;t.setAttribute(f,d)}o+=1}else{if(o=e.indexOf(" ",r+2),-1===o){n||(l=e.slice(r+1),"id"===f&&(n=l));break}n||(l=e.slice(r+1,o),"id"===f&&(n=l))}return n}function r(e){var i=e.indexOf(" id=");if(i>=0){var i=i+4,n=e.charAt(i);if('"'===n)return i++,n=e.indexOf(n,i+1),e.substring(i,n)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var s=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,d=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,o=/"[^"]*"|'[^']*'/g,f=/\s{2,}|\n/g,l=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,a=/^(?:src|alt|title|href)/,c=/^(?:checked|selected|disabled|readonly|multiple|required|hidden|nowrap)/,u=/\$index/g,g={},x=0,h={diff:function(e,i){var n,s=doTA.H[e],d=0,o=s.indexOf("<"),f=0,l=i.indexOf("<");do"<"===s.charAt(o)?(o++,l++,"/"===s.charAt(o)||"!"===s.charAt(o)?(o=s.indexOf(">",o),l=i.indexOf(">",l)):(d=o,f=l,o=s.indexOf(">",d),l=i.indexOf(">",f),n=s.substring(d,o),f=i.substring(f,l),n=n!==f?t(n,f):r(n))):">"===s.charAt(o)&&(d=++o,f=++l,o=s.indexOf("<",d),l=i.indexOf("<",f),l>f&&(d=s.substring(d,o),f=i.substring(f,l),d!==f&&(d=document.getElementById(n))&&d.firstChild&&3===d.firstChild.nodeType&&(d.firstChild.nodeValue=f)));while(o>0)},diff2:function(e,i){var s,d,o,f,l,a,c,u,g,x=doTA.H[e],h=0,p=x.indexOf("<"),O=0,v=i.indexOf("<"),b=document.createElement("div");do"<"===i.charAt(v)?(p++,v++,"/"===i.charAt(v)||"!"===i.charAt(v)?(p=x.indexOf(">",p),v=i.indexOf(">",v)):(h=p,O=v,p=x.indexOf(">",h),v=i.indexOf(">",O),c=x.substring(h,p),u=i.substring(O,v),c!==u?(s=d,d=r(c),f=0^d,o=r(u),o^=0,f===o?d=t(c,u):(f&&(l=document.getElementById(d),g=l.parentNode,h=n(x,h),p=h-1),o&&(h=n(i,O),b.innerHTML=i.substring(O-1,h),a=b.firstChild,v=h-1),f&&o?(g.replaceChild(a,l),d=void 0):o&&(g=document.getElementById(s),v=i.indexOf(">",v+1),g.appendChild(a)))):(d=r(c),r(u)))):">"===i.charAt(v)&&(h=++p,O=++v,p=x.indexOf("<",h),v=i.indexOf("<",O),v>O&&d&&(s=x.substring(h,p),O=i.substring(O,v),s!==O&&(l=document.getElementById(d))&&l.firstChild&&3===l.firstChild.nodeType&&(l.firstChild.nodeValue=O)));while(v>0)},getId:function(e){if(e){if(g[e])return g[e];g[e]=x}return x++},initCH:function(e){for(var i in e)g[i]=e[i],e[i]>x&&(x=e[i])},compile:function(e,n){function t(e){if(e){e=e.match(d);for(var i="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||T[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var t=C;t>=0;t--)if(R[t]){i+=e[n].replace(u,R[t]);break}}else i+=e[n];else i+="S."+e[n];return i}return e}function r(e){var i=e.indexOf("'");if(i>=0){var n="",t=0;do n+=e.substring(t,i),"\\"!==e.charAt(i-1)&&(n+="\\"),t=i,i=e.indexOf("'",t+1);while(i>0);return n+=e.substr(t)}return e}function g(e){var i=e.indexOf("{{");if(i>=0){var n=0,t="";do n=e.substring(n,i),t+=r(n),n=i+2,i=e.indexOf("}}",n),n=e.substring(n,i),t+="'+("+x(n)+w+")+'",n=i+2,i=e.indexOf("{{",n);while(i>0);return t+=r(e.substr(n))}return r(e)}function x(e){if(-1===e.indexOf("|"))return t(e);var i=e.indexOf("|");if(-1===i)e=[e];else{for(var n=0,r=[];-1!==i;)"|"===e.charAt(i+1)?i+=2:(r.push(e.substring(n,i)),n=++i),i=e.indexOf("|",i);n<e.length&&r.push(e.substring(n)),e=r}for(var s,i=t(e[0]),n=0,d=1;d<e.length;d++)if(s=e[d],r=s.indexOf(":"),r>0){for(i="F('"+s.slice(n,r).trim()+"')("+i,n=++r,r=s.indexOf(":",n);r>0;)i+=","+t(s.slice(n,r)),n=++r,r=s.indexOf(":",n);i+=","+t(s.substr(n))+")"}else i="F('"+s.trim()+"')("+i+")";return i}n=n||{};var h,p,O,v,b,m,w=n.loose?"||''":"",A=n.watchDiff,y=+n.diffLevel,T={$index:1,undefined:1,$attr:1},C=0,$={},R={},k={},D=this.getId(n.dotaRender),F={},I="'use strict';var "+(A?"N=1,J="+D+",":"")+"R='';";e=e.replace(f," "),n.encode&&(e=e.replace(o,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),i(e,{onopentag:function(e,i){var r,d,o,f={},l="";if(i["dota-pass"]?(v=C,b=0):i["dota-continue"]&&(b=C),!v||b){if(i["ng-repeat"]){$[C]=$[C]?$[C]+1:1;var m="i"+C,w="l"+C,N=i["ng-repeat"],S=N.indexOf(" in ");o=N.substr(0,S);var W,N=N.substr(S+4),S=o.indexOf(","),E=N.indexOf("|");R[C]=m,E>0?d=x(N):(W=N.indexOf(":"),0>W&&(d=t(N))),W>0?(d=N.substr(0,W),m=N.indexOf(":",++W),m>0?(W=N.substring(W,m),N=N.substr(m+1)):(W=N.substr(W),N=1),I+="for(var "+o+"="+d+";"+o+(N>0?"<":">")+W+";"+o+"+="+N+"){",T[o]=1):S>0?(W=o.substr(0,S),o=o.substr(S+1),I+="var "+o+",D"+C+"="+d+";",I+="for(var "+W+" in D"+C+"){",I+=o+" = D"+C+"["+W+"]; ",T[W]=T[o]=1):(I+="var "+o+",D"+C+"="+d+","+m+"=-1,"+w+"=D"+C+".length;",I+="while(++"+m+"<"+w+"){",I+=o+"=D"+C+"["+m+"]; ",T[o]=1),delete i["ng-repeat"]}if(i["ng-if"]&&((i.wait||i.watch)&&(r=1,I+=(O?"":"var "+(A?"":"N=1,")+"T=this;T.W=[];")+'var W={I:N+".'+D+'",W:"'+i["ng-if"]+'"'+(i.wait?",O:1":"")+"};T.W.push(W);",k[C]=O=1,I+='W.F=function(S,F,$attr,X){var R="";',delete i.watch,delete i.wait),$[C]=$[C]?$[C]+1:1,I+="if("+t(i["ng-if"])+"){",y&&(h=C,p=0),delete i["ng-if"]),void 0!==i.elif&&(I+="else if("+t(i.elif)+"){",$[C]=$[C]?$[C]+1:1,delete i.elif),void 0===i["else"]||A||(I+="else{",$[C]=$[C]?$[C]+1:1,delete i["else"]),i["ng-init"]&&(I+=t(i["ng-init"])+"; ",delete i["ng-init"]),i["ng-class"]){for(o=t(i["ng-class"]),f["class"]=i["class"]?g(i["class"]):"";null!==(d=s.exec(o));)f["class"]+="'+("+d[2]+"?'"+(f["class"]?" ":"")+d[1].replace(/['"]/g,"")+"':'')+'";delete i["ng-class"]}i["ng-show"]&&(f["class"]=f["class"]||i["class"]||"",f["class"]+="'+("+t(i["ng-show"])+"?'':'"+(f["class"]?" ":"")+"ng-hide')+'",delete i["ng-show"]),i["ng-hide"]&&(f["class"]=f["class"]||i["class"]||"",f["class"]+="'+("+t(i["ng-hide"])+"?'"+(f["class"]?" ":"")+"ng-hide':'')+'",delete i["ng-hide"]),f["class"]&&(f["class"]=f["class"].replace(/\+''\+/g,"+"),delete i["class"]);for(var H in i){if(o=i[H],"ng-"===H.substr(0,3))if(d=H.substr(3),a.test(d))H=d;else if(n.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+d+" "))f.de="1",H="de-"+d;else{if(c.test(d)){l+="'+("+t(o)+"?' "+d+"=\"\"':'')+'";continue}if("value"===d){f.value="'+("+t(o)+")+'";continue}}if(0<=o.indexOf("$index")){for(d=C;d>=0;d--)if(R[d]){f[H]=g(o).replace(u,"'+"+R[d]+"+'");break}}else f[H]=g(o)}}else for(H in i)if(0<=i[H].indexOf("$index")){for(d=C;d>=0;d--)if(R[d]){f[H]=g(i[H]).replace(u,"'+"+R[d]+"+'");break}}else f[H]=g(i[H]);I+="R+='<"+e,(r||A)&&(r=F[D+"."+C]=f.id||"'+N+'."+D,I+=' id="'+r+'"',f.id&&delete f.id);for(var L in f)I+=" "+L+'="'+f[L]+'"';if(I+=l+">';",A&&(I+="N++; ",p>=0&&p++),i["dota-render"]&&i.expand){f=[];for(H in i)H.indexOf("data-")?H.indexOf("scope-")||f.push('"'+H.slice(6)+'":S["'+i[H]+'"]'):f.push('"'+H.slice(5)+'":"'+i[H]+'"');I+="var P={"+f.join(",")+'},U="'+i["dota-render"]+'";',I+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}C++},onvoidtag:function(){for(C--;0<$[C];)I+="}",$[C]--;R[C]=0,v&&v>=C&&(v=0)},onclosetag:function(e){for(C--,I+="R+='</"+e+">';",k[C]?(I+="} else {",I+="R+='<"+e+' id="'+F[D+"."+C]+'" style=display:none></'+e+">';"):y&&C===h&&p>=0&&(p&&(I+="}else{N+="+p+"; "),h=p=void 0);0<$[C];)I+="}",$[C]--;R[C]=0,k[C]&&(I+="return R;}; ",I+="R+=W.F(S,F,$attr,X);N+="+p+"; ",k[C]=0,y&&(h=p=void 0)),v&&v>=C&&(v=0)},ontext:function(e){I+=("R+='"+g(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){I+="R+='<"+g(e)+">';"}}),A&&(I+="if(X&&J in doTA.H){doTA.diff"+(y||"")+"(J,R)}doTA.H[J]=R;"),I+="return R;",I=I.replace(/;R\+=/g,"+").replace(/'\+'/g,""),n.optimize&&(I=I.replace(l,"$1$2")),n.debug&&console.log(I);try{m=new Function("S","F","$attr","X",I),O&&(m={W:[],F:m})}catch(N){throw"undefined"!=typeof console&&console.log("doTA compile error:"+I),N}return I=C=$=R=T=v=null,m},C:{},D:{},H:{}};return h.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1,diffLevel:2}),h}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}