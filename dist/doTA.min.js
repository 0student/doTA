String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var doTA={valid_chr:function(){for(var a={},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz$_",c=0;c<b.length;c++)a[b[c]]=1;return a}(),parse:function(a,b){"use strict";if(a){var c=a.match(/([<>]|[^<>]+)/g),d=0,e=function(a){return-1!==a.indexOf("&")?a.replace(/&gt;|&lt;|&amp;|&quot;/g,function(a){return{"&gt;":">","&lt;":"<","&amp;":"&","&quot;":'"'}[a]}):a};do if("<"===c[d])if(d++,"/"===c[d][0])b.onclosetag(c[d].slice(1));else if("!"===c[d][0])b.oncomment(c[d]);else{var f,g={},h=c[d],i=h.indexOf(" ");if(-1===i)f=h;else{f=h.slice(0,i);for(var j=h.length;++i<j;){var k,l,m=h.indexOf("=",i),n=h.slice(i,m),o=h[m+1];if('"'===o||"'"===o)l=h.indexOf(o,m+2),k=h.slice(m+2,l),g[n]=e(k),i=l+1;else{if(l=h.indexOf(" ",m+2),-1===l){k=h.slice(m+1),g[n]=e(k);break}if(0>m){g[n]="";break}k=h.slice(m+1,l),g[n]=e(k),i=l}}}b.onopentag(f,g)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]&&b.ontext(c[d]));while(++d<c.length)}},compile:function(E,O){"use strict";O=O||{};var val_mod=O.loose?"||''":"",self=this;O.encode&&(E=E.replace(/"[^"]*"|'[^']*'/g,function(a){return a.replace(/[<>]/g,function(a){return{">":"&gt;","<":"&lt;"}[a]})}));var Y=function(a,b){if(b){for(var c=b.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),d="",e=0;e<c.length;e++)if(!self.valid_chr[c[e][0]]||a[c[e]]||e&&"."===c[e-1][c[e-1].length-1])if(-1!==c[e].indexOf("$index")){for(var f=L;f>=0;f--)if(I[f]){d+=c[e].replace(/\$index/g,I[f]);break}}else d+=c[e];else d+="A."+c[e];return d}return b},N=function(a){if(a.indexOf("{{")>=0){for(var b=C(V),c=a.split(/\{\{|\}\}/),d=0;d<c.length;d+=2)c[d].indexOf("'")>=0&&(c[d]=c[d].replace(/'/g,"\\'"));for(var d=1;d<c.length-1;d+=2)c[d]=b(null,c[d]);return c.join("")}return a.indexOf("'")>=0?a.replace(/'/g,"\\'"):a},M=function(a){return a.replace(/\{\{([^}]+)\}\}/g,C(V))},C=function(a){return function(b,c){var d=c.indexOf("|");if(-1===d)return"'+("+Y(a,c)+val_mod+")+'";for(var e="|"===c[d+1]?c.match(/([^|]+(?:\|\|)?)+/g):c.split("|"),f=Y(a,e[0]),g=1;g<e.length;g++){var h=e[g].split(":");if(f="F('"+h.shift().trim()+"')("+f,h.length){for(var i=[],j=0;j<h.length;j++)i.push(Y(a,h[j]));f+=","+i.join(",")}f+=")";break}return"'+("+f+val_mod+")+'"}},D=function(a,b){var c=Array(a+2).join("    ");return b?c.slice(0,-2):c},L=0,T={},I={},V={},P,Q,R="[(function(A,F){";R+="var R='';",this.parse(E,{onopentag:function(a,b){var c,d={};for(var e in b){if("dota-pass"===e){P=L,Q=0;break}"dota-continue"===e&&(Q=L)}if(!P)for(var e in b)if("ng-repeat"===e){T[L]=T[L]?T[L]+1:1;var f="i"+L,g="l"+L,h=b[e].split(" in "),i=Y(V,h[1]);if(I[L]=f,-1!==h[0].indexOf(",")){var j=h[0].split(",");R+="var D"+L+"="+i+";",R+="for(var "+j[0]+" in D"+L+"){",R+="var "+j[1]+" = D"+L+"["+j[0]+"]; ",V[j[0]]=V[j[1]]=1}else R+="var D"+L+"="+i+","+f+"=-1,"+g+"=D"+L+".length;",R+="while(++"+f+"<"+g+"){",R+="var "+h[0]+"=D"+L+"["+f+"]; ",V[h[0]]=1,V.$index=1;delete b[e];break}if(!P||Q)for(var e in b)"-"===e[2]&&(/^ng-(?:src|alt|title|href)/.test(e)?(b[e.replace("ng-","")]=b[e],delete b[e]):"ng-if"===e?(T[L]=T[L]?T[L]+1:1,R+="if("+Y(V,b[e])+"){",delete b[e]):"ng-class"===e&&(R+="var s=[],n="+Y(V,b[e])+";",R+="for(var c in n){n[c]&&s.push(c);}",c=1,delete b[e]));for(var e in b){var k=b[e];if(c&&"class"===e)R+='s.push("'+k+'");';else if(d[e]='="'+N(k)+'"',-1!==d[e].indexOf("$index"))for(var l=L;l>=0;l--)if(I[l]){d[e]=d[e].replace(/\$index/g,"'+"+I[l]+"+'");break}}R+="R+='<"+a+(c?" class=\"'+s.join(' ')+'\"":"");for(var m in d)R+=" "+m+d[m];R+=">';",/^input|img|br|hr/i.test(a)||L++},onclosetag:function(a){for(R+="R+='</"+a+">';",L--;T[L]>0;)R+="}",T[L]--,I[L]=0;P&&P>=L&&(P=0)},ontext:function(a){-1!==a.indexOf("{{")&&(a=M(a)),R+=("R+='"+a.replace(/\s{2,}|\n/g," ")+"';").replace(/\+''|''\+/g,"")},oncomment:function(a){R+="R+='<"+a.replace(/'/g,"\\'")+">';"}}),R+="return R;})][0]",O.optimize&&(R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,"")),O.debug;var F=eval(R);return R=L=T=I=V=P=null,F},cache:{}};"undefined"!=typeof module&&module.exports&&(module.exports=doTA);