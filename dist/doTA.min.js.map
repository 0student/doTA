{"version":3,"sources":["doTA.js"],"names":["doTA","X","k","b","g","c","indexOf","closeTag","substring","comment","d","e","l","f","n","a","q","m","p","slice","length","replace","toLowerCase","openTag","voidTag","text","console","error","Y","R","toUpperCase","J","document","getElementById","substr","setAttribute","String","prototype","trim","this","Object","watch","unwatch","B","diff","H","firstChild","nodeType","nodeValue","diff2","lastIndexOf","charAt","u","innerHTML","parentNode","replaceChild","insertBefore","createTextNode","appendChild","diff3","t","K","w","removeChild","getId","G","D","initCH","compile","match","aa","ba","P","C","push","ca","S","L","loose","true","false","null","void","undefined","$index","F","$attr","M","N","Math","Date","Array","Infinity","NaN","var","in","y","Q","E","dotaRender","T","h","I","watchDiff","diffLevel","model","da","bind","ea","event","U","key","V","params","fa","W","strip","ga","encode","ha",">","<","r","x","z","skip","A","O","v","refresh","elif","ia","exec","style","value","ja","test","ka","la","id","expand","join","optimize","ma","debug","log","Function","Z","scroll","change","click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","keydown","keyup","keypress","submit","focus","blur","copy","cut","paste","_","$","i","j","o","s","createElement","module","exports","noop","time","timeEnd"],"mappings":"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","file":"doTA.min.js","sourcesContent":["var doTA = (function() {'use strict';\n\t/* for ie8 */\n\tif (!String.prototype.trim) {\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g,'');\n\t\t};\n\t}\n\n\t/* no, thanks! firefox */\n\tif (Object.prototype.watch) {\n\t\tdelete Object.prototype.watch;\n\t\tdelete Object.prototype.unwatch;\n\t}\n\n\tvar doTA = {\n\t\tdiff: diff1,\n\t\tdiff2: diff2,\n\t\tdiff3: diff3,\n\t\tgetId: getUniqueId,\n\t\tinitCH: initCompileHash,\n\t\tcompile: compileHTML,\n\t\t// PS: parseStyle,\n\t\tC: {}, //Cached compiled functions\n\t\tD: {}, //Cached DOM to be used by ngDoTA, needed here to prevent unneccessary rendering\n\t\tH: {} //HashMap for TextDiff\n\t};\n\n\t// pretty indent for debugging\n\tfunction indent(n, x) {\n\t\tvar ret = new Array(n + 2).join('    '); //4 spaces\n\t\treturn x ? ret.slice(0, -2 * x) : ret; //-2 spaces\n\t}\n\n\t// decode html entities\n\tfunction decodeEntities(text) {\n\t\treturn text.indexOf('&') < 0 ? text : text\n\t\t\t.replace(/&gt;/g, '>').replace(/&lt;/g, '<')\n\t\t\t.replace(/&amp;/g, '&').replace(/&quot;/g, '\"');\n\t}\n\n\t// parse attributes from html open tag and make dict object\n\tfunction parseAttr(chunk, func) {\n\t\tvar attr = {}, tagName;\n\t\tvar pos = chunk.indexOf(' ');\n\t\tvar spPos;\n\t\tvar len, attrName, attrVal;\n\t\tvar valStart, valEndPos;\n\n\t\tif (pos !== -1) {\n\t\t\ttagName = chunk.slice(0, pos);\n\t\t\tlen = chunk.length;\n\n\t\t\t//console.log(222, [pos, chunk]);\n\t\t\twhile (++pos < len) {\n\t\t\t\tvar eqPos = chunk.indexOf('=', pos);\n\t\t\t\t// console.log('chunk', [chunk, pos, eqPos, chunk.slice(pos)]);\n\n\t\t\t\t// ** attribute without value (last attribute) **\n\t\t\t\tif (eqPos === -1) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tspPos = chunk.indexOf(' ', pos);\n\t\t\t\t\t\tif (spPos > 0) {\n\t\t\t\t\t\t\tattrName = chunk.slice(pos, spPos);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tattrName = chunk.slice(pos);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log('eqPos === -1', [attrName, pos, chunk])\n\t\t\t\t\t\tif (attrName !== '/') {\n\t\t\t\t\t\t\tattr[attrName] = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpos = spPos + 1;\n\n\t\t\t\t\t} while (spPos > 0);\n\t\t\t\t\t//attr required will be required=\"\", while is valid syntax\n\t\t\t\t\t//http://www.w3.org/TR/html-markup/syntax.html#syntax-attr-empty\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\n\t\t\t\tspPos = chunk.indexOf(' ', pos);\n\t\t\t\t// console.log('chunk', [chunk, eqPos, pos, spPos, chunk.slice(pos, spPos)]);\n\n\t\t\t\tif (spPos > 0 && spPos < eqPos) {\n\t\t\t\t\tattr[chunk.slice(pos, spPos)] = \"\";\n\t\t\t\t\tpos = spPos;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//console.log(33, [eqPos]);\n\t\t\t\tattrName = chunk.slice(pos, eqPos);\n\t\t\t\t//console.log(331, [attrName]);\n\n\t\t\t\tvalStart = chunk[eqPos + 1];\n\t\t\t\t//console.log(332, [valStart]);\n\n\t\t\t\t//if attribute value is start with quote\n\t\t\t\tif (valStart === '\"' || valStart === \"'\") {\n\t\t\t\t\tvalEndPos = chunk.indexOf(valStart, eqPos + 2);\n\t\t\t\t\tif (valEndPos < 0) { throw 'ERR:Invalid HTML: [' + chunk + ']'; }\n\n\t\t\t\t\tattrVal = chunk.slice(eqPos + 2, valEndPos);\n\t\t\t\t\tattr[attrName] =0>attrVal.indexOf(\"&\")?attrVal:attrVal.replace(/&gt;/g,\">\").replace(/&lt;/g,\"<\").replace(/&amp;/g,\"&\").replace(/&quot;/g,'\"'); //INLINE;\n\t\t\t\t\tpos = valEndPos + 1;\n\t\t\t\t\t//console.log(311, [valEndPos, attrName, attrVal]);\n\t\t\t\t} else {\n\n\t\t\t\t\tvalEndPos = chunk.indexOf(' ', eqPos + 2);\n\n\t\t\t\t\t//when no more attributes\n\t\t\t\t\tif (valEndPos < 0) {\n\t\t\t\t\t\tattrVal = chunk.slice(eqPos + 1);\n\t\t\t\t\t\tattr[attrName] =0>attrVal.indexOf(\"&\")?attrVal:attrVal.replace(/&gt;/g,\">\").replace(/&lt;/g,\"<\").replace(/&amp;/g,\"&\").replace(/&quot;/g,'\"'); //INLINE;\n\t\t\t\t\t\t//console.log(442, [attrVal]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattrVal = chunk.slice(eqPos + 1, valEndPos);\n\t\t\t\t\t\tattr[attrName] =0>attrVal.indexOf(\"&\")?attrVal:attrVal.replace(/&gt;/g,\">\").replace(/&lt;/g,\"<\").replace(/&amp;/g,\"&\").replace(/&quot;/g,'\"'); //INLINE;\n\t\t\t\t\t\t//console.log(313, [eqPos, valEndPos, attrVal]);\n\t\t\t\t\t\tpos = valEndPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttagName = tagName.toLowerCase();\n\t\t\tif (tagName === 'input' || tagName === 'img') {\n\t\t\t\t//http://www.w3.org/TR/html-markup/syntax.html\n\t\t\t\t//area, base, br, col, command, embed, hr, img, input, keygen, link, meta, param, source, track, wbr\n\t\t\t\tfunc.openTag(tagName, attr, 1);\n\t\t\t\tfunc.voidTag();\n\t\t\t} else if (attrName === '/') {\n\t\t\t\tfunc.openTag(tagName, attr);\n\t\t\t\tfunc.closeTag(tagName);\n\t\t\t} else {\n\t\t\t\tfunc.openTag(tagName, attr);\n\t\t\t}\n\n\t\t// no attributes\n\t\t} else {\n\n\t\t\t// self closing, explicit\n\t\t\tif (chunk[chunk.length - 1] === '/') {\n\t\t\t\ttagName = chunk.slice(0, -1).toLowerCase();\n\n\t\t\t\tif (tagName === 'br' || tagName === 'hr') {\n\t\t\t\t\tfunc.openTag(tagName, attr, 1);\n\t\t\t\t\tfunc.voidTag();\n\t\t\t\t} else {\n\t\t\t\t\tfunc.openTag(tagName, attr);\n\t\t\t\t\tfunc.closeTag(tagName);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttagName = chunk.toLowerCase();\n\n\t\t\t\t// self closing, implicit\n\t\t\t\tif (tagName === 'br' || tagName === 'hr') {\n\t\t\t\t\tfunc.openTag(tagName, attr, 1);\n\t\t\t\t\tfunc.voidTag();\n\t\t\t\t} else {\n\t\t\t\t\tfunc.openTag(tagName, attr);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//http://jsperf.com/object-key-vs-array-indexof-lookup/6\n\t//var events = ' scroll change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste '\n\tvar EVENTS = {\"scroll\":1,\"change\":1,\"click\":1,\"dblclick\":1,\"mousedown\":1,\"mouseup\":1,\"mouseover\":1,\"mouseout\":1,\"mousemove\":1,\"mouseenter\":1,\"mouseleave\":1,\"keydown\":1,\"keyup\":1,\"keypress\":1,\"submit\":1,\"focus\":1,\"blur\":1,\"copy\":1,\"cut\":1,\"paste\":1};\n\t//no unicode supportedgit\n\t// var valid_chr = '_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\tvar VALID_CHARS = {\"_\":1,\"$\":1,\"a\":1,\"b\":1,\"c\":1,\"d\":1,\"e\":1,\"f\":1,\"g\":1,\"h\":1,\"i\":1,\"j\":1,\"k\":1,\"l\":1,\"m\":1,\"n\":1,\"o\":1,\"p\":1,\"q\":1,\"r\":1,\"s\":1,\"t\":1,\"u\":1,\"v\":1,\"w\":1,\"x\":1,\"y\":1,\"z\":1,\"A\":1,\"B\":1,\"C\":1,\"D\":1,\"E\":1,\"F\":1,\"G\":1,\"H\":1,\"I\":1,\"J\":1,\"K\":1,\"L\":1,\"M\":1,\"N\":1,\"O\":1,\"P\":1,\"Q\":1,\"R\":1,\"S\":1,\"T\":1,\"U\":1,\"V\":1,\"W\":1,\"X\":1,\"Y\":1,\"Z\":1};\n\n\t// minimal stripped down html parser\n\tfunction parseHTML(html, func) {\n\t\tif (!html) { return; }\n\t\tvar prevPos = 0, pos = html.indexOf('<');\n\t\tdo {\n\t\t\tif (html[pos] === '<') {\n\t\t\t\tpos++;\n\t\t\t\tif (html[pos] === '/') {\n\t\t\t\t\tprevPos = ++pos;\n\t\t\t\t\tpos = html.indexOf('>', prevPos);\n\t\t\t\t\t//close tag must be like </div>, but not <div />\n\t\t\t\t\t// console.log(['closetag', prevPos, pos, html.substring(prevPos, pos)])\n\t\t\t\t\tfunc.closeTag(html.substring(prevPos, pos));\n\t\t\t\t} else if (html[pos] === '!') {\n\t\t\t\t\tprevPos = pos;\n\t\t\t\t\tpos = html.indexOf('-->', prevPos);\n\t\t\t\t\t//console.log(['comment', prevPos, pos, html.substring(prevPos, pos + 2)]);\n\t\t\t\t\tfunc.comment(html.substring(prevPos, pos + 2));\n\t\t\t\t\tpos += 2;\n\t\t\t\t} else {\n\t\t\t\t\tprevPos = pos;\n\t\t\t\t\tpos = html.indexOf('>', prevPos);\n\t\t\t\t\t// console.log(['opentag', prevPos, pos, html.substring(prevPos, pos), parseAttr(html.substring(prevPos, pos))])\n\t\t\t\t\tparseAttr(html.substring(prevPos, pos), func);\n\t\t\t\t}\n\t\t\t} else if (html[pos] === '>') { //&& html[pos + 1] !== '<'\n\t\t\t\tprevPos = ++pos;\n\t\t\t\tpos = html.indexOf('<', prevPos);\n\t\t\t\tif (pos > prevPos) {\n\t\t\t\t\t// console.log(['text', prevPos, pos, html.substring(prevPos, pos)])\n\t\t\t\t\tfunc.text(html.substring(prevPos, pos));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (prevPos === 0 && pos < 0 && html) {\n\t\t\t\t\tfunc.text(html);\n\t\t\t\t} else {\n\t\t\t\t\t/** */console.error('Parse ERR?', [prevPos, pos, html, html.substring(prevPos, pos), html.slice(pos)]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t} while (pos > 0);\n\t}\n\n\t//diff and patch dom with exact same structure\n\tfunction diff1(prevKey, html2) {\n\t\tvar html1 = doTA.H[prevKey];\n\t\tvar prevPos1 = 0, pos1 = html1.indexOf('<');\n\t\tvar prevPos2 = 0, pos2 = html2.indexOf('<');\n\t\tvar tagId = '', elem, part1, part2;\n\t\tvar posx, endPosx;\n\n\t\tdo {\n\t\t\tif (html1[pos1] === \"<\") {\n\t\t\t\tpos1++;\n\t\t\t\tpos2++;\n\t\t\t\tif (html1[pos1] === \"/\" || html1[pos1] === \"!\") {\n\t\t\t\t\t//don't patch comment node and close tag.\n\t\t\t\t\tpos1 = html1.indexOf('>', pos1);\n\t\t\t\t\tpos2 = html2.indexOf('>', pos2);\n\t\t\t\t} else {\n\t\t\t\t\tprevPos1 = pos1;\n\t\t\t\t\tprevPos2 = pos2;\n\t\t\t\t\tpos1 = html1.indexOf('>', prevPos1);\n\t\t\t\t\tpos2 = html2.indexOf('>', prevPos2);\n\t\t\t\t\tpart1 = html1.substring(prevPos1, pos1);\n\t\t\t\t\tpart2 = html2.substring(prevPos2, pos2);\n\t\t\t\t\t//attributes\n\t\t\t\t\tif (part1 !== part2) {\n\t\t\t\t\t\t// console.log('openTag', [part1, part2])\n\t\t\t\t\t\ttagId = parsePatchAttr(part1, part2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//record id\n\t\t\t\t\t\t//tagId = getTagId(part1);\n\t\t\t\t\t\tposx = part1.indexOf(' id=\"');\n\t\t\t\t\t\t0 <= posx && (posx += 5, endPosx = part1.indexOf('\"', posx), tagId = part1.substring(posx, endPosx)); //jshint ignore: line\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//text node\n\t\t\t} else if (html1[pos1] === '>') {\n\t\t\t\tprevPos1 = ++pos1;\n\t\t\t\tprevPos2 = ++pos2;\n\n\t\t\t\tpos1 = html1.indexOf('<', prevPos1);\n\t\t\t\tpos2 = html2.indexOf('<', prevPos2);\n\t\t\t\t//textNode, only support firstChild here\n\t\t\t\tif (pos2 > prevPos2) {\n\t\t\t\t\tvar text1 = html1.substring(prevPos1, pos1);\n\t\t\t\t\tvar text2 = html2.substring(prevPos2, pos2);\n\t\t\t\t\tif (text1 !== text2) {\n\t\t\t\t\t\telem = document.getElementById(tagId);\n\t\t\t\t\t\tif (elem) {\n\t\t\t\t\t\t\tif (elem.firstChild && elem.firstChild.nodeType === 3) {\n\t\t\t\t\t\t\t\t// console.log('textApplied', [text1, text2]);\n\t\t\t\t\t\t\t\telem.firstChild.nodeValue = text2;\n\t\t\t\t\t\t\t} //else to log something?\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('tag not found', [tagId]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} while(pos1 > 0);\n\t}\n\n\t// find position of outerHTML end\n\t// this function will be inline during building\n\tfunction getOuterHTMLEnd(HTML, START_POS) {\n\t\tvar LVL = 1, POS = START_POS;\n\t\tfor(;;) {\n\t\t\tPOS = HTML.indexOf('>', POS);\n\t\t\tif (HTML[POS - 1] === '/') { //self closing\n\t\t\t\tLVL--;\n\t\t\t\tif (LVL <= 0) break;\n\t\t\t}\n\t\t\tPOS = HTML.indexOf('<', POS);\n\t\t\tif (HTML[POS + 1] === '/') {\n\t\t\t\tLVL--;\n\t\t\t\tif (LVL <= 0) {\n\t\t\t\t\tPOS = HTML.indexOf('>', POS + 2);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (HTML[POS + 1] !== '!') {\n\t\t\t\tLVL++;\n\t\t\t}\n\t\t\t// console.log('LVL', LVL);\n\t\t}\n\n\t\t// console.log('getOutHTML', tagName, [tagName, pos2, pos2, ])\n\t\treturn ++POS;\n\t}\n\n\t//less memory usage with this, javascript is single threaded anyway\n\tvar newNode = typeof document !== 'undefined' && document.createElement('div');\n\n\t// FlatDOM: diff html as text and patch dom nodes\n\tfunction diff2(prevKey, html2) {\n\t\tvar html1 = doTA.H[prevKey];\n\t\tvar prevPos1 = 0, pos1 = html1.indexOf('<');\n\t\tvar prevPos2 = 0, pos2 = html2.indexOf('<');\n\t\tvar tagId1, tagId2, elem1, part1, part2;\n\t\t// var tagNo1 = 0, tagNo2 = 0;\n\t\tvar tagStartPos1, tagStartPos2;\n\t\tvar LVL; //this is needed for fnInline\n\t\t// console.log(html1);\n\t\t// console.log(html2);\n\n\t\tfor (;;) {\n\t\t\t// console.log('before', [dirty1, dirty2], [tagId1, tagId2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\tif (pos1 >= 0) {\n\t\t\t\tpos1 = html1.indexOf(' id=\"', pos1);\n\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\tprevPos1 = pos1 + 5;\n\t\t\t\t\tpos1 = html1.indexOf('\"', prevPos1);\n\t\t\t\t\ttagId1 = html1.substring(prevPos1, pos1);\n\t\t\t\t\t// tagNo1 = tagId1^0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log('middle', [tagId1, tagId2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\tif (pos2 >= 0) {\n\t\t\t\tpos2 = html2.indexOf(' id=\"', pos2);\n\t\t\t\tif (pos2 > 0) {\n\t\t\t\t\tprevPos2 = pos2 + 5;\n\t\t\t\t\tpos2 = html2.indexOf('\"', prevPos2);\n\t\t\t\t\ttagId2 = html2.substring(prevPos2, pos2);\n\t\t\t\t\t// tagNo2 = tagId2^0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log('after', [dirty1, dirty2], [tagId1, tagId2],\n\t\t\t//\t [pos1, pos2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\t//exist inifite loop\n\t\t\tif (pos1 < 0 || pos2 < 0) break;\n\n\t\t\t//same node\n\t\t\tif (tagId1 === tagId2) {\n\t\t\t\ttagStartPos1 = ++pos1;\n\t\t\t\tpos1 = html1.indexOf('>', pos1);\n\t\t\t\tpart1 = html1.substring(tagStartPos1, pos1);\n\n\t\t\t\ttagStartPos2 = ++pos2;\n\t\t\t\tpos2 = html2.indexOf('>', pos2);\n\t\t\t\tpart2 = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t// console.log('same node', [part1, part2]);\n\n\t\t\t\t//attr really different\n\t\t\t\tif (part1 !== part2) {\n\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\tif (elem1) {\n\t\t\t\t\t\t//nodes to be inserted or deleted\n\t\t\t\t\t\tif ((part1.substr(1, 6) === 'hidden') !== (part2.substr(1, 6) === 'hidden')) {\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\t// tagStartPos1 = html1.lastIndexOf('<', pos1 - 6);\n\t\t\t\t\t\t\t// console.warn('replaceChild', [tagId2, tagId1], [\n\t\t\t\t\t\t\t//\t html2.substring(tagStartPos2, getOuterHTMLEnd(html2, tagStartPos2)),\n\t\t\t\t\t\t\t//\t html1.substring(tagStartPos1, getOuterHTMLEnd(html1, pos1))]);\n\n\t\t\t\t\t\t\telem1.parentNode.replaceChild(newNode.firstChild, elem1);\n\n\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\n\t\t\t\t\t\t//only attribute changes\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparsePatchAttr(part1, part2, elem1);\n\t\t\t\t\t\t\t// console.warn('patch node', [tagId1, tagId2], [pos1, pos2], [tagStartPos1, tagStartPos2], [part1, part2])\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('elem not found', [tagId1, tagId2], [part1, part2]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//clear node for textNode\n\t\t\t\t\telem1 = void 0;\n\t\t\t\t}\n\n\t\t\t\t//if blank text node, skip early\n\t\t\t\tif (html1[pos1 + 1] === '<' && html2[pos2 + 1] === '<') {\n\t\t\t\t\tpos1++;\n\t\t\t\t\tpos2++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tprevPos1 = pos1;\n\t\t\t\tpos1 = html1.indexOf('<', prevPos1);\n\t\t\t\tpart1 = html1.substring(prevPos1 + 1, pos1);\n\t\t\t\tprevPos2 = pos2;\n\t\t\t\tpos2 = html2.indexOf('<', prevPos2);\n\t\t\t\tpart2 = html2.substring(prevPos2 + 1, pos2);\n\n\t\t\t\t//for text node really diff\n\t\t\t\tif (part1 !== part2) {\n\t\t\t\t\t// console.log('text diff', [tagId1, tagId2], [part1, part2]);\n\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\tconsole.error('node not found', [tagId1, tagId2], [part1, part2], [html1.substr(pos1, 15), html2.substr(pos2, 15)], [html1, html2]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// console.log('part1,2', [part1, part2]);\n\t\t\t\t\tif (elem1.firstChild) {\n\t\t\t\t\t\t//overwrite textNode value\n\t\t\t\t\t\tif (elem1.firstChild.nodeType === 3) {\n\t\t\t\t\t\t\telem1.firstChild.nodeValue = part2;\n\t\t\t\t\t\t\t// console.warn('textNode overwritten', elem1, elem1.firstChild)\n\n\t\t\t\t\t\t//not textNode, so, insertBefore\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem1.insertBefore(document.createTextNode(part2), elem1.firstChild);\n\t\t\t\t\t\t\t// console.warn('textNode inserted', elem1, elem1.firstChild)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t//no childNodes, so append one\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem1.appendChild(document.createTextNode(part2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.error(\"different Id - not supported for now!\", [tagId1, tagId2]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t} //infinite loop\n\n\t}\n\n\t// diff3: no place holder nodes\n\tfunction diff3(prevKey, html2) {\n\t\tvar html1 = doTA.H[prevKey];\n\t\tvar part1, part2, elem1;\n\t\tvar prevPos1, lastPos1, pos1 = html1.indexOf('<');\n\t\tvar prevPos2, lastPos2, pos2 = html2.indexOf('<');\n\t\tvar tagId1, tagId2, prevTagId1, prevTagId2;\n\t\tvar tagNo1, tagNo2, subNo1, subNo2, dotPos1, dotPos2;\n\t\tvar tagStartPos1, tagStartPos2;\n\t\tvar LVL; // jshint ignore:line\n\t\t// console.log(html1);\n\t\t// console.log(html2);\n\t\t// var logger = [];\n\n\t\tfor (;;) {\n\t\t\t// console.log('before', [dirty1, dirty2], [tagId1, tagId2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\tif (pos1 >= 0) {\n\t\t\t\tlastPos1 = pos1;\n\t\t\t\tpos1 = html1.indexOf(' id=\"', pos1);\n\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\tprevPos1 = pos1 + 5;\n\t\t\t\t\tpos1 = html1.indexOf('\"', prevPos1);\n\t\t\t\t\tprevTagId1 = tagId1;\n\t\t\t\t\ttagId1 = html1.substring(prevPos1, pos1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log('middle', [tagId1, tagId2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\tif (pos2 >= 0) {\n\t\t\t\tlastPos2 = pos2;\n\t\t\t\tpos2 = html2.indexOf(' id=\"', pos2);\n\t\t\t\tif (pos2 > 0) {\n\t\t\t\t\tprevPos2 = pos2 + 5;\n\t\t\t\t\tpos2 = html2.indexOf('\"', prevPos2);\n\t\t\t\t\tprevTagId2 = tagId2;\n\t\t\t\t\ttagId2 = html2.substring(prevPos2, pos2);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log('after', [dirty1, dirty2], [tagId1, tagId2],\n\t\t\t//\t [pos1, pos2], [html1.substr(pos1, 20), html2.substr(pos2, 20)]);\n\n\t\t\t//exist infinite loop\n\t\t\tif (pos1 < 0 && pos2 < 0) break;\n\n\t\t\t//same node\n\t\t\tif (tagId1 === tagId2) {\n\t\t\t\ttagStartPos1 = ++pos1;\n\t\t\t\tpos1 = html1.indexOf('>', pos1);\n\t\t\t\tpart1 = html1.substring(tagStartPos1, pos1);\n\n\t\t\t\ttagStartPos2 = ++pos2;\n\t\t\t\tpos2 = html2.indexOf('>', pos2);\n\t\t\t\tpart2 = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t// console.log('same node', [part1, part2]);\n\n\t\t\t\t//attr really different\n\t\t\t\tif (part1 !== part2) {\n\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\tif (elem1) {\n\t\t\t\t\t\t//nodes to be inserted or deleted\n\t\t\t\t\t\tif ((part1.substr(1, 6) === 'hidden') !== (part2.substr(1, 6) === 'hidden')) {\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\t// tagStartPos1 = html1.lastIndexOf('<', pos1 - 6);\n\t\t\t\t\t\t\t// console.warn('replaceChild', [tagId2, tagId1], [\n\t\t\t\t\t\t\t//\t html2.substring(tagStartPos2, getOuterHTMLEnd(html2, tagStartPos2)),\n\t\t\t\t\t\t\t//\t html1.substring(tagStartPos1, getOuterHTMLEnd(html1, pos1))]);\n\n\t\t\t\t\t\t\telem1.parentNode.replaceChild(newNode.firstChild, elem1);\n\n\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\n\t\t\t\t\t\t//only attribute changes\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparsePatchAttr(part1, part2, elem1);\n\t\t\t\t\t\t\t// console.warn('patch node', [tagId1, tagId2], [pos1, pos2], [tagStartPos1, tagStartPos2], [part1, part2])\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('elem not found', [tagId1, tagId2], [part1, part2]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//clear node for textNode\n\t\t\t\t\telem1 = void 0;\n\t\t\t\t}\n\n\t\t\t\t//if blank text node, skip early\n\t\t\t\tif (html1[pos1 + 1] === '<' && html2[pos2 + 1] === '<') {\n\t\t\t\t\tpos1++;\n\t\t\t\t\tpos2++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tprevPos1 = pos1;\n\t\t\t\tpos1 = html1.indexOf('<', prevPos1);\n\t\t\t\tpart1 = html1.substring(prevPos1 + 1, pos1);\n\t\t\t\tprevPos2 = pos2;\n\t\t\t\tpos2 = html2.indexOf('<', prevPos2);\n\t\t\t\tpart2 = html2.substring(prevPos2 + 1, pos2);\n\n\t\t\t\t//for text node really diff\n\t\t\t\tif (part1 !== part2) {\n\t\t\t\t\t// console.log('text diff', [tagId1, tagId2], [part1, part2]);\n\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\tconsole.error('node not found', [tagId1, tagId2], [part1, part2], [html1.substr(pos1, 15), html2.substr(pos2, 15)], [html1, html2]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// console.log('part1,2', [part1, part2]);\n\t\t\t\t\tif (elem1.firstChild) {\n\t\t\t\t\t\t//overwrite textNode value\n\t\t\t\t\t\tif (elem1.firstChild.nodeType === 3) {\n\t\t\t\t\t\t\telem1.firstChild.nodeValue = part2;\n\t\t\t\t\t\t\t// console.warn('textNode overwritten', elem1, elem1.firstChild)\n\n\t\t\t\t\t\t//not textNode, so, insertBefore\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem1.insertBefore(document.createTextNode(part2), elem1.firstChild);\n\t\t\t\t\t\t\t// console.warn('textNode inserted', elem1, elem1.firstChild)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t//no childNodes, so append one\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem1.appendChild(document.createTextNode(part2));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t//when id is different\n\t\t\t} else {\n\n\t\t\t\tdotPos1 = tagId1.indexOf('.');\n\t\t\t\ttagNo1 = tagId1.slice(0, dotPos1) ^ 0;\n\t\t\t\tdotPos2 = tagId1.indexOf('.', ++dotPos1);\n\t\t\t\tsubNo1 = dotPos2 > 0 && tagId1.slice(dotPos1, dotPos2) ^ 0;\n\n\t\t\t\tdotPos2 = tagId2.indexOf('.');\n\t\t\t\ttagNo2 = tagId2.slice(0, dotPos2) ^ 0;\n\t\t\t\tdotPos1 = tagId2.indexOf('.', ++dotPos2);\n\t\t\t\tsubNo2 = dotPos1 > 0 && tagId2.slice(dotPos2, dotPos1) ^ 0;\n\n\t\t\t\tif (prevTagId1 === prevTagId2 && pos1 > 0 && pos2 > 0) {\n\n\t\t\t\t\t//[\"6.1\", \"5.7.1\"] [\"5.6.1\", \"5.6.1\"]\n\t\t\t\t\t//horizontal scroll left to right, appending nodes\n\t\t\t\t\tif (tagNo1 > tagNo2) {\n\n\t\t\t\t\t\t//removeChild bottom down 111.1 [\"111.1\", \"16.1\"] [\"15.6.1\", \"15.6.1\"] [10070, 2106]\n\t\t\t\t\t\tif (subNo2) {\n\t\t\t\t\t\t\t//[\"146.1\", \"145.12681.1\"] [\"145.1\", \"145.1\"] [\"<div id=\"145.12681.1\" class=\"cell\" style=\"width:125px\" col=\"2536\">0.7734284962061793</div>\"]\n\t\t\t\t\t\t\t//[\"116.1\", \"115.12.1\"] [\"115.11.1\", \"115.11.1\"] [\"<div id=\"115.12.1\" class=\"cell\" style=\"width:125px;\"></div>\"]\n\t\t\t\t\t\t\telem1 = document.getElementById(tagNo2 + '.' + prevKey);\n\t\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\t\t//resize bottom down - bigger\n\t\t\t\t\t\t\t\t//[111, 15] [false, false] [\"111.1\", \"15.1\"] [\"14.6.1\", \"14.6.1\"] [1896, 1871]\n\t\t\t\t\t\t\t\tconsole.error(\"no existing node 5\", [tagId1, tagId2], [prevTagId1, prevTagId2], [subNo1, subNo2], [pos1, pos2]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\t\telem1.appendChild(newNode.firstChild);\n\t\t\t\t\t\t\t\t// console.info(\"prevTagId2.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\t\tpos1 = lastPos1;\n\t\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//not impl [\"111.1\", \"15.1\"] [\"14.6.1\", \"14.6.1\"] [1896, 1871]\n\t\t\t\t\t\t// [\"36.1\", \"111.1\"] [\"35.6.1\", \"35.6.1\"] [6872, 6897]\n\t\t\t\t\t\t} else if (!subNo1) { //&& !subNo2\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\telem1 = document.getElementById(prevTagId2.slice(0, prevTagId2.indexOf('.') + 1) + prevKey);\n\t\t\t\t\t\t\telem1.parentNode.appendChild(newNode.firstChild);\n\t\t\t\t\t\t\t// console.info(\"prevTagId2.parentNode.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [subNo1, subNo2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\tpos1 = lastPos1;\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn(\"not impl\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// [5, 6] [24, false] [\"5.24.1\", \"6.1\"] [\"5.23.1\", \"5.23.1\"] [673, 770]\n\t\t\t\t\t} else if (tagNo1 < tagNo2) {\n\n\t\t\t\t\t\t// [5, 6] [24, false] [\"5.24.1\", \"6.1\"] [\"5.23.1\", \"5.23.1\"] [673, 770]\n\t\t\t\t\t\t//\t[\"35.1\", \"111.1\"] [\"34.6.1\", \"34.6.1\"] [6961, 6986]\n\t\t\t\t\t\tif (!subNo2) {\n\t\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\t\tconsole.warn(\"no existing node 4\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem1.parentNode.removeChild(elem1);\n\t\t\t\t\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.warn(\"removeChild bottom down\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t\t\t// logger.push([\"removeChild[first]\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [html2.substring(tagStartPos2, pos2)]]);\n\t\t\t\t\t\t\t\tpos2 = lastPos2;\n\t\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn(\"not impl\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t//same level\n\t\t\t\t\t} else if (tagNo1 === tagNo2) {\n\n\t\t\t\t\t\t// [5, 5] [1, 2] [\"5.1.1\", \"5.2.1\"] [\"5.1\", \"5.1\"] [229, 227]\n\t\t\t\t\t\tif ( subNo1 < subNo2 ) {\n\t\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\t\tconsole.warn([\"no existing node 4\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem1.parentNode.removeChild(elem1);\n\t\t\t\t\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.warn(\"removeChild bottom down\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t\t\t// logger.push([\"removeChild[backward.last]\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [html2.substring(tagStartPos2, pos2)]]);\n\t\t\t\t\t\t\t\tpos2 = lastPos2;\n\t\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//[5, 5] [19, 18] [\"5.19.1\", \"5.18.1\"] [\"5.1\", \"5.1\"] [229, 231]\n\t\t\t\t\t\t} else if ( subNo1 > subNo2 ) {\n\t\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\telem1.parentNode.insertBefore(newNode.firstChild, elem1);\n\t\t\t\t\t\t\t// logger.push([\"this.insertBefore[elem1]\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]]);\n\n\t\t\t\t\t\t\tpos1 = lastPos1;\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2; //check later\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn('not impl', [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} //same parent\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.warn('not impl', [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t}\n\n\t\t\t\t} //prevTagId1 === prevTagId2\n\n\n\n\t\t\t\t//end of previous html\n\t\t\t\telse if (pos1 < 0) {\n\n\t\t\t\t\t// ######## [\"28.9.1\", \"28.10.1\"] [\"28.8.1\", \"28.9.1\"] [-1, 16911]\n\t\t\t\t\tif ( tagNo1 === tagNo2) {\n\n\t\t\t\t\t\t// [\"28.9.1\", \"28.10.1\"] [\"28.8.1\", \"28.9.1\"] [-1, 16911]\n\t\t\t\t\t\tif (subNo1 < subNo2 ) {\n\t\t\t\t\t\t\telem1 = document.getElementById(tagNo2 + '.' + prevKey);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\telem1.appendChild(newNode.firstChild);\n\t\t\t\t\t\t\t// console.info(\"this.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn('not impl', [tagNo1, tagNo2], [subNo1, subNo2], [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (tagNo1 < tagNo2) {\n\n\t\t\t\t\t\t//prevTagId2 is a children\n\t\t\t\t\t\t// [126, 127] [66, false] [\"126.66.1\", \"127.1\"] [\"126.61.1\", \"126.66.1\"] [-1, 13065]\n\t\t\t\t\t\tif (prevTagId2.indexOf('.') !== prevTagId2.lastIndexOf('.')) {\n\t\t\t\t\t\t\t//not impl1 pos1 < 0 [14, 15] [6, false] [\"14.6.1\", \"15.1\"] [\"14.6.1\", \"14.6.1\"] [-1, 1950]\n\t\t\t\t\t\t\telem1 = document.getElementById(prevTagId2.slice(0, prevTagId2.indexOf('.') + 1) + prevKey);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\t\t\t\t\t\t\t// console.info(\"prevTagId2.parent.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\telem1.parentNode.appendChild(newNode.firstChild);\n\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t//this is children but prevTagId2 is parent\n\t\t\t\t\t\t//not impl [143, 144] [false, 499946] [\"143.1\", \"144.499946.1\"] [\"143.1\", \"144.1\"] [-1, 37542]\n\t\t\t\t\t\t} else if (subNo2) {\n\t\t\t\t\t\t\telem1 = document.getElementById(prevTagId2);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\t\t\t\t\t\t\t// console.info(\"prevTagId2.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\telem1.appendChild(newNode.firstChild);\n\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t//this and prevTagId2 is not children\n\t\t\t\t\t\t//not impl [125, 126] [false, false] [\"125.1\", \"126.1\"] [\"125.1\", \"125.1\"] [-1, 3444] [\" class=\"row odd blue\" row=\"5\"></div><div id=\"126.1\"]\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t//////////// EXCEPTIONAL CASE : this is ambiguous, can't figure out new element a child or sibling of previousNode with current design :(\n\t\t\t\t\t\t\t//120 [\"119.1\", \"120.1\"] [\"118.1\", \"119.1\"] [119, 120] [-1, 3695]\n\n\t\t\t\t\t\t\telem1 = document.getElementById(prevTagId2);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\t\t\t\t\t\t\t// console.info(\"prevTagId2.parent.appendChild\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\n\t\t\t\t\t\t\telem1.parentNode.appendChild(newNode.firstChild);\n\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\t// console.warn('not impl', [tagNo1, tagNo2], [subNo1, subNo2], [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('not impl', [tagNo1, tagNo2], [subNo1, subNo2], [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\t//end of new html\n\t\t\t\telse if (pos2 < 0) {\n\n\t\t\t\t\t//same base id\n\t\t\t\t\tif (tagNo1 === tagNo2) {\n\n\t\t\t\t\t\t// [28, 28] [undefined, 13] [\"28.1\", \"28.13.1\"] [\"28.1\", \"28.1\"] [-1, 12127]\n\t\t\t\t\t\tif (subNo1 < subNo2) {\n\t\t\t\t\t\t\telem1 = document.getElementById(prevTagId2);\n\n\t\t\t\t\t\t\ttagStartPos2 = html2.lastIndexOf('<', pos2 - 6);\n\t\t\t\t\t\t\tLVL=1,pos2=tagStartPos2;for(;;){pos2=html2.indexOf(\">\",pos2);if(\"/\"===html2.charAt(pos2-1)&&(LVL--,0>=LVL))break;pos2=html2.indexOf(\"<\",pos2);if(\"/\"===html2.charAt(pos2+1)){if(LVL--,0>=LVL){pos2=html2.indexOf(\">\",pos2+2);break}}else\"!\"!==html2.charAt(pos2+1)&&LVL++}pos2++; //INLINE\n\t\t\t\t\t\t\tnewNode.innerHTML = html2.substring(tagStartPos2, pos2);\n\n\t\t\t\t\t\t\telem1.appendChild(newNode.firstChild);\n\t\t\t\t\t\t\t// logger.push([\"appendChild[parent.last]2<0\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]]);\n\n\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t//[28, 28] [27, 26] [\"28.27.1\", \"28.26.1\"] [\"28.26.1\", \"28.25.1\"] [12548, -1]\n\t\t\t\t\t\t} else if (subNo1 > subNo2) {\n\n\t\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\t\tif (!elem1) {\n\t\t\t\t\t\t\t\tconsole.warn([\"no existing node 4\", [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem1.parentNode.removeChild(elem1);\n\t\t\t\t\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.warn(\"removeChild bottom down\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\n\t\t\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn('not impl3 pos2 < 0', [tagNo1, tagNo2], [subNo1, subNo2], [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2], [html2.substring(tagStartPos2, pos2)]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t//not impl [\"146.1\", \"145.66.1\"] [\"145.66.1\", \"145.61.1\"] [39591, -1]\n\t\t\t\t\t//not impl [\"145.1\", \"144.66.1\"] [\"144.66.1\", \"144.61.1\"] [38200, -1]\n\t\t\t\t\t//not impl [\"144.1\", \"143.66.1\"] [\"143.66.1\", \"143.61.1\"] [36747, -1]\n\t\t\t\t\t//resize bottom up - make smaller\n\t\t\t\t\t} else if (tagNo1 > tagNo2) {\n\t\t\t\t\t\telem1 = document.getElementById(tagId1);\n\t\t\t\t\t\telem1.parentNode.removeChild(elem1);\n\t\t\t\t\t\tif (pos1 > 0) {\n\t\t\t\t\t\t\tLVL=1,pos1=pos1;for(;;){pos1=html1.indexOf(\">\",pos1);if(\"/\"===html1.charAt(pos1-1)&&(LVL--,0>=LVL))break;pos1=html1.indexOf(\"<\",pos1);if(\"/\"===html1.charAt(pos1+1)){if(LVL--,0>=LVL){pos1=html1.indexOf(\">\",pos1+2);break}}else\"!\"!==html1.charAt(pos1+1)&&LVL++}pos1++; //INLINE\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.warn(\"removeChild bottom down\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t\t// logger.push([\"removeChild[backward.last]\", tagId1, [tagId1, tagId2], [prevTagId1, prevTagId2], [html2.substring(tagStartPos2, pos2)]]);\n\n\t\t\t\t\t\ttagId1 = prevTagId1;\n\t\t\t\t\t\ttagId2 = prevTagId2;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('not impl', [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t////////////// THIS SHOULD NEVER REACH ///////////////\n\n\t\t\t\t// console.log('====')\n\t\t\t\t// logger.slice(-10).forEach(function(item){\n\t\t\t\t//\t console.info.apply(console, item)\n\t\t\t\t// })\n\t\t\t\tconsole.error(\"different Id - not supported for now!\", [tagNo1, tagNo2], [subNo1, subNo2], [tagId1, tagId2], [prevTagId1, prevTagId2], [pos1, pos2]);\n\t\t\t\tconsole.log([html1.substr(pos1 - 100, 100), html1.substr(pos1, 20)]);\n\t\t\t\tconsole.log([html2.substr(pos2 - 100, 100), html2.substr(pos2, 20)]);\n\t\t\t\t// console.log(html1);\n\t\t\t\t// console.log(html2)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t} //infinite loop\n\n\t}\n\n\tvar camelCaseRE = /-(.)/g;\n\tfunction camelCase(str) {\n\t\treturn str.replace(camelCaseRE, function($0, $1){ return $1.toUpperCase(); });\n\t}\n\n\t// parse attributes from html open tag and patch DOM when different\n\tfunction parsePatchAttr(chunkA, chunkB, elem) {\n\t\tvar tagId;\n\t\tvar posA1, posA2, posB1, posB2;\n\t\tvar posDiff = 0;\n\t\tvar attrName, attrVal1, attrVal2;\n\t\t// var len1 = chunk1.length;\n\t\t// console.log('chunks', [chunkA, chunkB]);\n\n\t\t//extract id to tag, if no elem specified\n\t\tif (!elem) {\n\t\t\tposA1 = chunkA.indexOf(' id=\"', posA1);\n\t\t\tif (posA1 >= 0) {\n\t\t\t\tposA1 += 5;\n\t\t\t\tposA2 = chunkA.indexOf('\"', posA1);\n\t\t\t\ttagId = chunkA.slice(posA1, posA2);\n\t\t\t\telem = document.getElementById(tagId);\n\t\t\t\tif (!elem) {\n\t\t\t\t\tthrow console.error('tag not found', [posA1, posA2, tagId, elem, chunkA, chunkB]);\n\t\t\t\t}\n\t\t\t\tposA2 += 2;\n\t\t\t} else {\n\t\t\t\tthrow console.error('id not found', [posA1, posA1, chunkA, chunkB]);\n\t\t\t}\n\t\t} else {\n\t\t\t//first char is always space\n\t\t\tposA2 = 1;\n\t\t}\n\n\t\tfor(;;) {\n\t\t\t//attr name\n\t\t\tposA1 = chunkA.indexOf('=\"', posA2);\n\t\t\tif (posA1 < 0) break;\n\t\t\tattrName = chunkA.slice(posA2, posA1);\n\n\t\t\t//attr values\n\t\t\tposA2 = chunkA.indexOf('\"', posA1 + 2);\n\t\t\tattrVal1 = chunkA.slice(posA1 + 2, posA2);\n\n\t\t\tposB1 = posA1 + posDiff;\n\t\t\tposB2 = chunkB.indexOf('\"', posB1 + 2);\n\t\t\tattrVal2 = chunkB.slice(posB1 + 2, posB2);\n\n\t\t\tif (attrVal1 !== attrVal2) {\n\t\t\t\t// value as property\n\t\t\t\tif (attrName === 'value') {\n\t\t\t\t\telem[attrName] = attrVal2;\n\n\t\t\t\t// prefix with - as property, like -scrollLeft\n\t\t\t\t} else if (attrName[0] === '-') {\n\t\t\t\t\t//only if old value is same is element property to prevent loop (firefox)\n\t\t\t\t\tif (elem[attrName.substr(1)] == attrVal1) {\n\t\t\t\t\t\telem[attrName.substr(1)] = attrVal2;\n\t\t\t\t\t}\n\t\t\t\t\t//console.log('prop-', attrName.substr(1), attrVal1, attrVal2, elem[attrName.substr(1)]);\n\n\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute(attrName, attrVal2);\n\t\t\t\t}\n\t\t\t\tposDiff = posB2 - posA2;\n\n\t\t\t}\n\n\t\t\tposA2 += 2;\n\t\t}\n\n\t\treturn tagId;\n\t}\n\n\t// extract value of id from part of html open tag\n\t// only id=\"xxx\" supported, this is internal use, so it's always double-quotes\n\t// inline this function during building\n\tfunction getTagId(partial, start) {\n\t\tvar pos = partial.indexOf(' id=\"', start), endPos;\n\t\tif (pos >= 0) {\n\t\t\tpos += 5;\n\t\t\tendPos = partial.indexOf('\"', pos);\n\t\t\treturn partial.substring(pos, endPos);\n\t\t}\n\t}\n\n\t// split filters into array, take care of | and || as different\n\tfunction splitFilters(input, pos) {\n\t\tvar prevPos = 0;\n\t\tvar ret = [];\n\t\twhile (pos !== -1) {\n\t\t\tif (input[pos + 1] === '|') {\n\t\t\t\tpos += 2;\n\t\t\t} else {\n\t\t\t\tret.push(input.substring(prevPos, pos));\n\t\t\t\tprevPos = ++pos;\n\t\t\t}\n\t\t\tpos = input.indexOf('|', pos);\n\t\t}\n\t\tif (prevPos < input.length) {\n\t\t\tret.push(input.substr(prevPos));\n\t\t}\n\t\treturn ret;\n\t}\n\n\t// function parseStyle(styleObj) {\n\t// \tvar ret = '';\n\t// \tfor (var x in styleObj) {\n\t// \t\tret += x + ':' + styleObj[x] + ';';\n\t// \t}\n\t// \treturn ret;\n\t// }\n\n\t// ToDo: check compile performance with regex\n\tvar ngClassRegex = /('[^']+'|\"[^\"]+\"|[\\w$]+)\\s*:\\s*((?:[$.\\w]+|\\([^)]+\\)|[^},])+)/g;\n\tvar varOrStringRegex = /'[^']*'|\"[^\"]*\"|[\\w$]+|[^\\w$'\"]+/g;\n\tvar quotedStringRegex = /\"[^\"]*\"|'[^']*'/g;\n\tvar whiteSpaceRegex = /\\s{2,}|\\n/g;\n\tvar removeUnneededQuotesRegex = /\\b([\\w_-]+=)\"([^\"'=\\s]+)\"(?=[\\s>])/g;\n\tvar lazyNgAttrRegex = /^(?:src|alt|title|href)/;\n\tvar $indexRegex = /\\$index/g;\n\tvar $parent$indexRegex = /(?:\\$parent\\.)+\\$index/g;\n\n\t// no-val attributes, for more exhaustive list - https://github.com/kangax/html-minifier/issues/63\n\tvar noValAttrRegex = /^(?:checked|selected|disabled|readonly|multiple|required|hidden|nowrap)/;\n\n\t// export as doTA.compile\n\tfunction compileHTML(template, options) {\n\t\toptions = options || {};\n\t\tvar val_mod = options.loose ? \"||''\" : '';\n\t\tvar VarMap = {\n\t\t\ttrue: 1, false: 1, null: 1, void: 1, undefined: 1, this: 1,\n\t\t\tdoTA: 1, $index: 1, S: 1, F: 1, $attr: 1, X: 1, K: 1, M: 1, N: 1,\n\t\t\tMath: 1, Date: 1, String: 1, Object: 1, Array: 1, Infinity: 1, NaN: 1,\n\t\t\t// alert: 1, confirm: 1, prompt: 1,\n\t\t\tvar: 1, in: 1\n\t\t};\n\t\tvar level = 0, ngRepeatLevel;\n\t\tvar ngIfLevel, skipLevel, ngIfCounterTmp, ngIfLevels = [], ngIfLevelMap = {};\n\t\tvar LevelMap = {}, LevelVarMap = {};\n\t\tvar KeyMap = [], keyLevel = 0;\n\t\tvar WatchMap = {}, Watched;\n\t\tvar doTAPass, doTAContinue;\n\t\tvar compiledFn;\n\t\tvar uniqueId = doTA.getId(options.dotaRender);\n\t\tvar idHash = {};\n\t\tvar FnText = '';\n\t\t//options that need to repeatedly calling\n\t\tvar optWatchDiff = options.watchDiff;\n\t\tvar optDiffLevel = +options.diffLevel;\n\t\tvar optModel = options.model;\n\t\tvar optBind = options.bind;\n\t\tvar optEvent = options.event;\n\t\tvar optKey = options.key;\n\t\tvar optParams = options.params;\n\t\tvar optComment = +options.comment;\n\t\tvar optStrip = +options.strip;\n\n\t\tif (optKey) {\n\t\t\tFnText += indent(level) + \"var R='';\\n\";\n\t\t} else {\n\t\t\tFnText += indent(level) + \"'use strict';var \" +\n\t\t\t(optWatchDiff ? 'M,N=1,' : '') +\n\t\t\t\"R='';\\n\"; //ToDO: check performance on var declaration\n\t\t}\n\n\t\t//clean up extra white spaces and line break\n\t\ttemplate = template.replace(whiteSpaceRegex, ' ');\n\n\t\tif (optStrip) {\n\t\t\tif (optStrip === 2) {\n\t\t\t\ttemplate = template.replace(/>\\s+/g, '>').replace(/\\s+</g, '<');\n\t\t\t} else {\n\t\t\t\ttemplate = template.replace(/>\\s+</g, '><');\n\t\t\t}\n\t\t}\n\n\t\t// when encode is set, find strings and encode < and >, or parser will throw error.\n\t\tif (options.encode) {\n\t\t\ttemplate = template.replace(quotedStringRegex, function($0) {\n\t\t\t\treturn $0.replace(/[<>]/g, function($00) {\n\t\t\t\t\treturn {'>': '&gt;', '<': '&lt;'}[$00];\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// attach plain variables to scope variables\n\t\tfunction attachScope(v) {\n\t\t\t//console.log(VarMap, [v]);\n\t\t\tif (v) {\n\t\t\t\t//var DEBUG = /error/.test(v);\n\t\t\t\t//DEBUG && console.log(11, [v]);\n\n\t\t\t\t//ToDo: still buggy, this need to improve\n\t\t\t\tvar vv = '';\n\t\t\t\tvar matches = v.match(varOrStringRegex);\n\t\t\t\t//DEBUG && console.log(12, matches);\n\t\t\t\tfor(var i = 0; i < matches.length; i++) {\n\n\t\t\t\t\tif (VALID_CHARS[matches[i][0]] && !VarMap[matches[i]] &&\n\t\t\t\t\t\t(!i || matches[i-1][matches[i-1].length-1] !== '.')) {\n\t\t\t\t\t\tvv += 'S.' + matches[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (matches[i].indexOf('$index') >= 0) {\n\t\t\t\t\t\t\t//only support last level for now\n\t\t\t\t\t\t\tvv += matches[i].replace($indexRegex, LevelVarMap[ngRepeatLevel]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvv += matches[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//DEBUG && console.log(55, vv);\n\t\t\t\treturn vv;\n\t\t\t}\n\t\t\treturn v;\n\t\t}\n\n\t\t// escape single quotes with backslash\n\t\tfunction escapeSingleQuote(str) {\n\t\t\tvar quotePos = str.indexOf(\"'\");\n\t\t\tif (quotePos >= 0) {\n\t\t\t\tvar ret = '';\n\t\t\t\tvar prevQuotePos = 0;\n\t\t\t\tdo {\n\t\t\t\t\tret += str.substring(prevQuotePos, quotePos);\n\t\t\t\t\t//escaped quote\n\t\t\t\t\tif (str[quotePos - 1] !== '\\\\') {\n\t\t\t\t\t\tret += \"\\\\\";\n\t\t\t\t\t}\n\t\t\t\t\tprevQuotePos = quotePos;\n\t\t\t\t\tquotePos = str.indexOf(\"'\", prevQuotePos + 1);\n\t\t\t\t} while (quotePos > 0);\n\t\t\t\tret += str.substr(prevQuotePos);\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\treturn str;\n\t\t\t}\n\t\t}\n\n\t\t// interpolation\n\t\tfunction interpolate(str) {\n\t\t\tvar pos = str.indexOf('{{');\n\t\t\tif (pos >= 0) {\n\t\t\t\tvar prevPos = 0;\n\t\t\t\tvar ret = '';\n\t\t\t\tvar outsideStr, insideStr;\n\t\t\t\tdo {\n\t\t\t\t\toutsideStr = str.substring(prevPos, pos);\n\t\t\t\t\tret += escapeSingleQuote(outsideStr);\n\n\t\t\t\t\t//skip {{\n\t\t\t\t\tprevPos = pos + 2;\n\t\t\t\t\tpos = str.indexOf('}}', prevPos);\n\n\t\t\t\t\tinsideStr = str.substring(prevPos, pos);\n\t\t\t\t\tret += \"'+(\" + attachFilter(insideStr) + val_mod + \")+'\";\n\n\t\t\t\t\t//skip }} for next\n\t\t\t\t\tprevPos = pos + 2;\n\t\t\t\t\tpos = str.indexOf('{{', prevPos);\n\t\t\t\t} while (pos > 0);\n\n\t\t\t\t//remaining text outside interpolation\n\t\t\t\tret += escapeSingleQuote(str.substr(prevPos));\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\treturn escapeSingleQuote(str);\n\t\t\t}\n\t\t}\n\n\t\t// attach $filters\n\t\tfunction attachFilter($1) {\n\t\t\t//console.log(333,$1);\n\t\t\tvar pos = $1.indexOf('|');\n\t\t\tif (pos === -1) {\n\t\t\t\treturn attachScope($1);\n\t\t\t} else {\n\t\t\t\t//ToDo: check this line later\n\t\t\t\tvar v = splitFilters($1, pos);\n\t\t\t\tvar val = attachScope(v[0]);\n\t\t\t\tvar prevColonPos, colonPos;\n\t\t\t\tvar filter;\n\n\t\t\t\t//parse each filters\n\t\t\t\tfor(var i = 1; i < v.length; i++) {\n\t\t\t\t\tfilter = v[i];\n\t\t\t\t\tprevColonPos = 0;\n\n\t\t\t\t\tcolonPos = filter.indexOf(':');\n\t\t\t\t\t//filter with params\n\t\t\t\t\tif (colonPos > 0) {\n\t\t\t\t\t\tval = \"F('\" + filter.slice(prevColonPos, colonPos).trim() + \"')(\" + val;\n\t\t\t\t\t\tprevColonPos = ++colonPos;\n\t\t\t\t\t\tcolonPos = filter.indexOf(':', prevColonPos);\n\t\t\t\t\t\twhile (colonPos > 0) {\n\t\t\t\t\t\t\tval += ',' + attachScope(filter.slice(prevColonPos, colonPos));\n\t\t\t\t\t\t\tprevColonPos = ++colonPos;\n\t\t\t\t\t\t\tcolonPos = filter.indexOf(':', prevColonPos);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tval += ',' + attachScope(filter.substr(prevColonPos)) + ')';\n\n\t\t\t\t\t//filter without params\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = \"F('\" + filter.trim() + \"')(\" + val + ')';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t}\n\t\t}\n\n\t\tfunction apply$index(val) {\n\t\t\tvar count, tmpRepeatLevel;\n\n\t\t\tif (val.indexOf('$parent.$index') >= 0) {\n\t\t\t\ttmpRepeatLevel = ngRepeatLevel;\n\t\t\t\tval = val.replace($parent$indexRegex, function($0) {\n\t\t\t\t\tcount = $0.match(/\\$parent/g).length; //may need to rewrite with indexOf\n\t\t\t\t\twhile (count>0) {\n\t\t\t\t\t\twhile (tmpRepeatLevel >= 0 && typeof LevelVarMap[--tmpRepeatLevel] === 'undefined') {}\n\t\t\t\t\t\t--count;\n\t\t\t\t\t}\n\t\t\t\t\treturn \"'+\" + LevelVarMap[tmpRepeatLevel] + \"+'\";\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (val.indexOf('$index') >= 0) {\n\t\t\t\treturn val.replace($indexRegex, \"'+\" + LevelVarMap[ngRepeatLevel] + \"+'\");\n\t\t\t}\n\t\t\treturn val;\n\t\t}\n\n\t\t//parse the element\n\t\tparseHTML(template, {\n\t\t\t//open tag with attributes\n\t\t\topenTag: function(tagName, attr, selfClosing) {\n\t\t\t\t// debug && console.log('openTag', [tagName, attr]);\n\t\t\t\tvar parsedAttr = {}, customId, noValAttr = '', attrClass = '';\n\t\t\t\tvar doTAPassThis, x;\n\n\t\t\t\t//skip parsing if dota-pass is specified (interpolation will still be expanded)\n\t\t\t\t// https://jsperf.com/hasownproperty-vs-in-vs-undefined/12\n\t\t\t\tif (typeof attr['dota-pass'] !== 'undefined') {\n\t\t\t\t\tif (attr['dota-pass'] === 'this') {\n\t\t\t\t\t\tdoTAPass = doTAPassThis = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdoTAPass = level; doTAContinue = 0;\n\t\t\t\t\t}\n\t\t\t\t//re-enable dota parsing\n\t\t\t\t} else if (typeof attr['dota-continue'] !== 'undefined') {\n\t\t\t\t\tdoTAContinue = level;\n\t\t\t\t}\n\n\t\t\t\t//unless dota-pass or with dota-continue\n\t\t\t\tif (doTAPass === void 0 || doTAContinue) {\n\n\t\t\t\t\tif (optDiffLevel && attr.skip) {\n\t\t\t\t\t\tskipLevel = level;\n\t\t\t\t\t\tvar attrSkip = attr.skip;\n\t\t\t\t\t\tattr.skip = void 0;\n\t\t\t\t\t\tFnText += indent(level, 1) + 'var O'+ level + '=N+' + attrSkip + '; \\n';\n\t\t\t\t\t}\n\n\t\t\t\t\t//ng-repeat to while/for loop\n\t\t\t\t\tif (attr['ng-repeat']) {\n\t\t\t\t\t\t//console.log(21,[x], [val]);\n\t\t\t\t\t\tLevelMap[level] = LevelMap[level] ? LevelMap[level] + 1 : 1;\n\t\t\t\t\t\tvar idx = 'i' + level, l = 'l'+ level;\n\t\t\t\t\t\tvar NG_REPEAT = attr['ng-repeat'];\n\t\t\t\t\t\tvar inPos = NG_REPEAT.indexOf(' in ');\n\t\t\t\t\t\tvar repeatVar = NG_REPEAT.substr(0, inPos), repeatSrc = NG_REPEAT.substr(inPos + 4);\n\t\t\t\t\t\tvar commaPos = repeatVar.indexOf(',');\n\t\t\t\t\t\tvar pipePos = repeatSrc.indexOf('|'), repeatSrcNew;\n\t\t\t\t\t\tvar colonPos;\n\n\t\t\t\t\t\t//store variable name to use for $index later\n\t\t\t\t\t\t//this is ng-repeat specific, LevelMap[level] is same for ng-if too\n\t\t\t\t\t\tLevelVarMap[level] = idx;\n\t\t\t\t\t\tngRepeatLevel = level;\n\n\t\t\t\t\t\tif (pipePos > 0) {\n\t\t\t\t\t\t\trepeatSrcNew = attachFilter(repeatSrc);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trepeatSrcNew = attachScope(repeatSrc);\n\t\t\t\t\t\t\tcolonPos = repeatSrcNew.indexOf(':');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Range: \"i in 1:10\" ==> (for i = 1; i < 10; i++)\n\t\t\t\t\t\tif (colonPos >= 0) {\n\t\t\t\t\t\t\tvar start = repeatSrcNew.substr(0, colonPos) || 0, end, step;\n\t\t\t\t\t\t\tvar anotherColon = repeatSrcNew.indexOf(':', ++colonPos);\n\t\t\t\t\t\t\tif (anotherColon > 0) {\n\t\t\t\t\t\t\t\tend = repeatSrcNew.substring(colonPos, anotherColon);\n\t\t\t\t\t\t\t\tstep = repeatSrcNew.substr(anotherColon + 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tend = repeatSrcNew.substr(colonPos);\n\t\t\t\t\t\t\t\tstep = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log([start, end, step, repeatSrcNew, colonPos]);\n\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'for(var ' +\n\t\t\t\t\t\t\t\trepeatVar + '=' + start + ';' +\n\t\t\t\t\t\t\t\trepeatVar + (step > 0 ? '<' : '>') + end + ';' + repeatVar + '+=' + step + '){\\n';\n\t\t\t\t\t\t\tVarMap[repeatVar] = 1;\n\n\t\t\t\t\t\t// Object: \"k, v in {}\" ==> (for in {})\n\t\t\t\t\t\t} else if (commaPos > 0) {\n\t\t\t\t\t\t\tvar key = repeatVar.substr(0, commaPos);\n\t\t\t\t\t\t\tvar value = repeatVar.substr(commaPos + 1);\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'var ' +\n\t\t\t\t\t\t\t\tvalue + ',D' + level + '=' + repeatSrcNew + ';\\n';\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'for(var ' + key + ' in D' + level + '){\\n';\n\t\t\t\t\t\t\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t space is needed for manual uglify\t->\tvvv\n\t\t\t\t\t\t\tFnText += indent(level) + value + ' = ' + 'D' + level + '[' + key + ']; \\n';\n\t\t\t\t\t\t\tVarMap[key] = VarMap[value] = 1;\n\n\t\t\t\t\t\t// Array: \"k in []\" ==> while loop\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'var ' +\n\t\t\t\t\t\t\t\trepeatVar + ',D' + level + '=' + repeatSrcNew + ',' +\n\t\t\t\t\t\t\t\tidx + '=-1,' + l + '=D' + level + '.length;\\n';\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'while(++' + idx + '<' + l + '){\\n';\n\t\t\t\t\t\t\t//\t\t\t\t\t\t\t\t\t\t\t\tspace is needed for manual uglify\t->\tvvv\n\t\t\t\t\t\t\tFnText += indent(level) + repeatVar + '=D' + level + '[' + idx + ']; \\n';\n\t\t\t\t\t\t\tVarMap[repeatVar] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//remote attribute not to get forwarded to angular\n\t\t\t\t\t\tattr['ng-repeat'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (optDiffLevel === 3 && attr.key) {\n\t\t\t\t\t\tkeyLevel = level;\n\t\t\t\t\t\tKeyMap[level] = attr.key;\n\t\t\t\t\t\tFnText += indent(level, 1) + 'var ' + attr.key + '=N,M=1; \\n';\n\t\t\t\t\t\tattr.key = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//re-render sub template\n\t\t\t\t\tif (attr.refresh) {\n\t\t\t\t\t\tcustomId = 1;\n\t\t\t\t\t\tvar oneTimeBinding = attr.refresh.indexOf('::');\n\t\t\t\t\t\tFnText += indent(level, 2) +\n\t\t\t\t\t\t\t(!Watched ? 'var ' + (optWatchDiff ? '': 'N=1,') + 'T=this;T.W=[];' : '') +\n\t\t\t\t\t\t\t'var W={N:N,I:N+\"' + '.' + uniqueId + '\",W:\"' +\n\t\t\t\t\t\t\t(oneTimeBinding >=0 ? attr.refresh.substr(oneTimeBinding + 2) + '\",O:1': attr.refresh + '\"') +\n\t\t\t\t\t\t\t(attr.compile ? ',C:1' : '') +\n\t\t\t\t\t\t\t'};T.W.push(W);\\n';\n\t\t\t\t\t\tWatchMap[level] = Watched = 1;\n\t\t\t\t\t\tFnText += indent(level, 2) + 'W.F=function(S,F,$attr,X,N){var R=\"\";\\n';\n\t\t\t\t\t\tattr.refresh = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-init']) {\n\t\t\t\t\t\tvar eqPos = attr[\"ng-init\"].indexOf('=');\n\t\t\t\t\t\tif (eqPos > 0) {\n\t\t\t\t\t\t\tvar varName = attr[\"ng-init\"].substr(0, eqPos);\n\t\t\t\t\t\t\tif (varName.indexOf('.') < 0 && varName.indexOf('[') < 0) {\n\t\t\t\t\t\t\t\tFnText += indent(level) + 'var ' + varName + '=' +\n\t\t\t\t\t\t\t\t\tattachScope(attr[\"ng-init\"].substr(eqPos + 1)) + '; \\n';\n\t\t\t\t\t\t\t\tVarMap[varName] = 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tFnText += indent(level) + attachScope(attr[\"ng-init\"]) + '; \\n';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tFnText += indent(level) + attachScope(attr[\"ng-init\"]) + '; \\n';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tattr['ng-init'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//ng-if to javascript if\n\t\t\t\t\tif (attr['ng-if']) {\n\t\t\t\t\t\tif (optDiffLevel) {\n\t\t\t\t\t\t\tngIfLevel = level;\n\t\t\t\t\t\t\tngIfLevels.push(level);\n\t\t\t\t\t\t\tngIfLevelMap[level] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tLevelMap[level] = LevelMap[level] ? LevelMap[level] + 1 : 1;\n\t\t\t\t\t\tFnText += indent(level, 1) + 'if('+ attachScope(attr['ng-if']) +'){\\n';\n\t\t\t\t\t\t// console.log('ng-if starts here', level);\n\t\t\t\t\t\tattr['ng-if'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//only if there nothing between tags\n\t\t\t\t\tif (attr.strip) {\n\t\t\t\t\t\tif (attr.elif) {\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'else if('+ attachScope(attr.elif) +'){\\n';\n\t\t\t\t\t\t\tLevelMap[level] = LevelMap[level] ? LevelMap[level] + 1 : 1;\n\t\t\t\t\t\t\tattr.elif = void 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof attr['else'] !== 'undefined' && !optWatchDiff) {\n\t\t\t\t\t\t\tFnText += indent(level, 1) + 'else{\\n';\n\t\t\t\t\t\t\tLevelMap[level] = LevelMap[level] ? LevelMap[level] + 1 : 1;\n\t\t\t\t\t\t\tattr['else'] = void 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//remove +''+ from class, for unnecessary string concat\n\t\t\t\t\tif (attr.class) {\n\t\t\t\t\t\tattrClass = interpolate(attr.class);\n\t\t\t\t\t\tattr.class = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-class']) {\n\t\t\t\t\t\tvar match;\n\t\t\t\t\t\tvar ngScopedClass = attachScope(attr['ng-class']);\n\t\t\t\t\t\twhile((match = ngClassRegex.exec(ngScopedClass)) !== null) {\n\t\t\t\t\t\t\tattrClass +=\n\t\t\t\t\t\t\t\t(\"'+(\" + match[2] + '?' +\n\t\t\t\t\t\t\t\t\t\"'\" + (attrClass ? ' ' : '') + match[1].replace(/['\"]/g, '') +\n\t\t\t\t\t\t\t\t\t\"':'')+'\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tattr['ng-class'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-show']) {\n\t\t\t\t\t\tattrClass += \"'+(\" + attachScope(attr['ng-show']) +\n\t\t\t\t\t\t\t\"?'':'\" + (attrClass ? ' ' : '') + \"ng-hide')+'\";\n\t\t\t\t\t\tattr['ng-show'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-style']) {\n\t\t\t\t\t\tparsedAttr.style = (attr.style ? attr.style + ';' : '') + interpolate(attr['ng-style']);\n\t\t\t\t\t\tattr['ng-style'] = void 0;\n\t\t\t\t\t\tattr.style = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-hide']) {\n\t\t\t\t\t\tattrClass += \"'+(\" + attachScope(attr['ng-hide']) +\n\t\t\t\t\t\t\t\"?'\" + (attrClass ? ' ' : '') + \"ng-hide':'')+'\";\n\t\t\t\t\t\tattr['ng-hide'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (optModel && attr['ng-model']) {\n\t\t\t\t\t\tif (attr['ng-model'].indexOf('$index') >= 0) {\n\t\t\t\t\t\t\tparsedAttr['dota-model'] = apply$index(attr['ng-model']);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparsedAttr['dota-model'] = attr['ng-model'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tattr['ng-model'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (optBind && attr['ng-bind']) {\n\t\t\t\t\t\tif (attr['ng-bind'].indexOf('$index') >= 0) {\n\t\t\t\t\t\t\tparsedAttr['dota-bind'] = apply$index(attr['ng-bind']);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparsedAttr['dota-bind'] = attr['ng-bind'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tattr['ng-bind'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attr['ng-value']) {\n\t\t\t\t\t\tparsedAttr.value = \"'+(\" + attachFilter(attr['ng-value']) + \")+'\";\n\t\t\t\t\t\tattr['ng-value'] = void 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//some cleanup\n\t\t\t\t\tif (attrClass) {\n\t\t\t\t\t\tattrClass = attrClass.replace(/\\+''\\+/g, '+');\n\t\t\t\t\t}\n\n\t\t\t\t\t// expand interpolations on attributes, and some more\n\t\t\t\t\tfor (x in attr) {\n\t\t\t\t\t\tvar attrVal = attr[x];\n\t\t\t\t\t\tif (attrVal === void 0) { continue; }\n\n\t\t\t\t\t\t// some ng- attributes\n\t\t\t\t\t\tif (x[0] === 'n' && x[1] === 'g' && x[2] === '-') {\n\t\t\t\t\t\t\t//some ng-attr are just don't need it here.\n\t\t\t\t\t\t\tvar attrName = x.substr(3);\n\t\t\t\t\t\t\t//something like ng-src, ng-href, etc.\n\t\t\t\t\t\t\tif (lazyNgAttrRegex.test(attrName)) {\n\t\t\t\t\t\t\t\tx = attrName;\n\n\t\t\t\t\t\t\t//convert ng-events to dota-events, to be bind later with native events\n\t\t\t\t\t\t\t} else if (optEvent && EVENTS[attrName]) {\n\t\t\t\t\t\t\t\t//add class 'de' for one time querying\n\t\t\t\t\t\t\t\tif (attrClass) {\n\t\t\t\t\t\t\t\t\tif (attrClass[0] !== 'd' || attrClass[1] !== 'e') {\n\t\t\t\t\t\t\t\t\t\tattrClass = 'de ' + attrClass;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tattrClass = 'de';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tx = 'de-' + attrName;\n\n\t\t\t\t\t\t\t} else if (noValAttrRegex.test(attrName)) {\n\t\t\t\t\t\t\t\tnoValAttr += \"'+(\" + attachScope(attrVal) + \"?' \" + attrName + \"=\\\"\\\"':'')+'\";\n\t\t\t\t\t\t\t\t//noValAttr will attach later\n\t\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (x[0] === '-') {\n\t\t\t\t\t\t\tx = '-' + camelCase(x.substr(1));\n\t\t\t\t\t\t\tparsedAttr[x] = \"'+(\" + attachScope(attrVal) + \")+'\";\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//ng-repeat loop variables are not available!\n\t\t\t\t\t\t// only way to acccess is to use $index like \"data[$index]\"\n\t\t\t\t\t\t// instead of \"item\" as in \"item in data\"\n\t\t\t\t\t\tparsedAttr[x] = apply$index(interpolate(attrVal));\n\t\t\t\t\t}\n\n\t\t\t\t// pass all attributes to angular, except interpolation and $index\n\t\t\t\t} else {\n\t\t\t\t\tif (doTAPassThis) {\n\t\t\t\t\t\tdoTAPass = void 0;\n\t\t\t\t\t}\n\t\t\t\t\t//still expand interpolation even if dota-pass is set\n\t\t\t\t\tfor (x in attr) {\n\t\t\t\t\t\tparsedAttr[x] = apply$index(interpolate(attr[x]));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//write tag back as string\n\t\t\t\tFnText += indent(level) + \"R+='<\" + tagName;\n\n\t\t\t\t//make id attr come before anything\n\t\t\t\tif (customId || optWatchDiff) {\n\t\t\t\t\tvar tagId = idHash[uniqueId + '.' + level] = parsedAttr.id || ( (\n\t\t\t\t\t\tkeyLevel < level && KeyMap[keyLevel] || optKey ?\n\t\t\t\t\t\t\"'+\" + (optKey || KeyMap[keyLevel]) + \"+'.'+M+++'.\" :\n\t\t\t\t\t\t\"'+N+++'.\"\n\t\t\t\t\t) + uniqueId);\n\t\t\t\t\tFnText += ' id=\"' + tagId + '\"';\n\t\t\t\t\tif (parsedAttr.id) {\n\t\t\t\t\t\tparsedAttr.id = void 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//write back attributes\n\t\t\t\tfor(var k in parsedAttr) {\n\t\t\t\t\tFnText += \" \" + k + '=\"' + parsedAttr[k] + '\"';\n\t\t\t\t}\n\n\t\t\t\tif (attrClass) {\n\t\t\t\t\tFnText += ' class=\"' + attrClass + '\"';\n\t\t\t\t}\n\n\t\t\t\t//attach boolean attributes at last\n\t\t\t\tFnText += noValAttr + (selfClosing ? ' /' : '') + \">';\\n\";\n\n\t\t\t\tif (optWatchDiff) {\n\t\t\t\t\t// FnText += indent(level) + \"N++; \\n\";\n\t\t\t\t\tif (ngIfLevelMap[ngIfLevel] >= 0) {\n\t\t\t\t\t\tngIfLevelMap[ngIfLevel]++;\n\t\t\t\t\t\t// console.log('isPath ngIfCounter', [tagName, ngIfCounter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//expand doTA templates with expand=1 option\n\t\t\t\tif (attr['dota-render'] && attr.expand) {\n\t\t\t\t\tvar attrArray = [];\n\t\t\t\t\t//attach data-X attr, and scope-X attr\n\t\t\t\t\tfor(x in attr) {\n\t\t\t\t\t\tif (!x.indexOf('data-')) {\n\t\t\t\t\t\t\tattrArray.push('\"' + x.slice(5) + '\":\"' + attr[x] + '\"');\n\t\t\t\t\t\t} else if (!x.indexOf('scope-')) {\n\t\t\t\t\t\t\tattrArray.push('\"' + x.slice(6) + '\":S[\"' + attr[x] + '\"]');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tFnText += indent(level) + 'var P={' + attrArray.join(',') + '},U=\"' + attr['dota-render'] + '\";\\n';\n\t\t\t\t\t//only expand if renderFn is ready in cache, but not in cache-dom (which unneeded)\n\t\t\t\t\tFnText += indent(level) + 'if(typeof doTA.C[U]!==\"undefined\"&&typeof doTA.D[U]===\"undefined\"){' +\n\t\t\t\t\t\t'R+=doTA.C[U](S,F,P)}; \\n';\n\t\t\t\t}\n\n\t\t\t\tlevel++;\n\t\t\t},\n\n\t\t\t//void tag no need to write closing tag\n\t\t\tvoidTag: function() {\n\t\t\t\tlevel--;\n\n\t\t\t\tif (optDiffLevel === 2 && level === ngIfLevel && ngIfLevelMap[ngIfLevel] >= 0) {\n\t\t\t\t\t// console.log('ngIfLevelMap1', ngIfLevel, ngIfLevels, ngIfLevelMap);\n\t\t\t\t\tif (ngIfLevelMap[ngIfLevel]) {\n\t\t\t\t\t\tFnText += indent(level, 1) + \"}else{\" +\n\t\t\t\t\t\t\t\"R+='<span id=\\\"'+N+'.\" + uniqueId + '\" hidden=\"\"></span>\\';' +\n\t\t\t\t\t\t\t\"N+=\" + ngIfLevelMap[ngIfLevel] + \";}; \\n\";\n\t\t\t\t\t}\n\t\t\t\t\t//save counter\n\t\t\t\t\tngIfCounterTmp = ngIfLevelMap[ngIfLevel];\n\t\t\t\t\t//clear counter\n\t\t\t\t\tngIfLevelMap[ngIfLevel] = void 0;\n\t\t\t\t\t//remove last level\n\t\t\t\t\tngIfLevel = ngIfLevels[--ngIfLevels.length - 1];\n\t\t\t\t\t//add up to previous level\n\t\t\t\t\tif (ngIfLevel) {\n\t\t\t\t\t\tngIfLevelMap[ngIfLevel] += ngIfCounterTmp;\n\t\t\t\t\t}\n\t\t\t\t\t// console.log('ngIfLevelMap2', ngIfLevel, ngIfLevels, ngIfLevelMap);\n\t\t\t\t\tif (LevelMap[level] > 0) {\n\t\t\t\t\t\tLevelMap[level]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//close \"if\", \"for\", \"while\" blocks\n\t\t\t\t//while is needed because loop and if can be in same tag\n\t\t\t\twhile (LevelMap[level] > 0) {\n\t\t\t\t\tFnText += indent(level, 1) + '}\\n';\n\t\t\t\t\tLevelMap[level]--;\n\t\t\t\t}\n\n\t\t\t\t//clear ng-repeat $index\n\t\t\t\tif (ngRepeatLevel === level) {\n\t\t\t\t\tLevelVarMap[level] = 0;\n\t\t\t\t\twhile (ngRepeatLevel >=0 && typeof LevelVarMap[--ngRepeatLevel] === 'undefined') {}\n\t\t\t\t}\n\n\t\t\t\t//reset dota-pass when out of scope\n\t\t\t\tif (doTAPass >= level) {\n\t\t\t\t\tdoTAPass = void 0;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t//close tag\n\t\t\tcloseTag: function(tagName) {\n\t\t\t\tlevel--;\n\n\t\t\t\t//just write closing tag back\n\t\t\t\tFnText += indent(level) + \"R+='</\" + tagName + \">';\\n\";\n\n\t\t\t\t//ngIfCounter for most possible uniqueId generation; don't work with loop inside!\n\t\t\t\tif (optDiffLevel === 2 && level === ngIfLevel && ngIfLevelMap[ngIfLevel] >= 0) {\n\t\t\t\t\t// console.log('ngIfLevelMap1', ngIfLevel, ngIfLevels, ngIfLevelMap);\n\t\t\t\t\tif (ngIfLevelMap[ngIfLevel]) {\n\t\t\t\t\t\tFnText += indent(level, 1) + \"}else{\" +\n\t\t\t\t\t\t\t\"R+='<\" + tagName + \" id=\\\"'+N+'.\" + uniqueId + '\" hidden=\"\" ' +\n\t\t\t\t\t\t\t(tagName === 'img' || tagName === 'input' || tagName === 'br' || tagName === 'hr' ?\n\t\t\t\t\t\t\t'/>' : '></' + tagName + '>') + '\\';' +\n\t\t\t\t\t\t\t\"N+=\" + ngIfLevelMap[ngIfLevel] + \"} \\n\";\n\t\t\t\t\t}\n\t\t\t\t\t//save counter\n\t\t\t\t\tngIfCounterTmp = ngIfLevelMap[ngIfLevel];\n\t\t\t\t\t//clear counter\n\t\t\t\t\tngIfLevelMap[ngIfLevel] = void 0;\n\t\t\t\t\t//remove last level\n\t\t\t\t\tngIfLevel = ngIfLevels[--ngIfLevels.length - 1];\n\t\t\t\t\t//add up to previous level\n\t\t\t\t\tif (ngIfLevel) {\n\t\t\t\t\t\tngIfLevelMap[ngIfLevel] += ngIfCounterTmp;\n\t\t\t\t\t}\n\t\t\t\t\t// console.log('ngIfLevelMap2', ngIfLevel, ngIfLevels, ngIfLevelMap);\n\t\t\t\t\tif (LevelMap[level] > 0) {\n\t\t\t\t\t\tLevelMap[level]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// console.log('LevelMap1', LevelMap);\n\t\t\t\t//close \"if\", \"for\", \"while\" blocks\n\t\t\t\twhile (LevelMap[level] > 0) {\n\t\t\t\t\tFnText += indent(level, 1) + '}\\n';\n\t\t\t\t\tLevelMap[level]--;\n\t\t\t\t}\n\t\t\t\t// console.log('LevelMap2', LevelMap);\n\n\t\t\t\tif (optDiffLevel) {\n\t\t\t\t\tif (level === skipLevel) {\n\t\t\t\t\t\t// console.log('ngIfLevel', [level, skipLevel, ngRepeatLevel])\n\t\t\t\t\t\tFnText += indent(level, 1) + 'N=O' + level + '; \\n';\n\t\t\t\t\t}\n\t\t\t\t\tif (level === skipLevel) {\n\t\t\t\t\t\tskipLevel = void 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//clear ng-repeat $index\n\t\t\t\tif (ngRepeatLevel === level) {\n\t\t\t\t\tLevelVarMap[level] = 0;\n\t\t\t\t\twhile (ngRepeatLevel >=0 && typeof LevelVarMap[--ngRepeatLevel] === 'undefined') {}\n\t\t\t\t}\n\n\t\t\t\t//add blank node if $watch block return nothing, mostly occur with ng-if\n\t\t\t\tif (WatchMap[level]) {\n\t\t\t\t\tFnText += indent(level, 1) +\n\t\t\t\t\t\t\"R=R||('<\" + tagName + ' id=\"' + idHash[uniqueId + '.' + level] +\n\t\t\t\t\t\t'\" style=\"display:none\"></' + tagName + '>\\');\\n';\n\t\t\t\t\tWatchMap[level] = 0;\n\t\t\t\t\tFnText += indent(level, 2) + 'return R;}; \\n';\n\t\t\t\t\tFnText += indent(level, 2) + 'R+=W.F(S,F,' + (optParams ? '$attr': '0') + ',0,N); \\n';\n\t\t\t\t}\n\n\t\t\t\t//reset dota-pass when out of scope\n\t\t\t\tif (doTAPass >= level) {\n\t\t\t\t\tdoTAPass = void 0;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t//text node\n\t\t\ttext: function(text) {\n\t\t\t\t//console.log([text]);\n\t\t\t\tFnText += indent(level) + ('R+=\\'' + interpolate(text) + '\\';\\n')\n\t\t\t\t\t.replace(/\\+''|''\\+/g,'');\n\t\t\t},\n\n\t\t\t//comment node\n\t\t\tcomment: function(data) {\n\t\t\t\tif (optComment !== 0) {\n\t\t\t\t\t//console.log(111,[data]);\n\t\t\t\t\tFnText += indent(level) + \"R+='<\" + escapeSingleQuote(data) + \">';\\n\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (optWatchDiff && optDiffLevel !== 0) {\n\t\t\t//http://jsperf.com/hasownproperty-vs-in-vs-undefined/87\n\t\t\tFnText += indent(0) + 'if(X&&typeof doTA.H[' + uniqueId + ']!==\"undefined\"){doTA.diff' + (optDiffLevel || '') +\n\t\t\t\t'(' + uniqueId + ',R)}' +\n\t\t\t\t'doTA.H[' + uniqueId + ']=R;\\n';\n\t\t}\n\n\t\tFnText += indent(0) +'return R;\\n';\n\n\t\t//Default Optimization\n\t\t// - concat possible lines for performance\n\t\tFnText = FnText.replace(/;R\\+=/g,'+').replace(/'\\+'/g,'');\n\n\t\t//extra optimization, which might take some more CPU\n\t\tif (options.optimize && !optWatchDiff) {\n\t\t\tFnText = FnText.replace(removeUnneededQuotesRegex,'$1$2');\n\t\t}\n\n\t\t//print the whole function if debug\n\t\tif (options.debug) {\n\t\t\t/**/console.log(FnText);\n\t\t}\n\t\t// console.log(FnText);\n\n\t\ttry {\n\t\t\t/*jshint evil: true */\n\t\t\tif (optWatchDiff || optDiffLevel) {\n\t\t\t\t//$scope, $filter, $attr, isPatch, IdCounter, isKey, LoopIdCounter\n\t\t\t\tcompiledFn = new Function('S', 'F', '$attr', 'X', 'N', 'K', 'M', FnText);\n\t\t\t} else if (optParams) {\n\t\t\t\tcompiledFn = new Function('S', 'F', '$attr', FnText);\n\t\t\t} else {\n\t\t\t\tcompiledFn = new Function('S', 'F', FnText);\n\t\t\t}\n\t\t\t/*jshint evil: false */\n\t\t\tif (Watched) {\n\t\t\t\tcompiledFn = {W:[], F: compiledFn};\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (typeof console !== \"undefined\") {\n\t\t\t\t/**/console.log(\"doTA compile error:\\n\" + FnText);\n\t\t\t}\n\t\t\tthrow err;\n\t\t}\n\n\t\t// just for less array usage on heap profiling\n\t\t// but this may trigger GC more\n\t\tFnText = LevelMap = LevelVarMap = VarMap = ngIfLevels = ngIfLevelMap = WatchMap = idHash = void 0;\n\t\treturn compiledFn;\n\t}\n\n\tvar compiledHash = {};\n\tvar lastId = 0;\n\n\tfunction initCompileHash(obj) {\n\t\tfor (var x in obj) {\n\t\t\tcompiledHash[x] = obj[x];\n\t\t\tif (obj[x] > lastId) {\n\t\t\t\tlastId = obj[x];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getUniqueId(key) {\n\t\tif (key) {\n\t\t\tif (compiledHash[key]) {\n\t\t\t\treturn compiledHash[key];\n\t\t\t} else {\n\t\t\t\tcompiledHash[key] = lastId;\n\t\t\t\treturn lastId++;\n\t\t\t}\n\t\t} else {\n\t\t\treturn lastId++;\n\t\t}\n\t}\n\n\t//warm-up most used functions\n\tdoTA.compile('<div class=\"x {{x}}\" ng-class=\"{x:1}\" ng-repeat=\"x in y\" ng-if=\"x\" ng-value=\"x\" ng-disabled=\"0\">x{{x}}</div><!--x--><div ng-repeat=\"k,v in y\">{{v|json:4}}</div>', {\n\t\tdotaRender: 1});\n\tdoTA.compile('<div class=\"x {{x}}\" ng-class=\"{x:1}\" ng-repeat=\"x in y\" ng-if=\"x\" ng-value=\"x\" ng-disabled=\"0\">x{{x}}</div><!--x--><div ng-repeat=\"x in 1:10:2\">{{x}}</div>', {\n\t\twatchDiff: 1, dotaRender: 1});\n\tdoTA.compile('<div class=\"x {{x}}\" ng-class=\"{x:1}\" ng-repeat=\"x in y\" ng-if=\"x\" ng-value=\"x\" ng-disabled=\"0\">x{{x}}</div><!--x-->', {\n\t\twatchDiff: 1, diffLevel: 2, dotaRender: 1});\n\tdoTA.compile('<div class=\"x {{x}}\" ng-class=\"{x:1}\" ng-repeat=\"x in y\" ng-if=\"x\" ng-value=\"x\" ng-disabled=\"0\">x{{x}}</div><!--x-->', {\n\t\twatchDiff: 1, diffLevel: 3, dotaRender: 1});\n\n\treturn doTA;\n})();\n\nif (typeof module !== \"undefined\" && module.exports) {\n\tmodule.exports = doTA;\n//IE8\n} else if (typeof console === \"undefined\") {\n\tvar noop = function() {};\n\tvar console = {log: noop, time: noop, timeEnd: noop};\n}\n"],"sourceRoot":"/source/"}