var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},o=t.indexOf(" ");if(-1!==o){n=t.slice(0,o);for(var r=t.length;++o<r;){var a=t.indexOf("=",o);if(-1===a){i[t.slice(o)]="";break}var o=t.slice(o,a),d=t[a+1];if('"'===d||"'"===d)d=t.indexOf(d,a+2),a=t.slice(a+2,d),i[o]=e(a),o=d+1;else{if(d=t.indexOf(" ",a+2),-1===d){a=t.slice(a+1),i[o]=e(a);break}a=t.slice(a+1,d),i[o]=e(a),o=d}}}else n=t;return[n,i]}function n(e,n){if(e){var i=0,o=e.indexOf("<");do if("<"===e.charAt(o))o++,"/"===e.charAt(o)?(i=++o,o=e.indexOf(">",i),n.onclosetag(e.substring(i,o))):"!"===e.charAt(o)?(i=o,o=e.indexOf(">",i),n.oncomment(e.substring(i,o))):(i=o,o=e.indexOf(">",i),n.onopentag.apply(this,t(e.substring(i,o))));else{if(">"!==e.charAt(o))break;i=++o,o=e.indexOf("<",i),o>i&&n.ontext(e.substring(i,o))}while(o>0)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var i=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,o=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,r=/"[^"]*"|'[^']*'/g,a=/\s{2,}|\n/g,d=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,c=/^(?:input|img|br|hr)/i,l=/^(?:src|alt|title|href)/,f=/^(?:checked|selected|disabled)/,s=/\$index/g,u=0,p={diff:function(e,t){var n,i=doTA.H[e],o=0,r=i.indexOf("<"),a=0,d=t.indexOf("<");do if("<"===i.charAt(r))if(r++,d++,"/"===i.charAt(r)||"!"===i.charAt(r))r=i.indexOf(">",r),d=t.indexOf(">",d);else if(o=r,a=d,r=i.indexOf(">",o),d=t.indexOf(">",a),n=i.substring(o,r),a=t.substring(a,d),n!==a)e:{var c=o=void 0,l=n.indexOf(" "),f=void 0,s=void 0,u=void 0,p=void 0,u=void 0,s=0,h=void 0,g=void 0,f=void 0,v=n.length;if(-1!==l)for(;++l<v&&(f=n.indexOf("=",l),-1!==f);)if(h=n.slice(l,f),u=n[f+1],'"'===u||"'"===u){if(p=n.indexOf(u,f+2),g=n.slice(f+2,p),"id"===h)o=g;else if(s=f+s,u=a.indexOf(u,s+2),f=a.slice(s+2,u),s=u-p,g!==f){if(!c&&(c=document.getElementById(o),!c)){n=void 0;break e}c.setAttribute(h,f)}l=p+1}else{if(p=n.indexOf(" ",f+2),-1===p){o||(g=n.slice(f+1),"id"===h&&(o=g));break}o||(g=n.slice(f+1,p),"id"===h&&(o=g)),l=p}n=o}else a=n.indexOf(" id="),o=void 0,a>=0&&(a+=4,o=n.charAt(a),"'"===o||'"'===o?(a++,o=n.indexOf(o,a+1)):(o=n.indexOf(" ",a),-1===o&&(o=n.indexOf(">",a),-1===o&&(o=n.length)))),n=n.substring(a,o);else">"===i.charAt(r)&&(o=++r,a=++d,r=i.indexOf("<",o),d=t.indexOf("<",a),d>a&&(o=i.substring(o,r),a=t.substring(a,d),o!==a&&(o=document.getElementById(n))&&o.firstChild&&3===o.firstChild.nodeType&&(o.firstChild.nodeValue=a)));while(r>0)},CH:{},initCH:function(e){this.CH=e},compile:function(e,t){function p(e){if(e){e=e.match(o);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||w[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=C;i>=0;i--)if(A[i]){t+=e[n].replace(s,A[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function h(e){var t=e.indexOf("'");if(t>=0){var n="",i=0;do n+=e.substring(i,t),"\\"!==e.charAt(t-1)&&(n+="\\"),i=t,t=e.indexOf("'",i+1);while(t>0);return n+=e.substring(i,e.length)}return e}function g(e){var t=e.indexOf("{{");if(t>=0){var n=0,i="";do{if(n=e.substring(n,t),i+=h(n),n=t+2,t=e.indexOf("}}",n),n=e.substring(n,t),-1===n.indexOf("|"))n="'+("+p(n)+y+")+'";else{var o=n.indexOf("|");if(-1===o)n=[n];else{for(var r=0,a=[];-1!==o;)"|"===n.charAt(o+1)?o+=2:(a.push(n.substring(r,o)),r=++o),o=n.indexOf("|",o);r<n.length&&a.push(n.substring(r)),n=a}for(o=p(n[0]),r=1;r<n.length;r++)if(0<=n[r].indexOf(":")){if(a=n[r].split(":"),o="F('"+a.shift().trim()+"')("+o,a.length){for(var d=[],c=0;c<a.length;c++)d.push(p(a[c]));o+=","+d.join(",")}o+=")"}else o="F('"+n[r].trim()+"')("+o+")";n="'+("+o+y+")+'"}i+=n,n=t+2,t=e.indexOf("{{",n)}while(t>0);return i+=h(e.substring(n,e.length))}return h(e)}t=t||{};var v,m,x,O,y=t.loose?"||''":"",b=t.watchDiff,w={$index:1,undefined:1,$attr:1},C=0,$={},A={},T={},D=this.CH[t.dotaRender]||u++,R={};this.CH[t.dotaRender]=D;var I="'use strict';var "+(b?"N=0,J="+D+",":"")+"R='';";e=e.replace(a," "),t.encode&&(e=e.replace(r,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,r,a={},d="";if(n["dota-pass"]?(m=C,x=0):n["dota-continue"]&&(x=C),!m||x){if(n["ng-repeat"]){$[C]=$[C]?$[C]+1:1;var u="i"+C,h="l"+C,O=n["ng-repeat"].split(" in "),y=p(O[1]);A[C]=u,0<=O[0].indexOf(",")?(u=O[0].split(","),I+="var D"+C+"="+y+";",I+="for(var "+u[0]+" in D"+C+"){",I+="var "+u[1]+" = D"+C+"["+u[0]+"]; ",w[u[0]]=w[u[1]]=1):(I+="var D"+C+"="+y+","+u+"=-1,"+h+"=D"+C+".length;",I+="while(++"+u+"<"+h+"){",I+="var "+O[0]+"=D"+C+"["+u+"]; ",w[O[0]]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(o=1,I+=(v?"":"var "+(b?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+D+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",T[C]=v=1,I+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),$[C]=$[C]?$[C]+1:1,I+="if("+p(n["ng-if"])+"){",delete n["ng-if"]),n["ng-init"]&&(I+=p(n["ng-init"])+"; ",delete n["ng-init"]),n["ng-class"]){for(r=p(n["ng-class"]),n["class"]=n["class"]?g(n["class"]):"";null!==(y=i.exec(r));)n["class"]+="'+("+y[2]+"?'"+(n["class"]?" ":"")+y[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),r=1,delete n["ng-class"]}for(var q in n)"ng-"===q.substr(0,3)&&(y=q.substr(3),l.test(y)?(n[y]=n[q],delete n[q]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+y+" ")?(n.de="1",n["de-"+y]=n[q],delete n[q]):f.test(y)&&(d+="'+("+p(n[q])+"?' "+y+"=\"\"':'')+'",delete n[q]))}for(q in n)if(a[q]=r&&"class"===q?n[q]:g(n[q]),0<=a[q].indexOf("$index"))for(y=C;y>=0;y--)if(A[y]){a[q]=a[q].replace(s,"'+"+A[y]+"+'");break}I+="R+='<"+e,(b||o)&&(o=R[D+"."+C]=a.id||D+".'+N+'",I+=' id="'+o+'"',a.id&&delete a.id);for(var E in a)I+=" "+E+'="'+a[E]+'"';if(I+=d+">';",b&&(I+="N++; "),n["dota-render"]&&n.expand){a=[];for(q in n)q.indexOf("data-")?q.indexOf("scope-")||a.push('"'+q.slice(6)+'":S["'+n[q]+'"]'):a.push('"'+q.slice(5)+'":"'+n[q]+'"');I+="var P={"+a.join(",")+'},U="'+n["dota-render"]+'";',I+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}c.test(e)?0<$[C]&&(I+="}",$[C]--,A[C]=0):C++},onclosetag:function(e){for(C--,I+="R+='</"+e+">';",T[C]&&(I+="} else {",I+="R+='<"+e+" id="+R[D+"."+C]+" style=display:none></"+e+">'; ");0<$[C];)I+="}",$[C]--,A[C]=0;T[C]&&(I+="return R;}; ",I+="R+=W.F(S,F,$attr,X); ",T[C]=0),m&&m>=C&&(m=0)},ontext:function(e){I+=("R+='"+g(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){I+="R+='<"+g(e)+">';"}}),b&&(I+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),I+="return R;",I=I.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(I=I.replace(d,"$1$2")),t.debug&&console.log(I);try{O=new Function("S","F","$attr","X",I),v&&(O={W:[],F:O})}catch(q){throw"undefined"!=typeof console&&console.log("doTA compile error:"+I),q}return I=C=$=A=w=m=null,O},C:{},D:{},H:{}};return p.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1}),p}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(C,w){function I(e,t){return e in J?J[e]:e||t}function K(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function N(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){K(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function L(e,t,n){K(e.querySelectorAll("[de]"),function(e){for(var n=e.attributes,i=0,o=n.length;o>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){e.preventDefault(),e.stopPropagation(),t.$evalAsync(n.value,{$event:e})}}(e,n[i]))})}var O=w.documentMode,y;setTimeout(function(){w.getElementById&&(y=w.getElementById("dota-cache"),!y&&w.body&&(y=w.createElement("div"),y.id="dota-cache",y.style.display="none",w.body.appendChild(y)))});var J={0:0,"false":0};C.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=L,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(d,p,t,m,k,c){return{restrict:"A",priority:1e3,terminal:!0,controller:C.noop,link:C.noop,compile:function(){var P,h;return function(b,g,a){function n(){b.$on("$destroy",function(){y&&(d.D[q]=g[0],y.appendChild(g[0]))})}function l(e){try{var t=d.compile(e,a)}catch(n){throw console.log("compile error",a,e),n}return q&&(d.C[q]=t),t}function f(a,e){if((J||F)&&(P&&h.$destroy(),h=b.$new(),P=1,F)){var d=c(F,{$scope:h});g.data("$ngControllerController",d)}if(a){!e&&g[0].firstChild&&N(g[0]);try{var f=a.F?a.F(h,t,H,e):a(h,t,H,e)}catch(l){throw console.log("render error",a),l}if(e)return;if(g[0].firstChild)for(d=w.createElement("div"),d.innerHTML=f;f=d.firstChild;)g[0].appendChild(f);else g[0].innerHTML=f}if(D&&L(g[0],h,q),M?K(g[0].querySelectorAll("[dota-pass]"),function(e){k(e)(h)}):Q&&k(g.contents())(h),G&&setTimeout(function(){eval(G)}),R&&setTimeout(function(){h.$evalAsync(R)}),r&&n(),W&&g.attr("loaded",!0),a&&a.W)for(var m={},p={},f=0;f<a.W.length;f++)d=a.W[f],p[d.I]=h.$watch(d.W,function(e){return function(n,i){var o=w.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(h,t,H);return r?(r=C.element(r),m[e.I]&&m[e.I].$destroy(),m[e.I]=h.$new(),(M||Q)&&k(r)(m[e.I]),C.element(o).replaceWith(r),void(e.O&&p[e.I]())):console.log("no contents")}}(d))}function z(){d.C[q]?g[0].hasChildNodes()&&!S?f():f(d.C[q]):S?f(l(g[0].innerHTML,a)):q&&(g[0].hasChildNodes()?f():p.get(q,{cache:m}).success(function(e){f(l(e,a))}))}h=b;var r=a.cacheDom,q=a.dotaRender,J=a.scope,F=a.ngController,E=a.loose,v=a.optimize,D=a.event,U=a.debug,e=a.watch,M=a.compile,Q=a.compileAll,G=a.dotaOnload,R=a.dotaOnloadScope,W=a.loaded,S=a.inline,T=a.watchDiff,A=a.$attr,E=a.loose=I(E,1),v=a.optimize=I(v,0),U=a.debug=I(U,0),D=a.event=I(D,1),e=a.watch="string"==typeof e?e:0,H={};if(r&&d.D[q])e=O?d.D[q].cloneNode(!0):d.D[q],g[0].parentNode.replaceChild(e,g[0]);else{for(var B in A)E=A[B],E.indexOf("data-")?E.indexOf("scope-")||(H[E.slice(6)]=0<=a[B].indexOf(".")||0<=a[B].indexOf("[")?b.$eval(a[B]):b[a[B]]):H[B]=a[B];e&&h.$watchCollection(e,function(e,t){e!==t&&d.C[q]&&f(d.C[q])}),T&&h.$watchCollection(T,function(e,t){e!==t&&d.C[q]&&f(d.C[q],!0)}),z()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(a,d){a&&e.get(a,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,a,d){d=d||{},d.loose=1,o.C[e]?a(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,d),a(o.C[e](r,i))})}}])}(window.angular,window.document);