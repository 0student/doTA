var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function n(n,t){if(n){var i=0,o=n.indexOf("<");do if("<"===n.charAt(o))if(o++,"/"===n.charAt(o))i=++o,o=n.indexOf(">",i),t.onclosetag(n.substring(i,o));else if("!"===n.charAt(o))i=o,o=n.indexOf(">",i),t.oncomment(n.substring(i,o));else{var i=o,o=n.indexOf(">",i),i=n.substring(i,o),r=t,c={},l=void 0,a=i.indexOf(" "),d=void 0,f=void 0,s=void 0,u=void 0,u=void 0;if(-1!==a){for(l=i.slice(0,a),d=i.length;++a<d;){if(s=i.indexOf("=",a),-1===s){f=i.slice(a),"/"!==f&&(c[f]="");break}if(f=i.slice(a,s),u=i[s+1],'"'===u||"'"===u)u=i.indexOf(u,s+2),s=i.slice(s+2,u),c[f]=e(s),a=u+1;else{if(u=i.indexOf(" ",s+2),-1===u){s=i.slice(s+1),c[f]=e(s);break}s=i.slice(s+1,u),c[f]=e(s),a=u}}l=l.toLowerCase(),"input"===l||"img"===l?(r.onopentag(l,c,1),r.onvoidtag()):"/"===f?(r.onopentag(l,c),r.onclosetag(l)):r.onopentag(l,c)}else"/"===i.charAt(i.length-1)?(l=i.slice(0,-1).toLowerCase(),"br"===l||"hr"===l?(r.onopentag(l,c,1),r.onvoidtag()):(r.onopentag(l,c),r.onclosetag(l))):(l=i.toLowerCase(),"br"===l||"hr"===l?(r.onopentag(l,c,1),r.onvoidtag()):r.onopentag(l,c))}else{if(">"!==n.charAt(o))break;i=++o,o=n.indexOf("<",i),o>i&&t.ontext(n.substring(i,o))}while(o>0)}}function t(e,n){var t,i=1,o=n;do o=e.indexOf("<",o+1),"/"===e.charAt(o+1)?i--:(t=e.indexOf(" ",o+1),e.substring(o+1,t),i++),n=e.indexOf(">",o),"/"===e.charAt(n-1)&&i--;while(i>0);return n+1}function i(e,n,t){var i,o,r,c=e.indexOf(" ");r=0;var l,a,d=e.length;if(-1!==c)for(;++c<d;){if(o=e.indexOf('="',c),l=e.slice(c,o),c=e.indexOf('"',o+2),a=e.slice(o+2,c),t||"id"!==l){if(o+=r,r=n.indexOf('"',o+2),o=n.slice(o+2,r),r-=c,a!==o){if(!i&&(i=document.getElementById(t),!i))return;i.setAttribute(l,o)}}else t=a;c+=1}return t}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var o=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,r=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,c=/"[^"]*"|'[^']*'/g,l=/\s{2,}|\n/g,a=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,d=/^(?:src|alt|title|href)/,f=/^(?:checked|selected|disabled|readonly|multiple|required|hidden|nowrap)/,s=/\$index/g,u={},p=0,g={diff:function(e,n){var t,o=doTA.H[e],r=0,c=o.indexOf("<"),l=0,a=n.indexOf("<");do"<"===o.charAt(c)?(c++,a++,"/"===o.charAt(c)||"!"===o.charAt(c)?(c=o.indexOf(">",c),a=n.indexOf(">",a)):(r=c,l=a,c=o.indexOf(">",r),a=n.indexOf(">",l),t=o.substring(r,c),l=n.substring(l,a),t!==l?t=i(t,l):(l=t.indexOf(' id="',void 0),r=void 0,l>=0?(l+=5,r=t.indexOf('"',l),t=t.substring(l,r)):t=void 0))):">"===o.charAt(c)&&(r=++c,l=++a,c=o.indexOf("<",r),a=n.indexOf("<",l),a>l&&(r=o.substring(r,c),l=n.substring(l,a),r!==l&&(r=document.getElementById(t))&&r.firstChild&&3===r.firstChild.nodeType&&(r.firstChild.nodeValue=l)));while(c>0)},diff2:function(e,n){var o,r,c,l,a,d,f,s,u=doTA.H[e],p=0,p=u.indexOf("<"),g=0,g=n.indexOf("<"),h=0,m=0,v=document.createElement("div");a=l=0;for(var x;p>=0&&2>a&&(p=u.indexOf('id="',p),p>0&&(p+=4,o=u.substring(p,u.indexOf('"',p)),h=0^o),a&&h>m&&(a=2)),g>=0&&2>l&&(x=r,g=n.indexOf('id="',g),g>0&&(g+=4,r=n.substring(g,n.indexOf('"',g)),m=0^r),l&&m>h&&(l=2)),!(0>p&&0>g);)p>0&&g>0&&h===m?(l=p,p=u.indexOf(">",p),l=u.substring(l,p),s=g,g=n.indexOf(">",g),a=n.substring(s,g),l!==a&&i(l,a,o),l=a=0):(l&&(h>m&&g>0||0>p)&&(a=2,l=0),a&&(m>h&&p>0||0>g)&&(l=2,a=0),a&&(h>m||0>p&&g>0)?(s=n.lastIndexOf("<",g-6),g=t(n,s),v.innerHTML=n.slice(s,g),f?d.insertBefore(v.firstChild,f):(d||(d=document.getElementById(x)),d.appendChild(v.firstChild))):l&&(m>h||0>g&&p>0)?(c=document.getElementById(o),c.parentNode.removeChild(c),p=t(u,p)):p>0&&g>0&&h!==m&&!a&&!l&&(c=document.getElementById(o),f=c.nextSibling,d=c.parentNode,s=n.lastIndexOf("<",g-6),g=t(n,s),v.innerHTML=n.substring(s,g),d.replaceChild(v.firstChild,c),p=t(u,p),m>h&&(a=1),h>m&&(l=1)))},getId:function(e){if(e){if(u[e])return u[e];u[e]=p}return p++},initCH:function(e){for(var n in e)u[n]=e[n],e[n]>p&&(p=e[n])},compile:function(e,t){function i(e){if(e){e=e.match(r);for(var n="",t=0;t<e.length;t++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t].charAt(0)))||C[e[t]]||t&&"."===e[t-1][e[t-1].length-1])if(0<=e[t].indexOf("$index")){for(var i=$;i>=0;i--)if(N[i]){n+=e[t].replace(s,N[i]);break}}else n+=e[t];else n+="S."+e[t];return n}return e}function u(e){var n=e.indexOf("'");if(n>=0){var t="",i=0;do t+=e.substring(i,n),"\\"!==e.charAt(n-1)&&(t+="\\"),i=n,n=e.indexOf("'",i+1);while(n>0);return t+=e.substr(i)}return e}function p(e){var n=e.indexOf("{{");if(n>=0){var t=0,i="";do t=e.substring(t,n),i+=u(t),t=n+2,n=e.indexOf("}}",t),t=e.substring(t,n),i+="'+("+g(t)+A+")+'",t=n+2,n=e.indexOf("{{",t);while(n>0);return i+=u(e.substr(t))}return u(e)}function g(e){if(-1===e.indexOf("|"))return i(e);var n=e.indexOf("|");if(-1===n)e=[e];else{for(var t=0,o=[];-1!==n;)"|"===e.charAt(n+1)?n+=2:(o.push(e.substring(t,n)),t=++n),n=e.indexOf("|",n);t<e.length&&o.push(e.substring(t)),e=o}for(var r,n=i(e[0]),t=0,c=1;c<e.length;c++)if(r=e[c],o=r.indexOf(":"),o>0){for(n="F('"+r.slice(t,o).trim()+"')("+n,t=++o,o=r.indexOf(":",t);o>0;)n+=","+i(r.slice(t,o)),t=++o,o=r.indexOf(":",t);n+=","+i(r.substr(t))+")"}else n="F('"+r.trim()+"')("+n+")";return n}t=t||{};var h,m,v,x,b,O,A=t.loose?"||''":"",w=t.watchDiff,y=+t.diffLevel,C={$index:1,undefined:1,$attr:1},$=0,T={},N={},D={},E=this.getId(t.dotaRender),I={},R="'use strict';var "+(w?"N=1,J="+E+",":"")+"R='';";e=e.replace(l," "),t.encode&&(e=e.replace(c,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n,r){var c,l,a,u={},O="";if(n["dota-pass"]?(x=$,b=0):n["dota-continue"]&&(b=$),!x||b){if(n["ng-repeat"]){T[$]=T[$]?T[$]+1:1;var A="i"+$,F="l"+$,S=n["ng-repeat"],k=S.indexOf(" in ");a=S.substr(0,k);var W,S=S.substr(k+4),k=a.indexOf(","),H=S.indexOf("|");N[$]=A,H>0?l=g(S):(W=S.indexOf(":"),0>W&&(l=i(S))),W>0?(l=S.substr(0,W),A=S.indexOf(":",++W),A>0?(W=S.substring(W,A),S=S.substr(A+1)):(W=S.substr(W),S=1),R+="for(var "+a+"="+l+";"+a+(S>0?"<":">")+W+";"+a+"+="+S+"){",C[a]=1):k>0?(W=a.substr(0,k),a=a.substr(k+1),R+="var "+a+",D"+$+"="+l+";",R+="for(var "+W+" in D"+$+"){",R+=a+" = D"+$+"["+W+"]; ",C[W]=C[a]=1):(R+="var "+a+",D"+$+"="+l+","+A+"=-1,"+F+"=D"+$+".length;",R+="while(++"+A+"<"+F+"){",R+=a+"=D"+$+"["+A+"]; ",C[a]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(c=1,R+=(v?"":"var "+(w?"":"N=1,")+"T=this;T.W=[];")+'var W={N:N,I:N+".'+E+'",W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",D[$]=v=1,R+='W.F=function(S,F,$attr,X,N){var R="";',delete n.watch,delete n.wait),T[$]=T[$]?T[$]+1:1,R+="if("+i(n["ng-if"])+"){",y&&(h=$,m=0),delete n["ng-if"]),void 0!==n.elif&&(R+="else if("+i(n.elif)+"){",T[$]=T[$]?T[$]+1:1,delete n.elif),void 0===n["else"]||w||(R+="else{",T[$]=T[$]?T[$]+1:1,delete n["else"]),n["ng-init"]&&(R+=i(n["ng-init"])+"; ",delete n["ng-init"]),n["ng-class"]){for(a=i(n["ng-class"]),u["class"]=n["class"]?p(n["class"]):"";null!==(l=o.exec(a));)u["class"]+="'+("+l[2]+"?'"+(u["class"]?" ":"")+l[1].replace(/['"]/g,"")+"':'')+'";delete n["ng-class"]}n["ng-show"]&&(u["class"]=u["class"]||n["class"]||"",u["class"]+="'+("+i(n["ng-show"])+"?'':'"+(u["class"]?" ":"")+"ng-hide')+'",delete n["ng-show"]),n["ng-hide"]&&(u["class"]=u["class"]||n["class"]||"",u["class"]+="'+("+i(n["ng-hide"])+"?'"+(u["class"]?" ":"")+"ng-hide':'')+'",delete n["ng-hide"]),u["class"]&&(u["class"]=u["class"].replace(/\+''\+/g,"+"),delete n["class"]);for(var L in n){if(a=n[L],"ng-"===L.substr(0,3))if(l=L.substr(3),d.test(l))L=l;else if(t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+l+" "))u.de="1",L="de-"+l;else{if(f.test(l)){O+="'+("+i(a)+"?' "+l+"=\"\"':'')+'";continue}if("value"===l){u.value="'+("+i(a)+")+'";continue}}if(0<=a.indexOf("$index")){for(l=$;l>=0;l--)if(N[l]){u[L]=p(a).replace(s,"'+"+N[l]+"+'");break}}else u[L]=p(a)}}else for(L in n)if(0<=n[L].indexOf("$index")){for(l=$;l>=0;l--)if(N[l]){u[L]=p(n[L]).replace(s,"'+"+N[l]+"+'");break}}else u[L]=p(n[L]);R+="R+='<"+e,(c||w)&&(e=I[E+"."+$]=u.id||"'+N+'."+E,R+=' id="'+e+'"',u.id&&delete u.id);for(var q in u)R+=" "+q+'="'+u[q]+'"';if(R+=O+(r?" /":"")+">';",w&&(R+="N++; ",m>=0&&m++),n["dota-render"]&&n.expand){r=[];for(L in n)L.indexOf("data-")?L.indexOf("scope-")||r.push('"'+L.slice(6)+'":S["'+n[L]+'"]'):r.push('"'+L.slice(5)+'":"'+n[L]+'"');R+="var P={"+r.join(",")+'},U="'+n["dota-render"]+'";',R+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}$++},onvoidtag:function(){for($--;0<T[$];)R+="}",T[$]--;N[$]=0,x&&x>=$&&(x=0)},onclosetag:function(e){for($--,R+="R+='</"+e+">';",D[$]?(R+="} else {",R+="R+='<"+e+' id="'+I[E+"."+$]+'" style="display:none"></'+e+">';"):y&&$===h&&m>=0&&(m&&(R+="}else{N+="+m+"; "),h=m=void 0);0<T[$];)R+="}",T[$]--;N[$]=0,D[$]&&(R+="return R;}; ",R+="R+=W.F(S,F,$attr,X,N);N+="+m+"; ",D[$]=0,y&&(h=m=void 0)),x&&x>=$&&(x=0)},ontext:function(e){R+=("R+='"+p(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){R+="R+='<"+p(e)+">';"}}),w&&(R+="if(X&&J in doTA.H){doTA.diff"+(y||"")+"(J,R)}doTA.H[J]=R;"),R+="return R;",R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&!w&&(R=R.replace(a,"$1$2")),t.debug&&console.log(R);try{O=new Function("S","F","$attr","X",R),v&&(O={W:[],F:O})}catch(F){throw"undefined"!=typeof console&&console.log("doTA compile error:"+R),F}return R=$=T=N=C=x=null,O},C:{},D:{},H:{}};return g.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1,diffLevel:2}),g}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(F,J){function C(e,n){return e in M?M[e]:e||n}function G(e,n,t){if(e.forEach)return e.forEach(n);for(var i=0,o=e.length;o>i;i++)i in e&&n.call(t,e[i],i);return e}function S(e,n){return 0<=e.indexOf(".")?e.split(".").reduce(function(e,n){return e?e[n]:void 0},n):n[e]}function N(e,n){if(0<=e.indexOf(".")){var t=e.split(".");e=t.splice(-1,1)[0],n=t.reduce(function(e,n){return e[n]||(e[n]={}),e[n]},n)}return{assign:function(t){n[e]=t}}}function R(e,n){function t(){e.apply(c,r)}void 0===n&&(n=200);var i,o,r,c,l=+new Date;return function(){r=arguments,c=this,o=+new Date,i&&clearTimeout(i),o-l>=n?(l=o,t()):i=setTimeout(t,n)}}function U(e){e=e.firstChild;var n=[];if(e)for(e.hidden=1,n.push(e);e=e.nextSibling;)e.hidden=1,n.push(e);setTimeout(function(){G(n,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function O(e,n,t){if(!e.de){t=e.attributes;for(var i=0,o=t.length;o>i;i++)"de-"===t[i].name.substr(0,3)&&e.addEventListener(t[i].name.substr(3),function(e,t){return function(e){e.target||(e.target=e.srcElement),e.preventDefault(),e.stopPropagation(),n.$evalAsync(t.value,{$event:e})}}(e,t[i]));e.de=1}}function T(e,n,t){e=e.querySelectorAll("[de]");for(var i=0,o=e.length;o>i;i++)O(e[i],n,t)}function V(e,n,t){G(e.querySelectorAll("[ng-model]"),function(e){if(void 0==e.getAttribute("dota-pass")){var t=e.getAttribute("ng-model");e.removeAttribute("ng-model");var i=e.getAttribute("update-on")||("text"!==e.type||8>=P?"change":"input"),o=+e.getAttribute("throttle")||100,r=e.getAttribute("bind-prop")||("checkbox"===e.type||"radio"===e.type)&&"checked",c=S(t,n)||"";r?e[r]=e.value===c:e.value=c;var l;G(i.split(" "),function(i){i=i.trim(),e.addEventListener(i,R(function(e){l||(l=N(t,n)),e.preventDefault(),e.stopPropagation(),n.$applyAsync(function(){l.assign(r?r&&e.target[r]?e.target.value:void 0:e.target.value)})},o))})}})}var P=J.documentMode,L=8>=P?"innerText":"textContent",D;setTimeout(function(){J.createElement&&(D=J.createElement("div"))});var M={0:0,"false":0};F.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=T,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(b,e,d,a,c,k){return{restrict:"A",priority:1e4,terminal:!0,controller:F.noop,link:F.noop,compile:function(){var l,h,q=[],p={};return function(g,n,m){function v(){g.$on("$destroy",function(){D&&(b.D[x]=n[0],D.appendChild(n[0]))})}function B(e){try{var n=b.compile(e,m)}catch(t){throw console.log("compile error",m,e),t}return x&&(b.C[x]=n),n}function A(e){if(Z&&V(e,h,x),O&&T(e,h,x),aa){for(;q.length;)q.pop()();G(e.querySelectorAll("[ng-bind]"),function(e){var n=e.getAttribute("ng-bind");e.removeAttribute("ng-bind"),p[n]&&(e.innerHTML=p[n]),q.push(h.$watchCollection(n,function(t,i){t!==i&&(e[L]=p[n]=t||"")}))})}r?G(e.querySelectorAll("[dota-pass]"),function(e){c(e)(h)}):t&&c(e.contentDocument||e.childNodes)(h)}function E(a,b){if((S||N)&&(l&&h.$destroy(),h=g.$new(),l=1,N)){var e=k(N,{$scope:h});n.data("$ngControllerController",e)}if(a){!b&&n[0].firstChild&&U(n[0]);try{var f=a.F?a.F(h,d,y,b):a(h,d,y,b)}catch(m){throw console.log("render error",a),m}if(W&&console.log(x,f),b)return void A(n[0]);if(n[0].firstChild)for(e=J.createElement("div"),e.innerHTML=f,A(e);f=e.firstChild;)n[0].appendChild(f);else n[0].innerHTML=f,A(n[0])}else A(n[0]);if(w&&setTimeout(function(){eval(w)}),I&&setTimeout(function(){h.$evalAsync(I)}),M&&v(),ba&&n.attr("loaded",!0),a&&a.W)for(var p={},q={},f=0;f<a.W.length;f++)e=a.W[f],q[e.I]=h.$watch(e.W,function(e){return function(n,i){if(n!==i){var o=J.getElementById(e.I);if(!o)return console.log("tag not found");var l=e.F(h,d,y,null,e.N);if(!l)return console.log("no contents");l=F.element(l),p[e.I]&&p[e.I].$destroy(),p[e.I]=h.$new(),(r||t)&&c(l)(p[e.I]),F.element(o).replaceWith(l),e.O&&q[e.I]()}}}(e))}function H(){b.C[x]?n[0].hasChildNodes()&&!z?E():E(b.C[x]):z?E(B(n[0].innerHTML,m)):x&&(n[0].hasChildNodes()?E():e.get(x,{cache:a}).success(function(e){E(B(e,m))}))}h=g;var M=m.cacheDom,x=m.dotaRender,S=m.scope,N=m.ngController,f=m.loose,R=m.optimize,O=m.event,W=m.debug,Q=m.watch,r=m.compile,Z=m.model,aa=m.bind,t=m.compileAll,w=m.dotaOnload,I=m.dotaOnloadScope,ba=m.loaded,z=m.inline,K=m.watchDiff,X=m.$attr,f=m.loose=C(f,1),R=m.optimize=C(R,0),W=m.debug=C(W,0),O=m.event=C(O,1),Q=m.watch="string"==typeof Q?Q:0,y={};if(M&&b.D[x])Q=P?b.D[x].cloneNode(!0):b.D[x],n[0].parentNode.replaceChild(Q,n[0]);else{for(var u in X)f=X[u],f.indexOf("data-")?f.indexOf("scope-")||(y[f.slice(6)]=0<=m[u].indexOf(".")||0<=m[u].indexOf("[")?g.$eval(m[u]):g[m[u]]):y[u]=m[u];Q&&h.$watchCollection(Q,function(e,n){e!==n&&b.C[x]&&E(b.C[x])}),K&&h.$watchCollection(K,function(e,n){e!==n&&b.C[x]&&E(b.C[x],!0)}),H()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e4,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:n}).success(function(e){o.html(e),"false"!==r.compile&&t(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e4,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,l){c&&e.get(c,{cache:n}).success(function(e){o.html(e),"false"!==r.compile&&t(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,i,o){return function(e,r,c,l){l=l||{},l.loose=1,o.C[e]?c(o.C[e](r,i)):n.get(e,{cache:t}).success(function(n){o.C[e]=o.compile(n,l),c(o.C[e](r,i))})}}])}(window.angular,window.document);