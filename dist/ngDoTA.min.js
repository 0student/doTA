var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},o=t.indexOf(" ");if(-1!==o){n=t.slice(0,o);for(var r=t.length;++o<r;){var c=t.indexOf("=",o);if(-1===c){i[t.slice(o)]="";break}var l=t.slice(o,c),a=t[c+1];if('"'===a||"'"===a)a=t.indexOf(a,c+2),c=t.slice(c+2,a),i[l]=e(c),o=a+1;else{if(a=t.indexOf(" ",c+2),-1===a){c=t.slice(c+1),i[l]=e(c);break}c=t.slice(c+1,a),i[l]=e(c),o=a}}}else n=t;return[n,i,o]}function n(e,n){if(e){var i=e.match(/([<>]|[^<>]+)/g),o=0,r=i.length;do"<"===i[o]?(o++,"/"===i[o][0]?n.onclosetag(i[o].slice(1)):"!"===i[o][0]?n.oncomment(i[o]):n.onopentag.apply(this,t(i[o]))):">"===i[o]&&"<"!==i[o+1]&&(o++,i[o])&&n.ontext(i[o]);while(++o<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var i=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,o=/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g,r=/"[^"]*"|'[^']*'/g,c=/\s{2,}|\n/g,l=/\{\{|\}\}/,a=/\{\{([^}]+)\}\}/g,d=/([^|]+(?:\|\|)?)+/g,f=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,s=/^(?:input|img|br|hr)/i,u=/^(?:src|alt|title|href)/,p=0;return{nc:function(e,t){t=t||"";for(var n in e)e[n]&&(t+=(t?" ":"")+n);return t},diff:function(e,t){var n,i,o="textContent"in document.body?"textContent":"innerText",r=doTA.H[e].match(/([<>]|[^<>]+)/g),c=r.length,l=t.match(/([<>]|[^<>]+)/g),a=0;if(c===l.length)do if("<"===r[a]){if(a++,"/"!==r[a][0]&&"!"!==r[a][0])if(r[a]!==l[a])e:{n=r[a],i=l[a];var d=void 0,f=void 0,s=n.indexOf(" "),u=void 0,p=void 0,h=void 0,g=void 0,h=void 0,p=0,m=void 0,v=void 0,u=void 0,w=n.length;if(-1!==s)for(;++s<w&&(u=n.indexOf("=",s),-1!==u);)if(m=n.slice(s,u),h=n[u+1],'"'===h||"'"===h){if(g=n.indexOf(h,u+2),v=n.slice(u+2,g),"id"===m)d=v;else if(p=u+p,h=i.indexOf(h,p+2),u=i.slice(p+2,h),p=h-g,v!==u){if(!f&&(f=document.getElementById(d),!f)){n=void 0;break e}f.setAttribute(m,u)}s=g+1}else{if(g=n.indexOf(" ",u+2),-1===g){d||(v=n.slice(u+1),"id"===m&&(d=v));break}d||(v=n.slice(u+1,g),"id"===m&&(d=v)),s=g}n=d}else n=r[a],i=n.indexOf(" id="),d=void 0,i>=0&&(i+=4,d=n.charAt(i),"'"===d||'"'===d?(i++,d=n.indexOf(d,i+1)):(d=n.indexOf(" ",i),-1===d&&(d=n.indexOf(">",i),-1===d&&(d=n.length)))),n=n.substring(i,d)}else">"===r[a]&&"<"!==r[a+1]&&(a++,r[a]!==l[a]&&(i=document.getElementById(n))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[o]=l[a]));while(a++<c)},CH:{},initCH:function(e){this.CH=e},compile:function(e,t){function h(e){if(e){e=e.match(o);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||y[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=b;i>=0;i--)if(T[i]){t+=e[n].replace(/\$index/g,T[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function g(e,t){var n=t.indexOf("|");if(-1===n)return"'+("+h(t)+C+")+'";var i="|"===t[n+1]?t.match(d):t.split("|"),n=h(i[0]);if(i[1]){if(i=i[1].split(":"),n="F('"+i.shift().trim()+"')("+n,i.length){for(var o=[],r=0;r<i.length;r++)o.push(h(i[r]));n+=","+o.join(",")}n+=")"}return"'+("+n+C+")+'"}t=t||{};var m,v,w,$,C=t.loose?"||''":"",x=t.watchDiff,y={$index:1,undefined:1,$attr:1},b=0,O={},T={},A={},D=this.CH[t.dotaRender]||p++,E={};this.CH[t.dotaRender]=D;var R="'use strict';var "+(x?"N=0,J="+D+",":"")+"R='';";e=e.replace(c," "),t.encode&&(e=e.replace(r,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,r,c={};if(n["dota-pass"]?(v=b,w=0):n["dota-continue"]&&(w=b),!v||w){if(n["ng-repeat"]){O[b]=O[b]?O[b]+1:1;var a="i"+b,d="l"+b,f=n["ng-repeat"].split(" in "),p=h(f[1]);T[b]=a,0<=f[0].indexOf(",")?(a=f[0].split(","),R+="var D"+b+"="+p+";",R+="for(var "+a[0]+" in D"+b+"){",R+="var "+a[1]+" = D"+b+"["+a[0]+"]; ",y[a[0]]=y[a[1]]=1):(R+="var D"+b+"="+p+","+a+"=-1,"+d+"=D"+b+".length;",R+="while(++"+a+"<"+d+"){",R+="var "+f[0]+"=D"+b+"["+a+"]; ",y[f[0]]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(o=1,R+=(m?"":"var "+(x?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+D+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",A[b]=m=1,R+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),O[b]=O[b]?O[b]+1:1,R+="if("+h(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]){for(r=h(n["ng-class"]),n["class"]=n["class"]||"";null!==(p=i.exec(r));)n["class"]+="'+("+p[2]+"?'"+(n["class"]?" ":"")+p[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),r=1,delete n["ng-class"]}for(var $ in n)"ng-"===$.substr(0,3)&&(p=$.substr(3),u.test(p)?(n[p]=n[$],delete n[$]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+p+" ")&&(n.de="1",n["de-"+p]=n[$],delete n[$]))}for($ in n){if(p=$,r&&"class"===$)a=n[$];else if(a=n[$],0<=a.indexOf("{{")){for(a=a.split(l),d=0;d<a.length;d+=2)0<=a[d].indexOf("'")&&(a[d]=a[d].replace(/'/g,"\\'"));for(d=1;d<a.length-1;d+=2)a[d]=g(null,a[d]);a=a.join("")}else a=0<=a.indexOf("'")?a.replace(/'/g,"\\'"):a;if(c[p]=a,0<=c[$].indexOf("$index"))for(p=b;p>=0;p--)if(T[p]){c[$]=c[$].replace(/\$index/g,"'+"+T[p]+"+'");break}}R+="R+='<"+e,(x||o)&&(o=E[D+"."+b]=c.id||D+".'+N+'",R+=' id="'+o+'"',c.id&&delete c.id);for(var C in c)R+=" "+C+'="'+c[C]+'"';if(R+=">';",x&&(R+="N++; "),n["dota-render"]&&n.expand){c=[];for($ in n)$.indexOf("data-")?$.indexOf("scope-")||c.push('"'+$.slice(6)+'":S["'+n[$]+'"]'):c.push('"'+$.slice(5)+'":"'+n[$]+'"');R+="var P={"+c.join(",")+'},U="'+n["dota-render"]+'";',R+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}s.test(e)?0<O[b]&&(R+="}",O[b]--,T[b]=0):b++},onclosetag:function(e){for(b--,R+="R+='</"+e+">';",A[b]&&(R+="} else {",R+="R+='<"+e+" id="+E[D+"."+b]+" style=display:none></"+e+">'; ");0<O[b];)R+="}",O[b]--,T[b]=0;A[b]&&(R+="return R;}; ",R+="R+=W.F(S,F,$attr,X); ",A[b]=0),v&&v>=b&&(v=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(a,g)),R+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){R+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),x&&(R+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),R+="return R;",R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(R=R.replace(f,"$1$2")),t.debug&&console.log(R);try{$=new Function("S","F","$attr","X",R),m&&($={W:[],F:$})}catch(k){throw"undefined"!=typeof console&&console.log("doTA compile error:"+R),k}return R=b=O=T=y=v=null,$},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(B,D){function G(e,t){return e in H?H[e]:e||t}function I(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function M(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){I(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var N=D.documentMode,E;setTimeout(function(){D.getElementById&&(E=D.getElementById("dota-cache"),!E&&D.body&&(E=D.createElement("div"),E.id="dota-cache",E.style.display="none",D.body.appendChild(E)))});var H={0:0,"false":0};B.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(c,h,t,x,u,C){return{restrict:"A",priority:1e3,terminal:!0,controller:B.noop,link:B.noop,compile:function(){var l,f;return function(n,d,e){function r(){n.$on("$destroy",function(){E&&(c.D[w]=d[0],E.appendChild(d[0]))})}function q(t){try{var n=c.compile(t,e)}catch(i){throw console.log("compile error",e,t),i}return w&&(c.C[w]=n),n}function b(a,b){if((H||v)&&(l&&f.$destroy(),f=n.$new(),l=1,v)){var c=C(v,{$scope:f});d.data("$ngControllerController",c)}if(a){!b&&d[0].firstChild&&M(d[0]);try{var e=a.F?a.F(f,t,K,b):a(f,t,K,b)}catch(h){throw console.log("render error",a),h}if(b)return;if(d[0].firstChild)for(c=D.createElement("div"),c.innerHTML=e;e=c.firstChild;)d[0].appendChild(e);else d[0].innerHTML=e}if(A&&I(d[0].querySelectorAll("[de]"),function(e){var t=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var n=0,i=t.length;i>n;n++)"de-"===t[n].name.substr(0,3)&&e.addEventListener(t[n].name.substr(3),function(e,t){return function(e){f.$applyAsync(t.value)}}(e,t[n]))}),L?I(d[0].querySelectorAll("[dota-pass]"),function(e){u(e)(f)}):P&&u(d.contents())(f),g&&setTimeout(function(){eval(g)}),Q&&setTimeout(function(){f.$evalAsync(Q)}),p&&r(),T&&d.attr("loaded",!0),a&&a.W)for(var k={},m={},e=0;e<a.W.length;e++)c=a.W[e],m[c.I]=f.$watch(c.W,function(e){return function(n,i){var o=D.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(f,t,K);return r?(r=B.element(r),k[e.I]&&k[e.I].$destroy(),k[e.I]=f.$new(),(L||P)&&u(r)(k[e.I]),B.element(o).replaceWith(r),void(e.O&&m[e.I]())):console.log("no contents")}}(c))}function m(){c.C[w]?d[0].hasChildNodes()&&!R?b():b(c.C[w]):R?b(q(d[0].innerHTML,e)):w&&(d[0].hasChildNodes()?b():h.get(w,{cache:x}).success(function(t){b(q(t,e))}))}f=n;var p=e.cacheDom,w=e.dotaRender,H=e.scope,v=e.ngController,F=e.loose,O=e.optimize,A=e.event,J=e.debug,a=e.watch,L=e.compile,P=e.compileAll,g=e.dotaOnload,Q=e.dotaOnloadScope,T=e.loaded,R=e.inline,k=e.watchDiff,S=e.$attr,F=e.loose=G(F,1),O=e.optimize=G(O,0),J=e.debug=G(J,0),A=e.event=G(A,1),a=e.watch="string"==typeof a?a:0,K={};if(p&&c.D[w])a=N?c.D[w].cloneNode(!0):c.D[w],d[0].parentNode.replaceChild(a,d[0]);else{for(var y in S)F=S[y],F.indexOf("data-")?F.indexOf("scope-")||(K[F.slice(6)]=f[e[y]]):K[y]=e[y];a&&f.$watchCollection(a,function(e,t){e!==t&&c.C[w]&&b(c.C[w])}),k&&f.$watchCollection(k,function(e,t){e!==t&&c.C[w]&&b(c.C[w],!0)}),m()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,l){c&&e.get(c,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,c,l){l=l||{},l.loose=1,o.C[e]?c(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,l),c(o.C[e](r,i))})}}])}(window.angular,window.document);