String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var doTA={valid_chr:function(){for(var a={},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz$_",c=0;c<b.length;c++)a[b[c]]=1;return a}(),parse:function(a,b){"use strict";if(a){var c=a.match(/([<>]|[^<>]+)/g),d=0,e=function(a){return-1===a.indexOf("&")?a:a.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===c[d])if(d++,"/"===c[d][0])b.onclosetag(c[d].slice(1));else if("!"===c[d][0])b.oncomment(c[d]);else{var f,g={},h=c[d],i=h.indexOf(" ");if(-1===i)f=h;else{f=h.slice(0,i);for(var j=h.length;++i<j;){var k=h.indexOf("=",i);if(-1===k){g[h.slice(i)]="";break}var l,m,n=h.slice(i,k),o=h[k+1];if('"'===o||"'"===o)m=h.indexOf(o,k+2),l=h.slice(k+2,m),g[n]=e(l),i=m+1;else{if(m=h.indexOf(" ",k+2),-1===m){l=h.slice(k+1),g[n]=e(l);break}l=h.slice(k+1,m),g[n]=e(l),i=m}}}b.onopentag(f,g)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]&&b.ontext(c[d]));while(++d<c.length)}},compile:function(a,b){"use strict";b=b||{};var c=b.loose?"||''":"",d=this;a=a.replace(/\s{2,}|\n/g," "),b.encode&&(a=a.replace(/"[^"]*"|'[^']*'/g,function(a){return a.replace(/[<>]/g,function(a){return{">":"&gt;","<":"&lt;"}[a]})}));var e,f,g=function(a,b){if(b){for(var c=b.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),e="",f=0;f<c.length;f++)if(!d.valid_chr[c[f][0]]||a[c[f]]||f&&"."===c[f-1][c[f-1].length-1])if(-1!==c[f].indexOf("$index")){for(var g=m;g>=0;g--)if(o[g]){e+=c[f].replace(/\$index/g,o[g]);break}}else e+=c[f];else e+="S."+c[f];return e}return b},h={$index:1,undefined:1,$attr:1},i=function(a){if(a.indexOf("{{")>=0){for(var b=a.split(/\{\{|\}\}/),c=0;c<b.length;c+=2)b[c].indexOf("'")>=0&&(b[c]=b[c].replace(/'/g,"\\'"));for(var c=1;c<b.length-1;c+=2)b[c]=k(null,b[c]);return b.join("")}return a.indexOf("'")>=0?a.replace(/'/g,"\\'"):a},j=function(a){return a.replace(/\{\{([^}]+)\}\}/g,k)},k=function(a,b){var d=b.indexOf("|");if(-1===d)return"'+("+g(h,b)+c+")+'";for(var e="|"===b[d+1]?b.match(/([^|]+(?:\|\|)?)+/g):b.split("|"),f=g(h,e[0]),i=1;i<e.length;i++){var j=e[i].split(":");if(f="F('"+j.shift().trim()+"')("+f,j.length){for(var k=[],l=0;l<j.length;l++)k.push(g(h,j[l]));f+=","+k.join(",")}f+=")";break}return"'+("+f+c+")+'"},l=function(a,b){var c=Array(a+2).join("    ");return b?c.slice(0,-2):c},m=0,n={},o={},p="var R='';";this.parse(a,{onopentag:function(a,b){var c,d={};if(b["dota-pass"]?(e=m,f=0):b["dota-continue"]&&(f=m),!e&&b["ng-repeat"]){n[m]=n[m]?n[m]+1:1;var j="i"+m,k="l"+m,q=b["ng-repeat"].split(" in "),r=g(h,q[1]);if(o[m]=j,-1!==q[0].indexOf(",")){var s=q[0].split(",");p+="var D"+m+"="+r+";",p+="for(var "+s[0]+" in D"+m+"){",p+="var "+s[1]+" = D"+m+"["+s[0]+"]; ",h[s[0]]=h[s[1]]=1}else p+="var D"+m+"="+r+","+j+"=-1,"+k+"=D"+m+".length;",p+="while(++"+j+"<"+k+"){",p+="var "+q[0]+"=D"+m+"["+j+"]; ",h[q[0]]=1;delete b["ng-repeat"]}if(!e||f){b["ng-if"]&&(n[m]=n[m]?n[m]+1:1,p+="if("+g(h,b["ng-if"])+"){",delete b["ng-if"]),b["ng-class"]&&(p+="var s=[],n="+g(h,b["ng-class"])+";",p+="for(var c in n){n[c]&&s.push(c);}",c=1,delete b["ng-class"]);for(var t in b)"-"===t.charAt(2)&&/^ng-(?:src|alt|title|href)/.test(t)&&(b[t.replace("ng-","")]=b[t],delete b[t])}for(var t in b){var u=b[t];if(c&&"class"===t)p+='s.push("'+u+'"); ';else if(d[t]='="'+i(u)+'"',-1!==d[t].indexOf("$index"))for(var v=m;v>=0;v--)if(o[v]){d[t]=d[t].replace(/\$index/g,"'+"+o[v]+"+'");break}}p+="R+='<"+a+(c?" class=\"'+s.join(' ')+'\"":"");for(var w in d)p+=" "+w+d[w];if(p+=">';",b["dota-render"]&&b.expand){var x=[];for(var t in b)t.indexOf("data-")?t.indexOf("scope-")||x.push('"'+t.slice(6)+'":S["'+b[t]+'"]'):x.push('"'+t.slice(5)+'":"'+b[t]+'"');p+="var P={"+x.join(",")+'},U="'+b["dota-render"]+'";',p+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(a)?n[m]>0&&(p+="}",n[m]--,o[m]=0):m++},onclosetag:function(a){for(p+="R+='</"+a+">';",m--;n[m]>0;)p+="}",n[m]--,o[m]=0;e&&e>=m&&(e=0)},ontext:function(a){-1!==a.indexOf("{{")&&(a=j(a)),p+=("R+='"+a+"';").replace(/\+''|''\+/g,"")},oncomment:function(a){p+="R+='<"+a.replace(/'/g,"\\'")+">';"}}),p+="return R;",b.optimize&&(p=p.replace(/;R\+=/g,"+").replace(/'\+'/g,"")),b.debug;try{var q=Function("S","F","$attr",p)}catch(r){throw"undefined"!=typeof console&&window.console.log("doTA compile error:"+p),r}return p=m=n=o=h=e=null,q},C:{},D:{}};"undefined"!=typeof module&&module.exports?(module.exports=doTA,"undefined"==typeof window&&(window={console:console})):"undefined"==typeof console&&(window.console={log:function(){}}),function(A){"use strict";var hiddenDIV=document.getElementById("dota-cache");hiddenDIV||(hiddenDIV=document.createElement("div"),hiddenDIV.id="dota-cache",hiddenDIV.style.display="none",document.body.appendChild(hiddenDIV));var isIE=/MSIE|Trident/.test(navigator.userAgent);A.module("doTA",[]).config(["$provide",function(a){a.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile",function(d,h,f,t,c){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){return function(s,e,a){function cacheDOM(){s.$on("$destroy",function(){d.D[a.dotaRender]=e[0],hiddenDIV.appendChild(e[0])})}function compile(b){a.debug;try{var c=d.compile(b,a)}catch(e){throw window.console.log("compile error",a,b),e}return a.dotaRender&&(d.C[a.dotaRender]=c),c}function render(func){if(func){try{var v=func(s,f,p)}catch(x){throw window.console.log("render error",func),x}a.debug,e.html(v)}a.scope&&(a.newScope&&a.newScope.$destroy(),a.newScope=s.$new()),a.compile?A.forEach(e[0].querySelectorAll("[dota-pass]"),function(b){c(b)(a.newScope||s)}):a.compileAll&&c(e.contents())(a.newScope||s),a.dotaOnload&&setTimeout(function(){eval(a.dotaOnload)}),a.dotaOnloadScope&&setTimeout(function(){s.$evalAsync(a.dotaOnloadScope)}),a.cacheDom&&cacheDOM(),a.loaded&&e.attr("loaded",!0)}function loader(b){if(d.C[a.dotaRender])!e[0].hasChildNodes()||a.inline||b?render(d.C[a.dotaRender]):render();else if(a.inline){var c=e.html();render(compile(c,a))}else a.dotaRender&&(e[0].hasChildNodes()?render():h.get(a.dotaRender,{cache:t}).success(function(b){render(compile(b,a))}))}a.loose=1;var p={};if(a.cacheDom&&d.D[a.dotaRender]){var elem;return elem=isIE?d.D[a.dotaRender].cloneNode(!0):d.D[a.dotaRender],void e[0].parentNode.replaceChild(elem,e[0])}for(var x in a.$attr){var z=a.$attr[x];z.indexOf("data-")?z.indexOf("scope-")||(p[z.slice(6)]=s[a[x]]):p[x]=a[x]}a.watch&&s.$watchCollection(a.watch,function(b,c){b!==c&&d.C[a.dotaRender]&&loader(!0)}),loader()}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(a,b,c){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(d,e,f){a.get(f.dotaInclude,{cache:b}).success(function(a){e.html(a),"false"!==f.compile&&c(e.contents())(d)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(a,b,c){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(d,e,f){d.$watch(f.dotaTemplate,function(g){g&&a.get(g,{cache:b}).success(function(a){e.html(a),"false"!==f.compile&&c(e.contents())(d)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(a,b,c,d,e){return function(a,f,g,h){h=h||{},h.loose=1,e.C[a]?g(e.C[a](f,d)):b.get(a,{cache:c}).success(function(b){e.C[a]=e.compile(b,h),g(e.C[a](f,d))})}}])}(window.angular);