String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var doTA={valid_chr:function(){for(var a={},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz$_",c=0;c<b.length;c++)a[b[c]]=1;return a}(),parse:function(a,b){"use strict";if(a){var c=a.match(/([<>]|[^<>]+)/g),d=0,e=function(a){return-1!==a.indexOf("&")?a.replace(/&gt;|&lt;|&amp;|&quot;/g,function(a){return{"&gt;":">","&lt;":"<","&amp;":"&","&quot;":'"'}[a]}):a};do if("<"===c[d])if(d++,"/"===c[d][0])b.onclosetag(c[d].slice(1));else if("!"===c[d][0])b.oncomment(c[d]);else{var f,g={},h=c[d],i=h.indexOf(" ");if(-1===i)f=h;else{f=h.slice(0,i);for(var j=h.length;++i<j;){var k,l,m=h.indexOf("=",i),n=h.slice(i,m),o=h[m+1];if('"'===o||"'"===o)l=h.indexOf(o,m+2),k=h.slice(m+2,l),g[n]=e(k),i=l+1;else{if(l=h.indexOf(" ",m+2),-1===l){k=h.slice(m+1),g[n]=e(k);break}if(0>m){g[n]="";break}k=h.slice(m+1,l),g[n]=e(k),i=l}}}b.onopentag(f,g)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]&&b.ontext(c[d]));while(++d<c.length)}},compile:function(a,b){"use strict";b=b||{};var c=b.loose?"||''":"",d=this;b.encode&&(a=a.replace(/"[^"]*"|'[^']*'/g,function(a){return a.replace(/[<>]/g,function(a){return{">":"&gt;","<":"&lt;"}[a]})}));var e,f,g=function(a,b){if(b){for(var c=b.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),e="",f=0;f<c.length;f++)if(!d.valid_chr[c[f][0]]||a[c[f]]||f&&"."===c[f-1][c[f-1].length-1])if(-1!==c[f].indexOf("$index")){for(var g=l;g>=0;g--)if(n[g]){e+=c[f].replace(/\$index/g,n[g]);break}}else e+=c[f];else e+="A."+c[f];return e}return b},h=function(a){if(a.indexOf("{{")>=0){for(var b=j(o),c=a.split(/\{\{|\}\}/),d=0;d<c.length;d+=2)c[d].indexOf("'")>=0&&(c[d]=c[d].replace(/'/g,"\\'"));for(var d=1;d<c.length-1;d+=2)c[d]=b(null,c[d]);return c.join("")}return a.indexOf("'")>=0?a.replace(/'/g,"\\'"):a},i=function(a){return a.replace(/\{\{([^}]+)\}\}/g,j(o))},j=function(a){return function(b,d){var e=d.indexOf("|");if(-1===e)return"'+("+g(a,d)+c+")+'";for(var f="|"===d[e+1]?d.match(/([^|]+(?:\|\|)?)+/g):d.split("|"),h=g(a,f[0]),i=1;i<f.length;i++){var j=f[i].split(":");if(h="F('"+j.shift().trim()+"')("+h,j.length){for(var k=[],l=0;l<j.length;l++)k.push(g(a,j[l]));h+=","+k.join(",")}h+=")";break}return"'+("+h+c+")+'"}},k=function(a,b){var c=Array(a+2).join("    ");return b?c.slice(0,-2):c},l=0,m={},n={},o={},p=k(l)+"var R='';";this.parse(a,{onopentag:function(a,b){var c,d={};for(var i in b){if("dota-pass"===i){e=l,f=0;break}"dota-continue"===i&&(f=l)}if(!e)for(var i in b)if("ng-repeat"===i){m[l]=m[l]?m[l]+1:1;var j="i"+l,q="l"+l,r=b[i].split(" in "),s=g(o,r[1]);if(n[l]=j,-1!==r[0].indexOf(",")){var t=r[0].split(",");p+=k(l,1)+"var D"+l+"="+s+";",p+=k(l,1)+"for(var "+t[0]+" in D"+l+"){",p+=k(l,1)+"var "+t[1]+" = D"+l+"["+t[0]+"]; ",o[t[0]]=o[t[1]]=1}else p+=k(l,1)+"var D"+l+"="+s+","+j+"=-1,"+q+"=D"+l+".length;",p+=k(l,1)+"while(++"+j+"<"+q+"){",p+=k(l)+"var "+r[0]+"=D"+l+"["+j+"]; ",o[r[0]]=1,o.$index=1;delete b[i];break}if(!e||f)for(var i in b)"-"===i[2]&&(/^ng-(?:src|alt|title|href)/.test(i)?(b[i.replace("ng-","")]=b[i],delete b[i]):"ng-if"===i?(m[l]=m[l]?m[l]+1:1,p+=k(l,1)+"if("+g(o,b[i])+"){",delete b[i]):"ng-class"===i&&(p+=k(l)+"var s=[],n="+g(o,b[i])+";",p+=k(l)+"for(var c in n){n[c]&&s.push(c);}",c=1,delete b[i]));for(var i in b){var u=b[i];if(c&&"class"===i)p+=k(l)+'s.push("'+u+'");';else if(d[i]='="'+h(u)+'"',-1!==d[i].indexOf("$index"))for(var v=l;v>=0;v--)if(n[v]){d[i]=d[i].replace(/\$index/g,"'+"+n[v]+"+'");break}}p+=k(l)+"R+='<"+a+(c?" class=\"'+s.join(' ')+'\"":"");for(var w in d)p+=" "+w+d[w];p+=">';",/^(?:input|img|br|hr)/i.test(a)?m[l]>0&&(p+=k(l,1)+"}",m[l]--,n[l]=0):l++},onclosetag:function(a){for(p+=k(l-1)+"R+='</"+a+">';",l--;m[l]>0;)p+=k(l,1)+"}",m[l]--,n[l]=0;e&&e>=l&&(e=0)},ontext:function(a){-1!==a.indexOf("{{")&&(a=i(a)),p+=k(l)+("R+='"+a.replace(/\s{2,}|\n/g," ")+"';").replace(/\+''|''\+/g,"")},oncomment:function(a){p+=k(l)+"R+='<"+a.replace(/'/g,"\\'")+">';"}}),p+=k(0)+"return R;",b.optimize&&(p=p.replace(/;R\+=/g,"+").replace(/'\+'/g,"")),b.debug;try{var q=Function("A","F",p)}catch(r){throw"undefined"!=typeof console&&window.console.log("doTA compile error:"+p),r}return p=l=m=n=o=e=null,q},cache:{}};"undefined"!=typeof module&&module.exports?(module.exports=doTA,"undefined"==typeof window&&(window={console:console})):"undefined"==typeof console&&(window.console={log:function(){}}),function(A){"use strict";A.module("doTA",[]).config(["$provide",function(a){a.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile",function(d,h,f,t,c){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){return function(s,e,a){function compile(b){a.debug;try{var c=d.compile(b,a)}catch(e){throw window.console.log("compile error",a,b),e}return a.dotaRender&&(d.cache[a.dotaRender]=c),c}function render(func){try{var v=func(s,f)}catch(e){throw window.console.log("render error",func),e}a.debug,e.html(v),a.scope&&(a.newScope&&a.newScope.$destroy(),a.newScope=s.$new()),a.compile?A.forEach(e[0].querySelectorAll("[dota-pass]"),function(b){c(b)(a.newScope||s)}):a.compileAll&&c(e.contents())(a.newScope||s),a.dotaOnload&&setTimeout(function(){eval(a.dotaOnload)}),a.dotaOnloadScope&&setTimeout(function(){s.$evalAsync(a.dotaOnloadScope)}),a.loaded&&e.attr("loaded",!0)}function loader(){if(d.cache[a.dotaRender])render(d.cache[a.dotaRender]);else if(a.inline){var b=e.html();render(compile(b,a))}else a.dotaRender&&h.get(a.dotaRender,{cache:t}).success(function(b){render(compile(b,a))})}a.loose=1,a.data&&(s.data=s[a.data]);for(var x in a.$attr)a.$attr[x].indexOf("data-")||(s[x]=a[x]);a.watch&&s.$watchCollection(a.watch,function(b,c){b!==c&&d.cache.hasOwnProperty(a.dotaRender)&&loader()}),loader()}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(a,b,c){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(d,e,f){a.get(f.dotaInclude,{cache:b}).success(function(a){e.html(a),"false"!==f.compile&&c(e.contents())(d)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(a,b,c){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(d,e,f){d.$watch(f.dotaTemplate,function(g){g&&a.get(g,{cache:b}).success(function(a){e.html(a),"false"!==f.compile&&c(e.contents())(d)})})}}}}])}(window.angular);