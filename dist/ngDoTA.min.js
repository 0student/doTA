var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,o={},i=t.indexOf(" ");if(-1!==i){n=t.slice(0,i);for(var r=t.length;++i<r;){var c=t.indexOf("=",i);if(-1===c){o[t.slice(i)]="";break}var a=t.slice(i,c),l=t[c+1];if('"'===l||"'"===l)l=t.indexOf(l,c+2),c=t.slice(c+2,l),o[a]=e(c),i=l+1;else{if(l=t.indexOf(" ",c+2),-1===l){c=t.slice(c+1),o[a]=e(c);break}c=t.slice(c+1,l),o[a]=e(c),i=l}}}else n=t;return[n,o,i]}function n(e,n){if(e){var o=e.match(/([<>]|[^<>]+)/g),i=0,r=o.length;do"<"===o[i]?(i++,"/"===o[i][0]?n.onclosetag(o[i].slice(1)):"!"===o[i][0]?n.oncomment(o[i]):n.onopentag.apply(this,t(o[i]))):">"===o[i]&&"<"!==o[i+1]&&(i++,o[i])&&n.ontext(o[i]);while(++i<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o=0,i={};return{nc:function(e,t){t=t||"";for(var n in e)e[n]&&(t+=(t?" ":"")+n);return t},diff:function(e,n){var o,i,r="textContent"in document.body?"textContent":"innerText",c=e.match(/([<>]|[^<>]+)/g),a=c.length,l=n.match(/([<>]|[^<>]+)/g),d=0;if(a===l.length)do if("<"===c[d]){if(d++,"/"!==c[d][0]&&"!"!==c[d][0])if(c[d]!==l[d])e:{i=l[d];var f=void 0;o=o=void 0,f=t(c[d]),o=t(i),i=f[1];var f=o[1],u=void 0;o=i.id;var s=void 0;for(s in f)if(f[s]!==i[s]){if(!u&&(u=document.getElementById(o),!u)){o=void 0;break e}u.setAttribute(s,f[s])}}else o=c[d],i=o.indexOf(" id="),f=void 0,i>=0&&(i+=4,f=o.charAt(i),"'"===f||'"'===f?(i++,f=o.indexOf(f,i+1)):(f=o.indexOf(" ",i),-1===f&&(f=o.indexOf(">",i),-1===f&&(f=o.length)))),o=o.substring(i,f)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]!==l[d]&&(i=document.getElementById(o))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[r]=l[d]));while(d++<a)},compile:function(e,t){function r(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||p[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var o=g;o>=0;o--)if(m[o]){t+=e[n].replace(/\$index/g,m[o]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function c(e,t){var n=t.indexOf("|");if(-1===n)return"'+("+r(t)+u+")+'";var o="|"===t[n+1]?t.match(/([^|]+(?:\|\|)?)+/g):t.split("|"),n=r(o[0]);if(o[1]){if(o=o[1].split(":"),n="F('"+o.shift().trim()+"')("+n,o.length){for(var i=[],c=0;c<o.length;c++)i.push(r(o[c]));n+=","+i.join(",")}n+=")"}return"'+("+n+u+")+'"}t=t||{};var a,l,d,f,u=t.loose?"||''":"",s=t.watchDiff,p={$index:1,undefined:1,$attr:1},g=0,h={},m={},v={},y=i[t.dotaRender]||o++,C={};i[y]=y;var $="'use strict';var "+(s?"N=0,J="+y+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),t.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,i={};if(n["dota-pass"]?(l=g,d=0):n["dota-continue"]&&(d=g),!l||d){if(n["ng-repeat"]){h[g]=h[g]?h[g]+1:1;var f="i"+g,u="l"+g,x=n["ng-repeat"].split(" in "),w=r(x[1]);m[g]=f,0<=x[0].indexOf(",")?(f=x[0].split(","),$+="var D"+g+"="+w+";",$+="for(var "+f[0]+" in D"+g+"){",$+="var "+f[1]+" = D"+g+"["+f[0]+"]; ",p[f[0]]=p[f[1]]=1):($+="var D"+g+"="+w+","+f+"=-1,"+u+"=D"+g+".length;",$+="while(++"+f+"<"+u+"){",$+="var "+x[0]+"=D"+g+"["+f+"]; ",p[x[0]]=1),delete n["ng-repeat"]}n["ng-if"]&&((n.wait||n.watch)&&(n.id=C[y+"."+g]=n.id||y+".'+N+'",$+=(a?"":"var "+(s?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+y+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",v[g]=a=1,$+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),h[g]=h[g]?h[g]+1:1,$+="if("+r(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(n["class"]="'+doTA.nc("+r(n["ng-class"])+(n["class"]?",'"+n["class"]+"'":"")+")+'",o=1,delete n["ng-class"]);for(var T in n)"ng-"===T.substr(0,3)&&(w=T.substr(3),/^(?:src|alt|title|href)/.test(w)?(n[w]=n[T],delete n[T]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(n.de="1",n["de-"+w]=n[T],delete n[T]))}for(T in n){if(w=T,"id"===T||o&&"class"===T)f=n[T];else if(f=n[T],0<=f.indexOf("{{")){for(f=f.split(/\{\{|\}\}/),u=0;u<f.length;u+=2)0<=f[u].indexOf("'")&&(f[u]=f[u].replace(/'/g,"\\'"));for(u=1;u<f.length-1;u+=2)f[u]=c(null,f[u]);f=f.join("")}else f=0<=f.indexOf("'")?f.replace(/'/g,"\\'"):f;if(i[w]=f,0<=i[T].indexOf("$index"))for(w=g;w>=0;w--)if(m[w]){i[T]=i[T].replace(/\$index/g,"'+"+m[w]+"+'");break}}s&&(i.id=i.id||y+".'+N+'"),$+="R+='<"+e;for(var A in i)$+=" "+A+'="'+i[A]+'"';if($+=">';",s&&($+="N++; "),n["dota-render"]&&n.expand){i=[];for(T in n)T.indexOf("data-")?T.indexOf("scope-")||i.push('"'+T.slice(6)+'":S["'+n[T]+'"]'):i.push('"'+T.slice(5)+'":"'+n[T]+'"');$+="var P={"+i.join(",")+'},U="'+n["dota-render"]+'";',$+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<h[g]&&($+="}",h[g]--,m[g]=0):g++},onclosetag:function(e){for(g--,$+="R+='</"+e+">';",v[g]&&($+="} else {",$+="R+='<"+e+" id="+C[y+"."+g]+" style=display:none></"+e+">'; ");0<h[g];)$+="}",h[g]--,m[g]=0;v[g]&&($+="return R;}; ",$+="R+=W.F(S,F,$attr,X); ",v[g]=0),l&&l>=g&&(l=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,c)),$+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){$+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),s&&($+="if(H){doTA.diff(H,R)}doTA.H["+y+"]=R;"),$+="return R;",$=$.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&($=$.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),t.debug&&console.log($);try{f=new Function("S","F","$attr","X",$),a&&(f={W:[],F:f})}catch(x){throw"undefined"!=typeof console&&console.log("doTA compile error:"+$),x}return $=g=h=m=p=l=null,f},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(x,r){function C(e,t){return e in g?g[e]:e||t}function F(e,t,n){if(e.forEach)return e.forEach(t);for(var o=0,i=e.length;i>o;o++)o in e&&t.call(n,e[o],o);return e}function H(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){F(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var h=r.documentMode,k;setTimeout(function(){r.getElementById&&(k=r.getElementById("dota-cache"),!k&&r.body&&(k=r.createElement("div"),k.id="dota-cache",k.style.display="none",r.body.appendChild(k)))});var g={0:0,"false":0};x.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,f,m,e,b,d){return{restrict:"A",priority:1e3,terminal:!0,controller:x.noop,link:x.noop,compile:function(){var q,g;return function(z,u,p){function S(){z.$on("$destroy",function(){k&&(a.D[y]=u[0],k.appendChild(u[0]))})}function A(e){try{var t=a.compile(e,p)}catch(n){throw console.log("compile error",p,e),n}return y&&(a.C[y]=t),t}function B(a,c){if((l||J)&&(q&&g.$destroy(),g=z.$new(),q=1,J)){var e=d(J,{$scope:g});u.data("$ngControllerController",e)}if(a){!c&&u[0].firstChild&&H(u[0]);try{var f=a.F?a.F(g,m,G,c):a(g,m,G,c)}catch(k){throw console.log("render error",a),k}if(c)return;if(u[0].firstChild)for(e=r.createElement("div"),e.innerHTML=f;f=e.firstChild;)u[0].appendChild(f);else u[0].innerHTML=f}if(w&&F(u[0].querySelectorAll("[de]"),function(e){var t=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var n=0,o=t.length;o>n;n++)"de-"===t[n].name.substr(0,3)&&e.addEventListener(t[n].name.substr(3),function(e,t){return function(e){g.$applyAsync(t.value)}}(e,t[n]))}),t?F(u[0].querySelectorAll("[dota-pass]"),function(e){b(e)(g)}):L&&b(u.contents())(g),N&&setTimeout(function(){eval(N)}),O&&setTimeout(function(){g.$evalAsync(O)}),M&&S(),T&&u.attr("loaded",!0),a&&a.W)for(var h={},n={},f=0;f<a.W.length;f++)e=a.W[f],n[e.I]=g.$watch(e.W,function(e){return function(o,i){var c=r.getElementById(e.I);if(!c)return console.log("tag not found");var a=e.F(g,m,G);return a?(a=x.element(a),h[e.I]&&h[e.I].$destroy(),h[e.I]=g.$new(),(t||L)&&b(a)(h[e.I]),x.element(c).replaceWith(a),void(e.O&&n[e.I]())):console.log("no contents")}}(e))}function c(){a.C[y]?u[0].hasChildNodes()&&!P?B():B(a.C[y]):P?B(A(u[0].innerHTML,p)):y&&(u[0].hasChildNodes()?B():f.get(y,{cache:e}).success(function(e){B(A(e,p))}))}g=z;var M=p.cacheDom,y=p.dotaRender,l=p.scope,J=p.ngController,E=p.loose,n=p.optimize,w=p.event,K=p.debug,v=p.watch,t=p.compile,L=p.compileAll,N=p.dotaOnload,O=p.dotaOnloadScope,T=p.loaded,P=p.inline,Q=p.watchDiff,R=p.$attr,E=p.loose=C(E,1),n=p.optimize=C(n,0),K=p.debug=C(K,0),w=p.event=C(w,1),v=p.watch="string"==typeof v?v:0,G={};if(M&&a.D[y])v=h?a.D[y].cloneNode(!0):a.D[y],u[0].parentNode.replaceChild(v,u[0]);else{for(var I in R)E=R[I],E.indexOf("data-")?E.indexOf("scope-")||(G[E.slice(6)]=g[p[I]]):G[I]=p[I];v&&g.$watchCollection(v,function(e,t){e!==t&&a.C[y]&&B(a.C[y])}),Q&&g.$watchCollection(Q,function(e,t){e!==t&&a.C[y]&&B(a.C[y],!0)}),c()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){e.get(r.dotaInclude,{cache:t}).success(function(e){i.html(e),"false"!==r.compile&&n(i.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){o.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:t}).success(function(e){i.html(e),"false"!==r.compile&&n(i.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,o,i){return function(e,r,c,a){a=a||{},a.loose=1,i.C[e]?c(i.C[e](r,o)):t.get(e,{cache:n}).success(function(t){i.C[e]=i.compile(t,a),c(i.C[e](r,o))})}}])}(window.angular,window.document);