var doTA=function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var e="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=function(e,n){if(e){var t=e.match(/([<>]|[^<>]+)/g),o=0,r=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===t[o])if(o++,"/"===t[o][0])n.onclosetag(t[o].slice(1));else if("!"===t[o][0])n.oncomment(t[o]);else{var a,i={},c=t[o],d=c.indexOf(" ");if(-1===d)a=c;else{a=c.slice(0,d);for(var l=c.length;++d<l;){var s=c.indexOf("=",d);if(-1===s){i[c.slice(d)]="";break}var f,u,p=c.slice(d,s),h=c[s+1];if('"'===h||"'"===h)u=c.indexOf(h,s+2),f=c.slice(s+2,u),i[p]=r(f),d=u+1;else{if(u=c.indexOf(" ",s+2),-1===u){f=c.slice(s+1),i[p]=r(f);break}f=c.slice(s+1,u),i[p]=r(f),d=u}}}n.onopentag(a,i)}else">"===t[o]&&"<"!==t[o+1]&&(o++,t[o]&&n.ontext(t[o]));while(++o<t.length)}},t=0;return{compile:function(o,r){r=r||{};var a=r.loose?"||''":"";o=o.replace(/\s{2,}|\n/g," "),r.encode&&(o=o.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}));var i,c,d,l,s=function(n,t){if(t){for(var o=t.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),r="",a=0;a<o.length;a++)if(!(e.indexOf(o[a].charAt(0))>=0)||n[o[a]]||a&&"."===o[a-1][o[a-1].length-1])if(o[a].indexOf("$index")>=0){for(var i=g;i>=0;i--)if(v[i]){r+=o[a].replace(/\$index/g,v[i]);break}}else r+=o[a];else r+="S."+o[a];return r}return t},f={$index:1,undefined:1,$attr:1},u=function(e){if(e.indexOf("{{")>=0){for(var n=e.split(/\{\{|\}\}/),t=0;t<n.length;t+=2)n[t].indexOf("'")>=0&&(n[t]=n[t].replace(/'/g,"\\'"));for(var t=1;t<n.length-1;t+=2)n[t]=h(null,n[t]);return n.join("")}return e.indexOf("'")>=0?e.replace(/'/g,"\\'"):e},p=function(e){return e.replace(/\{\{([^}]+)\}\}/g,h)},h=function(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+s(f,n)+a+")+'";for(var o="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),r=s(f,o[0]),i=1;i<o.length;i++){var c=o[i].split(":");if(r="F('"+c.shift().trim()+"')("+r,c.length){for(var d=[],l=0;l<c.length;l++)d.push(s(f,c[l]));r+=","+d.join(",")}r+=")";break}return"'+("+r+a+")+'"},g=0,m={},v={},$={},x="'use strict';var R='';";n(o,{onopentag:function(e,n){var o,r={};if(n["dota-pass"]?(c=g,d=0):n["dota-continue"]&&(d=g),!c&&n["ng-repeat"]){m[g]=m[g]?m[g]+1:1;var a="i"+g,l="l"+g,p=n["ng-repeat"].split(" in "),h=s(f,p[1]);if(v[g]=a,p[0].indexOf(",")>=0){var w=p[0].split(",");x+="var D"+g+"="+h+";",x+="for(var "+w[0]+" in D"+g+"){",x+="var "+w[1]+" = D"+g+"["+w[0]+"]; ",f[w[0]]=f[w[1]]=1}else x+="var D"+g+"="+h+","+a+"=-1,"+l+"=D"+g+".length;",x+="while(++"+a+"<"+l+"){",x+="var "+p[0]+"=D"+g+"["+a+"]; ",f[p[0]]=1;delete n["ng-repeat"]}if(!c||d){n["ng-if"]&&((n.wait||n.watch)&&(++t,x+='var W={I:"D'+t+'",W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};this.W.push(W);",$[g]=i=1,x+='W.F=function(S,F){"use strict";var R="";',n.id="D"+t,delete n.watch,delete n.wait),m[g]=m[g]?m[g]+1:1,x+="if("+s(f,n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(x+="var s=[],n="+s(f,n["ng-class"])+";",x+="for(var c in n){n[c]&&s.push(c);}",o=1,delete n["ng-class"]);for(var y in n)"-"===y.charAt(2)&&/^ng-(?:src|alt|title|href)/.test(y)&&(n[y.replace("ng-","")]=n[y],delete n[y])}for(var y in n){var D=n[y];if(o&&"class"===y)x+='s.push("'+D+'"); ';else if(r[y]='="'+u(D)+'"',r[y].indexOf("$index")>=0)for(var A=g;A>=0;A--)if(v[A]){r[y]=r[y].replace(/\$index/g,"'+"+v[A]+"+'");break}}x+="R+='<"+e+(o?" class=\"'+s.join(' ')+'\"":"");for(var I in r)x+=" "+I+r[I];if(x+=">';",n["dota-render"]&&n.expand){var O=[];for(var y in n)y.indexOf("data-")?y.indexOf("scope-")||O.push('"'+y.slice(6)+'":S["'+n[y]+'"]'):O.push('"'+y.slice(5)+'":"'+n[y]+'"');x+="var P={"+O.join(",")+'},U="'+n["dota-render"]+'";',x+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(e)?m[g]>0&&(x+="}",m[g]--,v[g]=0):g++},onclosetag:function(e){for(x+="R+='</"+e+">';",g--,$[g]&&(x+="} else {",x+="R+='<"+e+' id="D'+t+'" style="display:none"></'+e+">'; ");m[g]>0;)x+="}",m[g]--,v[g]=0;$[g]&&(x+="return R;}; ",x+="R+=W.F(S,F); ",$[g]=0),c&&c>=g&&(c=0)},ontext:function(e){e.indexOf("{{")>=0&&(e=p(e)),x+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){x+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),x+="return R;",x=x.replace(/;R\+=/g,"+").replace(/'\+'/g,""),r.debug&&console.log(x);try{l=new Function("S","F","$attr",x),i&&(l={W:[],F:l})}catch(w){throw"undefined"!=typeof console&&console.log("doTA compile error:"+x),w}return x=g=m=v=f=c=null,l},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}}),function(A){"use strict";var hiddenDIV;setTimeout(function(){document.getElementById&&(hiddenDIV=document.getElementById("dota-cache"),!hiddenDIV&&document.body&&(hiddenDIV=document.createElement("div"),hiddenDIV.id="dota-cache",hiddenDIV.style.display="none",document.body.appendChild(hiddenDIV)))});var isIE="undefined"!=typeof navigator&&/MSIE|Trident/.test(navigator.userAgent),B={0:0,"false":0};A.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile",function(d,h,f,t,c){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){return function(s,e,a){function cacheDOM(){s.$on("$destroy",function(){hiddenDIV&&(d.D[a.dotaRender]=e[0],hiddenDIV.appendChild(e[0]))})}function compile(e){a.debug;try{var n=d.compile(e,a)}catch(t){throw console.log("compile error",a,e),t}return a.dotaRender&&(d.C[a.dotaRender]=n),n}function render(func){if(func){try{var v=func.F?func.F(s,f,p):func(s,f,p)}catch(x){throw console.log("render error",func),x}a.debug,e[0].innerHTML=v}if(a.scope&&(a.newScope&&a.newScope.$destroy(),a.newScope=s.$new()),a.compile?A.forEach(e[0].querySelectorAll("[dota-pass]"),function(e){c(e)(a.newScope||s)}):a.compileAll&&c(e.contents())(a.newScope||s),a.dotaOnload&&setTimeout(function(){eval(a.dotaOnload)}),a.dotaOnloadScope&&setTimeout(function(){s.$evalAsync(a.dotaOnloadScope)}),a.cacheDom&&cacheDOM(),a.loaded&&e.attr("loaded",!0),func&&func.W)for(var scopes={},watches={},i=0;i<func.W.length;i++){var w=func.W[i];watches[w.I]=s.$watch(w.W,function(e){return function(n,t){var o=document.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(s,f,p);if(!r)return console.log("no contents");var i=/^<(\w+)/.test(r)&&RegExp.$1,d=document.createElement(i);d.id=e.I,d.innerHTML=r,scopes[e.I]&&scopes[e.I].$destroy(),scopes[e.I]=s.$new(),(a.compile||a.compileAll)&&c(d)(scopes[e.I]),o.parentNode.replaceChild(d,o),e.O&&watches[e.I]()}}(w))}}function loader(n){if(d.C[a.dotaRender])!e[0].hasChildNodes()||a.inline||n?render(d.C[a.dotaRender]):render();else if(a.inline){var o=e[0].innerHTML;render(compile(o,a))}else a.dotaRender&&(e[0].hasChildNodes()?render():h.get(a.dotaRender,{cache:t}).success(function(e){render(compile(e,a))}))}a.loose=a.loose in B?B[a.loose]:a.loose||1,a.optimize=a.optimize in B?B[a.optimize]:a.optimize||1;var p={};if(a.cacheDom&&d.D[a.dotaRender]){var elem;return elem=isIE?d.D[a.dotaRender].cloneNode(!0):d.D[a.dotaRender],void e[0].parentNode.replaceChild(elem,e[0])}for(var x in a.$attr){var z=a.$attr[x];z.indexOf("data-")?z.indexOf("scope-")||(p[z.slice(6)]=s[a[x]]):p[x]=a[x]}a.watch&&s.$watchCollection(a.watch,function(e,n){e!==n&&d.C[a.dotaRender]&&loader(!0)}),loader()}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){e.get(a.dotaInclude,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){o.$watch(a.dotaTemplate,function(i,c){i&&e.get(i,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,o,r){return function(e,a,i,c){c=c||{},c.loose=1,r.C[e]?i(r.C[e](a,o)):n.get(e,{cache:t}).success(function(n){r.C[e]=r.compile(n,c),i(r.C[e](a,o))})}}])}(window.angular);