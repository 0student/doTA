var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t,n){if(t){var i=0,r=t.indexOf("<");do if("<"===t.charAt(r))if(r++,"/"===t.charAt(r))i=++r,r=t.indexOf(">",i),n.onclosetag(t.substring(i,r));else if("!"===t.charAt(r))i=r,r=t.indexOf(">",i),n.oncomment(t.substring(i,r));else{var i=r,r=t.indexOf(">",i),i=t.substring(i,r),o=n,c={},a=void 0,l=i.indexOf(" "),d=void 0,s=void 0,f=void 0,u=void 0,u=void 0;if(-1!==l){for(a=i.slice(0,l),d=i.length;++l<d;){if(f=i.indexOf("=",l),-1===f){s=i.slice(l),"/"!==s&&(c[s]="");break}if(s=i.slice(l,f),u=i[f+1],'"'===u||"'"===u)u=i.indexOf(u,f+2),f=i.slice(f+2,u),c[s]=e(f),l=u+1;else{if(u=i.indexOf(" ",f+2),-1===u){f=i.slice(f+1),c[s]=e(f);break}f=i.slice(f+1,u),c[s]=e(f),l=u}}o.onopentag(a,c),a=a.toLowerCase(),"input"===a||"img"===a?o.onvoidtag():"/"===s&&o.onclosetag(a)}else"/"===i.charAt(i.length-1)?(a=i.slice(0,-1),o.onopentag(a,c),a=a.toLowerCase(),"br"===a||"hr"===a?o.onvoidtag():o.onclosetag(a)):(a=i,o.onopentag(i,c),a=a.toLowerCase(),("br"===a||"hr"===a)&&o.onvoidtag())}else{if(">"!==t.charAt(r))break;i=++r,r=t.indexOf("<",i),r>i&&n.ontext(t.substring(i,r))}while(r>0)}}function n(e,t){var n,i=1,r=t;do r=e.indexOf("<",r+1),"/"===e.charAt(r+1)?i--:(n=e.indexOf(" ",r+1),n=e.substring(r+1,n),"input"!==n&&"img"!==n&&"br"!==n&&"hr"!==n&&i++),t=e.indexOf(">",r);while(i>0);return t+1}function i(e,t){var n,i,r,o,c,a=e.indexOf(" ");o=0;var l,d,s=e.length;if(-1!==a)for(;++a<s&&(r=e.indexOf("=",a),-1!==r);)if(l=e.slice(a,r),c=e[r+1],'"'===c||"'"===c){if(a=e.indexOf(c,r+2),d=e.slice(r+2,a),"id"===l)n=d;else if(o=r+o,r=t.indexOf(c,o+2),c=t.slice(o+2,r),o=r-a,d!==c){if(!i&&(i=document.getElementById(n),!i))return;i.setAttribute(l,c)}a+=1}else{if(a=e.indexOf(" ",r+2),-1===a){n||(d=e.slice(r+1),"id"===l&&(n=d));break}n||(d=e.slice(r+1,a),"id"===l&&(n=d))}return n}function r(e){var t=e.indexOf(" id=");if(t>=0){var t=t+4,n=e.charAt(t);if('"'===n)return t++,n=e.indexOf(n,t+1),e.substring(t,n)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var o=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,c=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,a=/"[^"]*"|'[^']*'/g,l=/\s{2,}|\n/g,d=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,s=/^(?:src|alt|title|href)/,f=/^(?:checked|selected|disabled|readonly|multiple|required|hidden|nowrap)/,u=/\$index/g,g={},p=0,h={diff:function(e,t){var n,o=doTA.H[e],c=0,a=o.indexOf("<"),l=0,d=t.indexOf("<");do"<"===o.charAt(a)?(a++,d++,"/"===o.charAt(a)||"!"===o.charAt(a)?(a=o.indexOf(">",a),d=t.indexOf(">",d)):(c=a,l=d,a=o.indexOf(">",c),d=t.indexOf(">",l),n=o.substring(c,a),l=t.substring(l,d),n=n!==l?i(n,l):r(n))):">"===o.charAt(a)&&(c=++a,l=++d,a=o.indexOf("<",c),d=t.indexOf("<",l),d>l&&(c=o.substring(c,a),l=t.substring(l,d),c!==l&&(c=document.getElementById(n))&&c.firstChild&&3===c.firstChild.nodeType&&(c.firstChild.nodeValue=l)));while(a>0)},diff2:function(e,t){var o,c,a,l,d,s,f,u,g,p=doTA.H[e],h=0,v=p.indexOf("<"),m=0,x=t.indexOf("<"),b=document.createElement("div");do"<"===t.charAt(x)?(v++,x++,"/"===t.charAt(x)||"!"===t.charAt(x)?(v=p.indexOf(">",v),x=t.indexOf(">",x)):(h=v,m=x,v=p.indexOf(">",h),x=t.indexOf(">",m),f=p.substring(h,v),u=t.substring(m,x),f!==u?(o=c,c=r(f),l=0^c,a=r(u),a^=0,l===a?c=i(f,u):(l&&(d=document.getElementById(c),g=d.parentNode,h=n(p,h),v=h-1),a&&(h=n(t,m),b.innerHTML=t.substring(m-1,h),s=b.firstChild,x=h-1),l&&a?(g.replaceChild(s,d),c=void 0):a&&(g=document.getElementById(o),x=t.indexOf(">",x+1),g.appendChild(s)))):(c=r(f),r(u)))):">"===t.charAt(x)&&(h=++v,m=++x,v=p.indexOf("<",h),x=t.indexOf("<",m),x>m&&c&&(o=p.substring(h,v),m=t.substring(m,x),o!==m&&(d=document.getElementById(c))&&d.firstChild&&3===d.firstChild.nodeType&&(d.firstChild.nodeValue=m)));while(x>0)},getId:function(e){if(e){if(g[e])return g[e];g[e]=p}return p++},initCH:function(e){for(var t in e)g[t]=e[t],e[t]>p&&(p=e[t])},compile:function(e,n){function i(e){if(e){e=e.match(c);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||k[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=y;i>=0;i--)if(T[i]){t+=e[n].replace(u,T[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function r(e){var t=e.indexOf("'");if(t>=0){var n="",i=0;do n+=e.substring(i,t),"\\"!==e.charAt(t-1)&&(n+="\\"),i=t,t=e.indexOf("'",i+1);while(t>0);return n+=e.substr(i)}return e}function g(e){var t=e.indexOf("{{");if(t>=0){var n=0,i="";do n=e.substring(n,t),i+=r(n),n=t+2,t=e.indexOf("}}",n),n=e.substring(n,t),i+="'+("+p(n)+w+")+'",n=t+2,t=e.indexOf("{{",n);while(t>0);return i+=r(e.substr(n))}return r(e)}function p(e){if(-1===e.indexOf("|"))return i(e);var t=e.indexOf("|");if(-1===t)e=[e];else{for(var n=0,r=[];-1!==t;)"|"===e.charAt(t+1)?t+=2:(r.push(e.substring(n,t)),n=++t),t=e.indexOf("|",t);n<e.length&&r.push(e.substring(n)),e=r}for(var o,t=i(e[0]),n=0,c=1;c<e.length;c++)if(o=e[c],r=o.indexOf(":"),r>0){for(t="F('"+o.slice(n,r).trim()+"')("+t,n=++r,r=o.indexOf(":",n);r>0;)t+=","+i(o.slice(n,r)),n=++r,r=o.indexOf(":",n);t+=","+i(o.substr(n))+")"}else t="F('"+o.trim()+"')("+t+")";return t}n=n||{};var h,v,m,x,b,O,w=n.loose?"||''":"",A=n.watchDiff,C=+n.diffLevel,k={$index:1,undefined:1,$attr:1},y=0,$={},T={},D={},R=this.getId(n.dotaRender),N={},E="'use strict';var "+(A?"N=1,J="+R+",":"")+"R='';";e=e.replace(l," "),n.encode&&(e=e.replace(a,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),t(e,{onopentag:function(e,t){var r,c,a,l={},d="";if(t["dota-pass"]?(x=y,b=0):t["dota-continue"]&&(b=y),!x||b){if(t["ng-repeat"]){$[y]=$[y]?$[y]+1:1;var O="i"+y,w="l"+y,F=t["ng-repeat"],I=F.indexOf(" in ");a=F.substr(0,I);var S,F=F.substr(I+4),I=a.indexOf(","),H=F.indexOf("|");T[y]=O,H>0?c=p(F):(S=F.indexOf(":"),0>S&&(c=i(F))),S>0?(c=F.substr(0,S),O=F.indexOf(":",++S),O>0?(S=F.substring(S,O),F=F.substr(O+1)):(S=F.substr(S),F=1),E+="for(var "+a+"="+c+";"+a+(F>0?"<":">")+S+";"+a+"+="+F+"){",k[a]=1):I>0?(S=a.substr(0,I),a=a.substr(I+1),E+="var "+a+",D"+y+"="+c+";",E+="for(var "+S+" in D"+y+"){",E+=a+" = D"+y+"["+S+"]; ",k[S]=k[a]=1):(E+="var "+a+",D"+y+"="+c+","+O+"=-1,"+w+"=D"+y+".length;",E+="while(++"+O+"<"+w+"){",E+=a+"=D"+y+"["+O+"]; ",k[a]=1),delete t["ng-repeat"]}if(t["ng-if"]&&((t.wait||t.watch)&&(r=1,E+=(m?"":"var "+(A?"":"N=1,")+"T=this;T.W=[];")+'var W={I:N+".'+R+'",W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",D[y]=m=1,E+='W.F=function(S,F,$attr,X){var R="";',delete t.watch,delete t.wait),$[y]=$[y]?$[y]+1:1,E+="if("+i(t["ng-if"])+"){",C&&(h=y,v=0),delete t["ng-if"]),void 0!==t.elif&&(E+="else if("+i(t.elif)+"){",$[y]=$[y]?$[y]+1:1,delete t.elif),void 0===t["else"]||A||(E+="else{",$[y]=$[y]?$[y]+1:1,delete t["else"]),t["ng-init"]&&(E+=i(t["ng-init"])+"; ",delete t["ng-init"]),t["ng-class"]){for(a=i(t["ng-class"]),l["class"]=t["class"]?g(t["class"]):"";null!==(c=o.exec(a));)l["class"]+="'+("+c[2]+"?'"+(l["class"]?" ":"")+c[1].replace(/['"]/g,"")+"':'')+'";delete t["ng-class"]}t["ng-show"]&&(l["class"]=l["class"]||t["class"]||"",l["class"]+="'+("+i(t["ng-show"])+"?'':'"+(l["class"]?" ":"")+"ng-hide')+'",delete t["ng-show"]),t["ng-hide"]&&(l["class"]=l["class"]||t["class"]||"",l["class"]+="'+("+i(t["ng-hide"])+"?'"+(l["class"]?" ":"")+"ng-hide':'')+'",delete t["ng-hide"]),l["class"]&&(l["class"]=l["class"].replace(/\+''\+/g,"+"),delete t["class"]);for(var L in t){if(a=t[L],"ng-"===L.substr(0,3))if(c=L.substr(3),s.test(c))L=c;else if(n.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+c+" "))l.de="1",L="de-"+c;else{if(f.test(c)){d+="'+("+i(a)+"?' "+c+"=\"\"':'')+'";continue}if("value"===c){l.value="'+("+i(a)+")+'";continue}}if(0<=a.indexOf("$index")){for(c=y;c>=0;c--)if(T[c]){l[L]=g(a).replace(u,"'+"+T[c]+"+'");break}}else l[L]=g(a)}}else for(L in t)if(0<=t[L].indexOf("$index")){for(c=y;c>=0;c--)if(T[c]){l[L]=g(t[L]).replace(u,"'+"+T[c]+"+'");break}}else l[L]=g(t[L]);E+="R+='<"+e,(r||A)&&(r=N[R+"."+y]=l.id||"'+N+'."+R,E+=' id="'+r+'"',l.id&&delete l.id);for(var W in l)E+=" "+W+'="'+l[W]+'"';if(E+=d+">';",A&&(E+="N++; ",v>=0&&v++),t["dota-render"]&&t.expand){l=[];for(L in t)L.indexOf("data-")?L.indexOf("scope-")||l.push('"'+L.slice(6)+'":S["'+t[L]+'"]'):l.push('"'+L.slice(5)+'":"'+t[L]+'"');E+="var P={"+l.join(",")+'},U="'+t["dota-render"]+'";',E+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}y++},onvoidtag:function(){for(y--;0<$[y];)E+="}",$[y]--;T[y]=0,x&&x>=y&&(x=0)},onclosetag:function(e){for(y--,E+="R+='</"+e+">';",D[y]?(E+="} else {",E+="R+='<"+e+' id="'+N[R+"."+y]+'" style=display:none></'+e+">';"):C&&y===h&&v>=0&&(v&&(E+="}else{N+="+v+"; "),h=v=void 0);0<$[y];)E+="}",$[y]--;T[y]=0,D[y]&&(E+="return R;}; ",E+="R+=W.F(S,F,$attr,X);N+="+v+"; ",D[y]=0,C&&(h=v=void 0)),x&&x>=y&&(x=0)},ontext:function(e){E+=("R+='"+g(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){E+="R+='<"+g(e)+">';"}}),A&&(E+="if(X&&J in doTA.H){doTA.diff"+(C||"")+"(J,R)}doTA.H[J]=R;"),E+="return R;",E=E.replace(/;R\+=/g,"+").replace(/'\+'/g,""),n.optimize&&(E=E.replace(d,"$1$2")),n.debug&&console.log(E);try{O=new Function("S","F","$attr","X",E),m&&(O={W:[],F:O})}catch(F){throw"undefined"!=typeof console&&console.log("doTA compile error:"+E),F}return E=y=$=T=k=x=null,O},C:{},D:{},H:{}};return h.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1,diffLevel:2}),h}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(A,N){function O(e,t){return e in F?F[e]:e||t}function D(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,r=e.length;r>i;i++)i in e&&t.call(n,e[i],i);return e}function K(e,t){return 0<=e.indexOf(".")?e.split(".").reduce(function(e,t){return e?e[t]:void 0},t):t[e]}function P(e,t){if(0<=e.indexOf(".")){var n=e.split(".");e=n.splice(-1,1)[0],t=n.reduce(function(e,t){return e[t]||(e[t]={}),e[t]},t)}return{assign:function(n){t[e]=n}}}function R(e,t){function n(){e.apply(c,o)}void 0===t&&(t=200);var i,r,o,c,a=+new Date;return function(){o=arguments,c=this,r=+new Date,i&&clearTimeout(i),r-a>=t?(a=r,n()):i=setTimeout(n,t)}}function W(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){D(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function S(e,t,n){if(!e.de){n=e.attributes;for(var i=0,r=n.length;r>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){e.target||(e.target=e.srcElement),e.preventDefault(),e.stopPropagation(),t.$evalAsync(n.value,{$event:e})}}(e,n[i]));e.de=1}}function V(e,t,n){e=e.querySelectorAll("[de]");for(var i=0,r=e.length;r>i;i++)S(e[i],t,n)}function X(e,t,n){D(e.querySelectorAll("[ng-model]"),function(e){if(void 0==e.getAttribute("dota-pass")){var n=e.getAttribute("ng-model");e.removeAttribute("ng-model");var i=e.getAttribute("update-on")||("text"!==e.type||8>=T?"change":"input"),r=+e.getAttribute("throttle")||100,o=e.getAttribute("bind-prop")||("checkbox"===e.type||"radio"===e.type)&&"checked",c=K(n,t)||"";o?e[o]=e.value===c:e.value=c;var a;D(i.split(" "),function(i){i=i.trim(),e.addEventListener(i,R(function(e){a||(a=P(n,t)),e.preventDefault(),e.stopPropagation(),t.$applyAsync(function(){a.assign(o?o&&e.target[o]?e.target.value:void 0:e.target.value)})},r))})}})}var T=N.documentMode,U=8>=T?"innerText":"textContent",H;setTimeout(function(){N.createElement&&(H=N.createElement("div"))});var F={0:0,"false":0};A.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=V,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,g,f,c,d,l){return{restrict:"A",priority:1e4,terminal:!0,controller:A.noop,link:A.noop,compile:function(){var m,b,n=[],q={};return function(p,e,k){function B(){p.$on("$destroy",function(){H&&(a.D[w]=e[0],H.appendChild(e[0]))})}function u(e){try{var t=a.compile(e,k)}catch(n){throw console.log("compile error",k,e),n}return w&&(a.C[w]=t),t}function y(e){if(S&&X(e,b,w),F&&V(e,b,w),aa){for(;n.length;)n.pop()();D(e.querySelectorAll("[ng-bind]"),function(e){var t=e.getAttribute("ng-bind");e.removeAttribute("ng-bind"),q[t]&&(e.innerHTML=q[t]),n.push(b.$watchCollection(t,function(n,i){n!==i&&(e[U]=q[t]=n||"")}))})}R?D(e.querySelectorAll("[dota-pass]"),function(e){d(e)(b)}):r&&d(e.contentDocument||e.childNodes)(b)}function C(a,c){if((K||L)&&(m&&b.$destroy(),b=p.$new(),m=1,L)){var g=l(L,{$scope:b});e.data("$ngControllerController",g)}if(a){!c&&e[0].firstChild&&W(e[0]);try{var h=a.F?a.F(b,f,x,c):a(b,f,x,c)}catch(k){throw console.log("render error",a),k}if(P&&console.log(w,h),c)return;if(e[0].firstChild)for(g=N.createElement("div"),g.innerHTML=h,y(g);h=g.firstChild;)e[0].appendChild(h);else e[0].innerHTML=h,y(e[0])}else y(e[0]);if(v&&setTimeout(function(){eval(v)}),G&&setTimeout(function(){b.$evalAsync(G)}),E&&B(),ba&&e.attr("loaded",!0),a&&a.W)for(var n={},q={},h=0;h<a.W.length;h++)g=a.W[h],q[g.I]=b.$watch(g.W,function(e){return function(t,i){if(t!==i){var o=N.getElementById(e.I);if(!o)return console.log("tag not found");var c=e.F(b,f,x);if(!c)return console.log("no contents");c=A.element(c),n[e.I]&&n[e.I].$destroy(),n[e.I]=b.$new(),(R||r)&&d(c)(n[e.I]),A.element(o).replaceWith(c),e.O&&q[e.I]()}}}(g))}function I(){a.C[w]?e[0].hasChildNodes()&&!z?C():C(a.C[w]):z?C(u(e[0].innerHTML,k)):w&&(e[0].hasChildNodes()?C():g.get(w,{cache:c}).success(function(e){C(u(e,k))}))}b=p;var E=k.cacheDom,w=k.dotaRender,K=k.scope,L=k.ngController,J=k.loose,h=k.optimize,F=k.event,P=k.debug,Q=k.watch,R=k.compile,S=k.model,aa=k.bind,r=k.compileAll,v=k.dotaOnload,G=k.dotaOnloadScope,ba=k.loaded,z=k.inline,M=k.watchDiff,Y=k.$attr,J=k.loose=O(J,1),h=k.optimize=O(h,0),P=k.debug=O(P,0),F=k.event=O(F,1),Q=k.watch="string"==typeof Q?Q:0,x={};if(E&&a.D[w])Q=T?a.D[w].cloneNode(!0):a.D[w],e[0].parentNode.replaceChild(Q,e[0]);else{for(var t in Y)J=Y[t],J.indexOf("data-")?J.indexOf("scope-")||(x[J.slice(6)]=0<=k[t].indexOf(".")||0<=k[t].indexOf("[")?p.$eval(k[t]):p[k[t]]):x[t]=k[t];Q&&b.$watchCollection(Q,function(e,t){e!==t&&a.C[w]&&C(a.C[w])}),M&&b.$watchCollection(M,function(e,t){e!==t&&a.C[w]&&C(a.C[w],!0)}),I()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e4,terminal:!0,compile:function(){return function(i,r,o){e.get(o.dotaInclude,{cache:t}).success(function(e){r.html(e),"false"!==o.compile&&n(r.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e4,terminal:!0,compile:function(){return function(i,r,o){i.$watch(o.dotaTemplate,function(c,a){c&&e.get(c,{cache:t}).success(function(e){r.html(e),"false"!==o.compile&&n(r.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,r){return function(e,o,c,a){a=a||{},a.loose=1,r.C[e]?c(r.C[e](o,i)):t.get(e,{cache:n}).success(function(t){r.C[e]=r.compile(t,a),c(r.C[e](o,i))})}}])}(window.angular,window.document);