var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,o={},i=t.indexOf(" ");if(-1===i)n=t;else{n=t.slice(0,i);for(var r=t.length;++i<r;){var c=t.indexOf("=",i);if(-1===c){o[t.slice(i)]="";break}var a=t.slice(i,c),l=t[c+1];if('"'===l||"'"===l)l=t.indexOf(l,c+2),c=t.slice(c+2,l),o[a]=e(c),i=l+1;else{if(l=t.indexOf(" ",c+2),-1===l){c=t.slice(c+1),o[a]=e(c);break}c=t.slice(c+1,l),o[a]=e(c),i=l}}}return[n,o,i]}function n(e,n){if(e){var o=e.match(/([<>]|[^<>]+)/g),i=0,r=o.length;do"<"===o[i]?(i++,"/"===o[i][0]?n.onclosetag(o[i].slice(1)):"!"===o[i][0]?n.oncomment(o[i]):n.onopentag.apply(this,t(o[i]))):">"===o[i]&&"<"!==o[i+1]&&(i++,o[i])&&n.ontext(o[i]);while(++i<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o=0,i={};return{diff:function(e,n){var o,i,r="textContent"in document.body?"textContent":"innerText",c=e.match(/([<>]|[^<>]+)/g),a=c.length,l=n.match(/([<>]|[^<>]+)/g),d=0;if(a===l.length)do if("<"===c[d]){if(d++,"/"!==c[d][0]&&"!"!==c[d][0])if(c[d]!==l[d])e:{i=l[d];var f=void 0;o=o=void 0,f=t(c[d]),o=t(i),i=f[1];var f=o[1],u=void 0;o=f.id,delete f.id;var s=void 0;for(s in f)if(f[s]!==i[s]){if(!u&&(u=document.getElementById(o),!u)){o=void 0;break e}u.setAttribute(s,f[s])}}else o=c[d],i=o.indexOf(" id="),f=void 0,i>=0&&(i+=4,f=o.charAt(i),"'"===f||'"'===f?(i++,f=o.indexOf(f,i+1)):(f=o.indexOf(" ",i),-1===f&&(f=o.indexOf(">",i),-1===f&&(f=o.length)))),o=o.substring(i,f)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]!==l[d]&&(i=document.getElementById(o))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[r]=l[d]));while(d++<a)},compile:function(e,t){function r(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||p[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var o=h;o>=0;o--)if(m[o]){t+=e[n].replace(/\$index/g,m[o]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function c(e,t){var n=t.indexOf("|");if(-1===n)return"'+("+r(t)+u+")+'";var o="|"===t[n+1]?t.match(/([^|]+(?:\|\|)?)+/g):t.split("|"),n=r(o[0]);if(o[1]){if(o=o[1].split(":"),n="F('"+o.shift().trim()+"')("+n,o.length){for(var i=[],c=0;c<o.length;c++)i.push(r(o[c]));n+=","+i.join(",")}n+=")"}return"'+("+n+u+")+'"}t=t||{};var a,l,d,f,u=t.loose?"||''":"",s=t.watchDiff,p={$index:1,undefined:1,$attr:1},h=0,g={},m={},v={},y=i[t.dotaRender]||o++,$={};i[y]=y;var C="'use strict';var "+(s?"N=0,J="+y+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),t.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,i={};if(n["dota-pass"]?(l=h,d=0):n["dota-continue"]&&(d=h),!l||d){if(n["ng-repeat"]){g[h]=g[h]?g[h]+1:1;var f="i"+h,u="l"+h,x=n["ng-repeat"].split(" in "),w=r(x[1]);m[h]=f,0<=x[0].indexOf(",")?(f=x[0].split(","),C+="var D"+h+"="+w+";",C+="for(var "+f[0]+" in D"+h+"){",C+="var "+f[1]+" = D"+h+"["+f[0]+"]; ",p[f[0]]=p[f[1]]=1):(C+="var D"+h+"="+w+","+f+"=-1,"+u+"=D"+h+".length;",C+="while(++"+f+"<"+u+"){",C+="var "+x[0]+"=D"+h+"["+f+"]; ",p[x[0]]=1),delete n["ng-repeat"]}n["ng-if"]&&((n.wait||n.watch)&&(n.id=$[y+"."+h]=n.id||y+".'+N+'",C+=(a?"":"var "+(s?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+y+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",v[h]=a=1,C+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),g[h]=g[h]?g[h]+1:1,C+="if("+r(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(C+="var s=[],n="+r(n["ng-class"])+";",C+="for(var c in n){n[c]&&s.push(c);}",o=1,delete n["ng-class"]);for(var T in n)"ng-"===T.substr(0,3)&&(w=T.substr(3),/^(?:src|alt|title|href)/.test(w)?(n[w]=n[T],delete n[T]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(n.de="1",n["de-"+w]=n[T],delete n[T]))}for(T in n)if(f=n[T],o&&"class"===T)C+='s.push("'+f+'"); ';else{if(w=T,"id"!==T)if(0<=f.indexOf("{{")){for(f=f.split(/\{\{|\}\}/),u=0;u<f.length;u+=2)0<=f[u].indexOf("'")&&(f[u]=f[u].replace(/'/g,"\\'"));for(u=1;u<f.length-1;u+=2)f[u]=c(null,f[u]);f=f.join("")}else f=0<=f.indexOf("'")?f.replace(/'/g,"\\'"):f;if(i[w]=f,0<=i[T].indexOf("$index"))for(w=h;w>=0;w--)if(m[w]){i[T]=i[T].replace(/\$index/g,"'+"+m[w]+"+'");break}}s&&(i.id=i.id||y+".'+N+'"),C+="R+='<"+e+(o?" class=\"'+s.join(' ')+'\"":"");for(var O in i)C+=" "+O+'="'+i[O]+'"';if(C+=">';",s&&(C+="N++; "),n["dota-render"]&&n.expand){i=[];for(T in n)T.indexOf("data-")?T.indexOf("scope-")||i.push('"'+T.slice(6)+'":S["'+n[T]+'"]'):i.push('"'+T.slice(5)+'":"'+n[T]+'"');C+="var P={"+i.join(",")+'},U="'+n["dota-render"]+'";',C+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<g[h]&&(C+="}",g[h]--,m[h]=0):h++},onclosetag:function(e){for(h--,C+="R+='</"+e+">';",v[h]&&(C+="} else {",C+="R+='<"+e+" id="+$[y+"."+h]+" style=display:none></"+e+">'; ");0<g[h];)C+="}",g[h]--,m[h]=0;v[h]&&(C+="return R;}; ",C+="R+=W.F(S,F,$attr,X); ",v[h]=0),l&&l>=h&&(l=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,c)),C+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){C+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),s&&(C+="if(H){doTA.diff(H,R)}doTA.H["+y+"]=R;"),C+="return R;",C=C.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(C=C.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),t.debug&&console.log(C);try{f=new Function("S","F","$attr","X",C),a&&(f={W:[],F:f})}catch(x){throw"undefined"!=typeof console&&console.log("doTA compile error:"+C),x}return C=h=g=m=p=l=null,f},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(y,w){function C(e,t){return e in q?q[e]:e||t}function F(e,t,n){if(e.forEach)return e.forEach(t);for(var o=0,i=e.length;i>o;o++)o in e&&t.call(n,e[o],o);return e}function H(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){F(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var h=w.documentMode,n;setTimeout(function(){w.getElementById&&(n=w.getElementById("dota-cache"),!n&&w.body&&(n=w.createElement("div"),n.id="dota-cache",n.style.display="none",w.body.appendChild(n)))});var q={0:0,"false":0};y.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,f,g,e,b,d){return{restrict:"A",priority:1e3,terminal:!0,controller:y.noop,link:y.noop,compile:function(){var k,r;return function(q,u,p){function S(){q.$on("$destroy",function(){n&&(a.D[z]=u[0],n.appendChild(u[0]))})}function A(e){try{var t=a.compile(e,p)}catch(n){throw console.log("compile error",p,e),n}return z&&(a.C[z]=t),t}function B(a,c){if((l||J)&&(k&&r.$destroy(),r=q.$new(),k=1,J)){var e=d(J,{$scope:r});u.data("$ngControllerController",e)}if(a){try{var f=a.F?a.F(r,g,G,c):a(r,g,G,c)}catch(h){throw console.log("render error",a),h}if(c)return;if(u[0].firstChild)for(H(u[0]),e=w.createElement("div"),e.innerHTML=f;f=e.firstChild;)u[0].appendChild(f);else u[0].innerHTML=f}if(x&&F(u[0].querySelectorAll("[de]"),function(e){var t=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var n=0,o=t.length;o>n;n++)"de-"===t[n].name.substr(0,3)&&e.addEventListener(t[n].name.substr(3),function(e,t){return function(e){r.$applyAsync(t.value)}}(e,t[n]))}),t?F(u[0].querySelectorAll("[dota-pass]"),function(e){b(e)(r)}):L&&b(u.contents())(r),N&&setTimeout(function(){eval(N)}),O&&setTimeout(function(){r.$evalAsync(O)}),M&&S(),T&&u.attr("loaded",!0),a&&a.W)for(var m={},p={},f=0;f<a.W.length;f++)e=a.W[f],p[e.I]=r.$watch(e.W,function(e){return function(n,o){var i=w.getElementById(e.I);if(!i)return console.log("tag not found");var c=e.F(r,g,G);return c?(c=y.element(c),m[e.I]&&m[e.I].$destroy(),m[e.I]=r.$new(),(t||L)&&b(c)(m[e.I]),y.element(i).replaceWith(c),void(e.O&&p[e.I]())):console.log("no contents")}}(e))}function c(){a.C[z]?u[0].hasChildNodes()&&!P?B():B(a.C[z]):P?B(A(u[0].innerHTML,p)):z&&(u[0].hasChildNodes()?B():f.get(z,{cache:e}).success(function(e){B(A(e,p))}))}r=q;var M=p.cacheDom,z=p.dotaRender,l=p.scope,J=p.ngController,E=p.loose,m=p.optimize,x=p.event,K=p.debug,v=p.watch,t=p.compile,L=p.compileAll,N=p.dotaOnload,O=p.dotaOnloadScope,T=p.loaded,P=p.inline,Q=p.watchDiff,R=p.$attr,E=p.loose=C(E,1),m=p.optimize=C(m,0),K=p.debug=C(K,0),x=p.event=C(x,1),v=p.watch="string"==typeof v?v:0,G={};if(M&&a.D[z])v=h?a.D[z].cloneNode(!0):a.D[z],u[0].parentNode.replaceChild(v,u[0]);else{for(var I in R)E=R[I],E.indexOf("data-")?E.indexOf("scope-")||(G[E.slice(6)]=r[p[I]]):G[I]=p[I];v&&r.$watchCollection(v,function(e,t){e!==t&&a.C[z]&&B(a.C[z])}),Q&&r.$watchCollection(Q,function(e,t){e!==t&&a.C[z]&&B(a.C[z],!0)}),c()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){e.get(r.dotaInclude,{cache:t}).success(function(e){i.html(e),"false"!==r.compile&&n(i.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){o.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:t}).success(function(e){i.html(e),"false"!==r.compile&&n(i.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,o,i){return function(e,r,c,a){a=a||{},a.loose=1,i.C[e]?c(i.C[e](r,o)):t.get(e,{cache:n}).success(function(t){i.C[e]=i.compile(t,a),c(i.C[e](r,o))})}}])}(window.angular,window.document);