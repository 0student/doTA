var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function n(n){var t,o={},i=n.indexOf(" ");if(-1!==i){t=n.slice(0,i);for(var r=n.length;++i<r;){var c=n.indexOf("=",i);if(-1===c){o[n.slice(i)]="";break}var a=n.slice(i,c),l=n[c+1];if('"'===l||"'"===l)l=n.indexOf(l,c+2),c=n.slice(c+2,l),o[a]=e(c),i=l+1;else{if(l=n.indexOf(" ",c+2),-1===l){c=n.slice(c+1),o[a]=e(c);break}c=n.slice(c+1,l),o[a]=e(c),i=l}}}else t=n;return[t,o,i]}function t(e,t){if(e){var o=e.match(/([<>]|[^<>]+)/g),i=0,r=o.length;do"<"===o[i]?(i++,"/"===o[i][0]?t.onclosetag(o[i].slice(1)):"!"===o[i][0]?t.oncomment(o[i]):t.onopentag.apply(this,n(o[i]))):">"===o[i]&&"<"!==o[i+1]&&(i++,o[i])&&t.ontext(o[i]);while(++i<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o=0,i={};return{nc:function(e,n){n=n||"";for(var t in e)e[t]&&(n+=(n?" ":"")+t);return n},diff:function(e,t){var o,i,r="textContent"in document.body?"textContent":"innerText",c=e.match(/([<>]|[^<>]+)/g),a=c.length,l=t.match(/([<>]|[^<>]+)/g),f=0;if(a===l.length)do if("<"===c[f]){if(f++,"/"!==c[f][0]&&"!"!==c[f][0])if(c[f]!==l[f])e:{i=l[f];var d=void 0;o=o=void 0,d=n(c[f]),o=n(i),i=d[1];var d=o[1],s=void 0;o=i.id;var u=void 0;for(u in d)if(d[u]!==i[u]){if(!s&&(s=document.getElementById(o),!s)){o=void 0;break e}s.setAttribute(u,d[u])}}else o=c[f],i=o.indexOf(" id="),d=void 0,i>=0&&(i+=4,d=o.charAt(i),"'"===d||'"'===d?(i++,d=o.indexOf(d,i+1)):(d=o.indexOf(" ",i),-1===d&&(d=o.indexOf(">",i),-1===d&&(d=o.length)))),o=o.substring(i,d)}else">"===c[f]&&"<"!==c[f+1]&&(f++,c[f]!==l[f]&&(i=document.getElementById(o))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[r]=l[f]));while(f++<a)},compile:function(e,n){function r(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var n="",t=0;t<e.length;t++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t].charAt(0)))||p[e[t]]||t&&"."===e[t-1][e[t-1].length-1])if(0<=e[t].indexOf("$index")){for(var o=g;o>=0;o--)if(m[o]){n+=e[t].replace(/\$index/g,m[o]);break}}else n+=e[t];else n+="S."+e[t];return n}return e}function c(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+r(n)+s+")+'";var o="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),t=r(o[0]);if(o[1]){if(o=o[1].split(":"),t="F('"+o.shift().trim()+"')("+t,o.length){for(var i=[],c=0;c<o.length;c++)i.push(r(o[c]));t+=","+i.join(",")}t+=")"}return"'+("+t+s+")+'"}n=n||{};var a,l,f,d,s=n.loose?"||''":"",u=n.watchDiff,p={$index:1,undefined:1,$attr:1},g=0,h={},m={},v={},y=i[n.dotaRender]||o++,C={};i[y]=y;var $="'use strict';var "+(u?"N=0,J="+y+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),n.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),t(e,{onopentag:function(e,t){var o,i,d={};if(t["dota-pass"]?(l=g,f=0):t["dota-continue"]&&(f=g),!l||f){if(t["ng-repeat"]){h[g]=h[g]?h[g]+1:1;var s="i"+g,x="l"+g,A=t["ng-repeat"].split(" in "),w=r(A[1]);m[g]=s,0<=A[0].indexOf(",")?(s=A[0].split(","),$+="var D"+g+"="+w+";",$+="for(var "+s[0]+" in D"+g+"){",$+="var "+s[1]+" = D"+g+"["+s[0]+"]; ",p[s[0]]=p[s[1]]=1):($+="var D"+g+"="+w+","+s+"=-1,"+x+"=D"+g+".length;",$+="while(++"+s+"<"+x+"){",$+="var "+A[0]+"=D"+g+"["+s+"]; ",p[A[0]]=1),delete t["ng-repeat"]}t["ng-if"]&&((t.wait||t.watch)&&(o=1,$+=(a?"":"var "+(u?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+y+'."+ ++N,W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",v[g]=a=1,$+='W.F=function(S,F,$attr,X){var R="";',delete t.watch,delete t.wait),h[g]=h[g]?h[g]+1:1,$+="if("+r(t["ng-if"])+"){",delete t["ng-if"]),t["ng-class"]&&(t["class"]="'+doTA.nc("+r(t["ng-class"])+(t["class"]?",'"+t["class"]+"'":"")+")+'",i=1,delete t["ng-class"]);for(var T in t)"ng-"===T.substr(0,3)&&(w=T.substr(3),/^(?:src|alt|title|href)/.test(w)?(t[w]=t[T],delete t[T]):n.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(t.de="1",t["de-"+w]=t[T],delete t[T]))}for(T in t){if(w=T,i&&"class"===T)s=t[T];else if(s=t[T],0<=s.indexOf("{{")){for(s=s.split(/\{\{|\}\}/),x=0;x<s.length;x+=2)0<=s[x].indexOf("'")&&(s[x]=s[x].replace(/'/g,"\\'"));for(x=1;x<s.length-1;x+=2)s[x]=c(null,s[x]);s=s.join("")}else s=0<=s.indexOf("'")?s.replace(/'/g,"\\'"):s;if(d[w]=s,0<=d[T].indexOf("$index"))for(w=g;w>=0;w--)if(m[w]){d[T]=d[T].replace(/\$index/g,"'+"+m[w]+"+'");break}}(u||o)&&(d.id=C[y+"."+g]=d.id||y+".'+N+'"),$+="R+='<"+e;for(var O in d)$+=" "+O+'="'+d[O]+'"';if($+=">';",u&&($+="N++; "),t["dota-render"]&&t.expand){d=[];for(T in t)T.indexOf("data-")?T.indexOf("scope-")||d.push('"'+T.slice(6)+'":S["'+t[T]+'"]'):d.push('"'+T.slice(5)+'":"'+t[T]+'"');$+="var P={"+d.join(",")+'},U="'+t["dota-render"]+'";',$+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<h[g]&&($+="}",h[g]--,m[g]=0):g++},onclosetag:function(e){for(g--,$+="R+='</"+e+">';",v[g]&&($+="} else {",$+="R+='<"+e+" id="+C[y+"."+g]+" style=display:none></"+e+">'; ");0<h[g];)$+="}",h[g]--,m[g]=0;v[g]&&($+="return R;}; ",$+="R+=W.F(S,F,$attr,X); ",v[g]=0),l&&l>=g&&(l=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,c)),$+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){$+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),u&&($+="if(H){doTA.diff(H,R)}doTA.H["+y+"]=R;"),$+="return R;",$=$.replace(/;R\+=/g,"+").replace(/'\+'/g,""),n.optimize&&($=$.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),n.debug&&console.log($);try{d=new Function("S","F","$attr","X",$),a&&(d={W:[],F:d})}catch(x){throw"undefined"!=typeof console&&console.log("doTA compile error:"+$),x}return $=g=h=m=p=l=null,d},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(x,r){function D(e,n){return e in g?g[e]:e||n}function G(e,n,t){if(e.forEach)return e.forEach(n);for(var o=0,i=e.length;i>o;o++)o in e&&n.call(t,e[o],o);return e}function I(e){e=e.firstChild;var n=[];if(e)for(e.hidden=1,n.push(e);e=e.nextSibling;)e.hidden=1,n.push(e);setTimeout(function(){G(n,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var h=r.documentMode,k;setTimeout(function(){r.getElementById&&(k=r.getElementById("dota-cache"),!k&&r.body&&(k=r.createElement("div"),k.id="dota-cache",k.style.display="none",r.body.appendChild(k)))});var g={0:0,"false":0};x.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,f,l,e,b,d){return{restrict:"A",priority:1e3,terminal:!0,controller:x.noop,link:x.noop,compile:function(){var q,g;return function(z,t,n){function S(){z.$on("$destroy",function(){k&&(a.D[y]=t[0],k.appendChild(t[0]))})}function B(e){try{var t=a.compile(e,n)}catch(o){throw console.log("compile error",n,e),o}return y&&(a.C[y]=t),t}function C(a,c){if((m||K)&&(q&&g.$destroy(),g=z.$new(),q=1,K)){var e=d(K,{$scope:g});t.data("$ngControllerController",e)}if(a){!c&&t[0].firstChild&&I(t[0]);try{var f=a.F?a.F(g,l,H,c):a(g,l,H,c)}catch(k){throw console.log("render error",a),k}if(c)return;if(t[0].firstChild)for(e=r.createElement("div"),e.innerHTML=f;f=e.firstChild;)t[0].appendChild(f);else t[0].innerHTML=f}if(p&&G(t[0].querySelectorAll("[de]"),function(e){var n=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var t=0,o=n.length;o>t;t++)"de-"===n[t].name.substr(0,3)&&e.addEventListener(n[t].name.substr(3),function(e,n){return function(e){g.$applyAsync(n.value)}}(e,n[t]))}),w?G(t[0].querySelectorAll("[dota-pass]"),function(e){b(e)(g)}):u&&b(t.contents())(g),M&&setTimeout(function(){eval(M)}),O&&setTimeout(function(){g.$evalAsync(O)}),N&&S(),T&&t.attr("loaded",!0),a&&a.W)for(var h={},n={},f=0;f<a.W.length;f++)e=a.W[f],n[e.I]=g.$watch(e.W,function(e){return function(t,o){var i=r.getElementById(e.I);if(!i)return console.log("tag not found");var c=e.F(g,l,H);return c?(c=x.element(c),h[e.I]&&h[e.I].$destroy(),h[e.I]=g.$new(),(w||u)&&b(c)(h[e.I]),x.element(i).replaceWith(c),void(e.O&&n[e.I]())):console.log("no contents")}}(e))}function c(){a.C[y]?t[0].hasChildNodes()&&!P?C():C(a.C[y]):P?C(B(t[0].innerHTML,n)):y&&(t[0].hasChildNodes()?C():f.get(y,{cache:e}).success(function(e){C(B(e,n))}))}g=z;var N=n.cacheDom,y=n.dotaRender,m=n.scope,K=n.ngController,F=n.loose,L=n.optimize,p=n.event,v=n.debug,A=n.watch,w=n.compile,u=n.compileAll,M=n.dotaOnload,O=n.dotaOnloadScope,T=n.loaded,P=n.inline,Q=n.watchDiff,R=n.$attr,F=n.loose=D(F,1),L=n.optimize=D(L,0),v=n.debug=D(v,0),p=n.event=D(p,1),A=n.watch="string"==typeof A?A:0,H={};if(N&&a.D[y])A=h?a.D[y].cloneNode(!0):a.D[y],t[0].parentNode.replaceChild(A,t[0]);else{for(var J in R)F=R[J],F.indexOf("data-")?F.indexOf("scope-")||(H[F.slice(6)]=g[n[J]]):H[J]=n[J];A&&g.$watchCollection(A,function(e,n){e!==n&&a.C[y]&&C(a.C[y])}),Q&&g.$watchCollection(Q,function(e,n){e!==n&&a.C[y]&&C(a.C[y],!0)}),c()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){e.get(r.dotaInclude,{cache:n}).success(function(e){i.html(e),"false"!==r.compile&&t(i.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){o.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:n}).success(function(e){i.html(e),"false"!==r.compile&&t(i.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,o,i){return function(e,r,c,a){a=a||{},a.loose=1,i.C[e]?c(i.C[e](r,o)):n.get(e,{cache:t}).success(function(n){i.C[e]=i.compile(n,a),c(i.C[e](r,o))})}}])}(window.angular,window.document);