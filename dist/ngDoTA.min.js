var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},o=t.indexOf(" ");if(-1!==o){n=t.slice(0,o);for(var r=t.length;++o<r;){var c=t.indexOf("=",o);if(-1===c){i[t.slice(o)]="";break}var o=t.slice(o,c),a=t[c+1];if('"'===a||"'"===a)a=t.indexOf(a,c+2),c=t.slice(c+2,a),i[o]=e(c),o=a+1;else{if(a=t.indexOf(" ",c+2),-1===a){c=t.slice(c+1),i[o]=e(c);break}c=t.slice(c+1,a),i[o]=e(c),o=a}}}else n=t;return[n,i]}function n(e,n){if(e){var i=e.match(/([<>]|[^<>]+)/g),o=0,r=i.length;do"<"===i[o]?(o++,"/"===i[o][0]?n.onclosetag(i[o].slice(1)):"!"===i[o][0]?n.oncomment(i[o]):n.onopentag.apply(this,t(i[o]))):">"===i[o]&&"<"!==i[o+1]&&(o++,i[o])&&n.ontext(i[o]);while(++o<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var i=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,o=/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g,r=/"[^"]*"|'[^']*'/g,c=/\s{2,}|\n/g,a=/\{\{|\}\}/,l=/\{\{([^}]+)\}\}/g,d=/([^|]+(?:\|\|)?)+/g,f=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,s=/^(?:input|img|br|hr)/i,u=/^(?:src|alt|title|href)/,p=/\$index/g,g=0,h={diff:function(e,t){var n,i,o="textContent"in document.body?"textContent":"innerText",r=doTA.H[e].match(/([<>]|[^<>]+)/g),c=r.length,a=t.match(/([<>]|[^<>]+)/g),l=0;if(c===a.length)do if("<"===r[l]){if(l++,"/"!==r[l][0]&&"!"!==r[l][0])if(r[l]!==a[l])e:{n=r[l],i=a[l];var d=void 0,f=void 0,s=n.indexOf(" "),u=void 0,p=void 0,g=void 0,h=void 0,g=void 0,p=0,v=void 0,m=void 0,u=void 0,x=n.length;if(-1!==s)for(;++s<x&&(u=n.indexOf("=",s),-1!==u);)if(v=n.slice(s,u),g=n[u+1],'"'===g||"'"===g){if(h=n.indexOf(g,u+2),m=n.slice(u+2,h),"id"===v)d=m;else if(p=u+p,g=i.indexOf(g,p+2),u=i.slice(p+2,g),p=g-h,m!==u){if(!f&&(f=document.getElementById(d),!f)){n=void 0;break e}f.setAttribute(v,u)}s=h+1}else{if(h=n.indexOf(" ",u+2),-1===h){d||(m=n.slice(u+1),"id"===v&&(d=m));break}d||(m=n.slice(u+1,h),"id"===v&&(d=m)),s=h}n=d}else n=r[l],i=n.indexOf(" id="),d=void 0,i>=0&&(i+=4,d=n.charAt(i),"'"===d||'"'===d?(i++,d=n.indexOf(d,i+1)):(d=n.indexOf(" ",i),-1===d&&(d=n.indexOf(">",i),-1===d&&(d=n.length)))),n=n.substring(i,d)}else">"===r[l]&&"<"!==r[l+1]&&(l++,r[l]!==a[l]&&(i=document.getElementById(n))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[o]=a[l]));while(l++<c)},CH:{},initCH:function(e){this.CH=e},compile:function(e,t){function h(e){if(e){e=e.match(o);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||T[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=b;i>=0;i--)if(E[i]){t+=e[n].replace(p,E[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function v(e){if(0<=e.indexOf("{{")){e=e.split(a);var t;for(t=0;t<e.length;t+=2)0<=e[t].indexOf("'")&&(e[t]=e[t].replace(/'/g,"\\'"));for(t=1;t<e.length-1;t+=2)e[t]=m(null,e[t]);return e.join("")}return 0<=e.indexOf("'")?e.replace(/'/g,"\\'"):e}function m(e,t){var n=t.indexOf("|");if(-1===n)return"'+("+h(t)+y+")+'";for(var n="|"===t[n+1]?t.match(d):t.split("|"),i=h(n[0]),o=1;o<n.length;o++)if(0<=n[o].indexOf(":")){var r=n[o].split(":"),i="F('"+r.shift().trim()+"')("+i;if(r.length){for(var c=[],a=0;a<r.length;a++)c.push(h(r[a]));i+=","+c.join(",")}i+=")"}else i="F('"+n[o].trim()+"')("+i+")";return"'+("+i+y+")+'"}t=t||{};var x,C,$,w,y=t.loose?"||''":"",O=t.watchDiff,T={$index:1,undefined:1,$attr:1},b=0,A={},E={},I={},D=this.CH[t.dotaRender]||g++,R={};this.CH[t.dotaRender]=D;var H="'use strict';var "+(O?"N=0,J="+D+",":"")+"R='';";e=e.replace(c," "),t.encode&&(e=e.replace(r,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,r,c={};if(n["dota-pass"]?(C=b,$=0):n["dota-continue"]&&($=b),!C||$){if(n["ng-repeat"]){A[b]=A[b]?A[b]+1:1;var a="i"+b,l="l"+b,d=n["ng-repeat"].split(" in "),f=h(d[1]);E[b]=a,0<=d[0].indexOf(",")?(a=d[0].split(","),H+="var D"+b+"="+f+";",H+="for(var "+a[0]+" in D"+b+"){",H+="var "+a[1]+" = D"+b+"["+a[0]+"]; ",T[a[0]]=T[a[1]]=1):(H+="var D"+b+"="+f+","+a+"=-1,"+l+"=D"+b+".length;",H+="while(++"+a+"<"+l+"){",H+="var "+d[0]+"=D"+b+"["+a+"]; ",T[d[0]]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(o=1,H+=(x?"":"var "+(O?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+D+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",I[b]=x=1,H+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),A[b]=A[b]?A[b]+1:1,H+="if("+h(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]){for(r=h(n["ng-class"]),n["class"]=n["class"]?v(n["class"]):"";null!==(f=i.exec(r));)n["class"]+="'+("+f[2]+"?'"+(n["class"]?" ":"")+f[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),r=1,delete n["ng-class"]}for(var g in n)"ng-"===g.substr(0,3)&&(f=g.substr(3),u.test(f)?(n[f]=n[g],delete n[g]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+f+" ")&&(n.de="1",n["de-"+f]=n[g],delete n[g]))}for(g in n)if(c[g]=r&&"class"===g?n[g]:v(n[g]),0<=c[g].indexOf("$index"))for(f=b;f>=0;f--)if(E[f]){c[g]=c[g].replace(p,"'+"+E[f]+"+'");break}H+="R+='<"+e,(O||o)&&(o=R[D+"."+b]=c.id||D+".'+N+'",H+=' id="'+o+'"',c.id&&delete c.id);for(var m in c)H+=" "+m+'="'+c[m]+'"';if(H+=">';",O&&(H+="N++; "),n["dota-render"]&&n.expand){c=[];for(g in n)g.indexOf("data-")?g.indexOf("scope-")||c.push('"'+g.slice(6)+'":S["'+n[g]+'"]'):c.push('"'+g.slice(5)+'":"'+n[g]+'"');H+="var P={"+c.join(",")+'},U="'+n["dota-render"]+'";',H+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}s.test(e)?0<A[b]&&(H+="}",A[b]--,E[b]=0):b++},onclosetag:function(e){for(b--,H+="R+='</"+e+">';",I[b]&&(H+="} else {",H+="R+='<"+e+" id="+R[D+"."+b]+" style=display:none></"+e+">'; ");0<A[b];)H+="}",A[b]--,E[b]=0;I[b]&&(H+="return R;}; ",H+="R+=W.F(S,F,$attr,X); ",I[b]=0),C&&C>=b&&(C=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(l,m)),H+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){H+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),O&&(H+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),H+="return R;",H=H.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(H=H.replace(f,"$1$2")),t.debug&&console.log(H);try{w=new Function("S","F","$attr","X",H),x&&(w={W:[],F:w})}catch(F){throw"undefined"!=typeof console&&console.log("doTA compile error:"+H),F}return H=b=A=E=T=C=null,w},C:{},D:{},H:{}};return h.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1}),h}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(C,w){function J(e,t){return e in H?H[e]:e||t}function L(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function Q(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){L(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var R=w.documentMode,E;setTimeout(function(){w.getElementById&&(E=w.getElementById("dota-cache"),!E&&w.body&&(E=w.createElement("div"),E.id="dota-cache",E.style.display="none",w.body.appendChild(E)))});var H={0:0,"false":0};C.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,l,q,v,t,A){return{restrict:"A",priority:1e3,terminal:!0,controller:C.noop,link:C.noop,compile:function(){var O,p;return function(f,g,e){function r(){f.$on("$destroy",function(){E&&(a.D[c]=g[0],E.appendChild(g[0]))})}function H(t){try{var n=a.compile(t,e)}catch(i){throw console.log("compile error",e,t),i}return c&&(a.C[c]=n),n}function h(a,c){if((m||D)&&(O&&p.$destroy(),p=f.$new(),O=1,D)){var d=A(D,{$scope:p});g.data("$ngControllerController",d)}if(a){!c&&g[0].firstChild&&Q(g[0]);try{var e=a.F?a.F(p,q,K,c):a(p,q,K,c)}catch(k){throw console.log("render error",a),k}if(c)return;if(g[0].firstChild)for(d=w.createElement("div"),d.innerHTML=e;e=d.firstChild;)g[0].appendChild(e);else g[0].innerHTML=e}if(F&&L(g[0].querySelectorAll("[de]"),function(e){var t=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var n=0,i=t.length;i>n;n++)"de-"===t[n].name.substr(0,3)&&e.addEventListener(t[n].name.substr(3),function(e,t){return function(e){e.preventDefault(),e.stopPropagation(),p.$applyAsync(t.value)}}(e,t[n]))}),G?L(g[0].querySelectorAll("[dota-pass]"),function(e){t(e)(p)}):M&&t(g.contents())(p),b&&setTimeout(function(){eval(b)}),P&&setTimeout(function(){p.$evalAsync(P)}),n&&r(),V&&g.attr("loaded",!0),a&&a.W)for(var h={},l={},e=0;e<a.W.length;e++)d=a.W[e],l[d.I]=p.$watch(d.W,function(e){return function(n,i){var o=w.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(p,q,K);return r?(r=C.element(r),h[e.I]&&h[e.I].$destroy(),h[e.I]=p.$new(),(G||M)&&t(r)(h[e.I]),C.element(o).replaceWith(r),void(e.O&&l[e.I]())):console.log("no contents")}}(d))}function k(){a.C[c]?g[0].hasChildNodes()&&!d?h():h(a.C[c]):d?h(H(g[0].innerHTML,e)):c&&(g[0].hasChildNodes()?h():l.get(c,{cache:v}).success(function(t){h(H(t,e))}))}p=f;var n=e.cacheDom,c=e.dotaRender,m=e.scope,D=e.ngController,z=e.loose,x=e.optimize,F=e.event,S=e.debug,u=e.watch,G=e.compile,M=e.compileAll,b=e.dotaOnload,P=e.dotaOnloadScope,V=e.loaded,d=e.inline,T=e.watchDiff,U=e.$attr,z=e.loose=J(z,1),x=e.optimize=J(x,0),S=e.debug=J(S,0),F=e.event=J(F,1),u=e.watch="string"==typeof u?u:0,K={};if(n&&a.D[c])u=R?a.D[c].cloneNode(!0):a.D[c],g[0].parentNode.replaceChild(u,g[0]);else{for(var I in U)z=U[I],z.indexOf("data-")?z.indexOf("scope-")||(K[z.slice(6)]=0<=e[I].indexOf(".")||0<=e[I].indexOf("[")?f.$eval(e[I]):f[e[I]]):K[I]=e[I];u&&p.$watchCollection(u,function(e,t){e!==t&&a.C[c]&&h(a.C[c])}),T&&p.$watchCollection(T,function(e,t){e!==t&&a.C[c]&&h(a.C[c],!0)}),k()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,c,a){a=a||{},a.loose=1,o.C[e]?c(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,a),c(o.C[e](r,i))})}}])}(window.angular,window.document);