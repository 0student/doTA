var doTA=function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var valid_chr="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",parse=function(e,n){if(e){var t=e.match(/([<>]|[^<>]+)/g),o=0,r=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===t[o])if(o++,"/"===t[o][0])n.onclosetag(t[o].slice(1));else if("!"===t[o][0])n.oncomment(t[o]);else{var a,i={},c=t[o],d=c.indexOf(" ");if(-1===d)a=c;else{a=c.slice(0,d);for(var l=c.length;++d<l;){var s=c.indexOf("=",d);if(-1===s){i[c.slice(d)]="";break}var f,u,p=c.slice(d,s),h=c[s+1];if('"'===h||"'"===h)u=c.indexOf(h,s+2),f=c.slice(s+2,u),i[p]=r(f),d=u+1;else{if(u=c.indexOf(" ",s+2),-1===u){f=c.slice(s+1),i[p]=r(f);break}f=c.slice(s+1,u),i[p]=r(f),d=u}}}n.onopentag(a,i)}else">"===t[o]&&"<"!==t[o+1]&&(o++,t[o]&&n.ontext(t[o]));while(++o<t.length)}},w=0;return{compile:function(E,O){O=O||{};var val_mod=O.loose?"||''":"";E=E.replace(/\s{2,}|\n/g," "),O.encode&&(E=E.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}));var Y=function(e,n){if(n){for(var t=n.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),o="",r=0;r<t.length;r++)if(!(valid_chr.indexOf(t[r].charAt(0))>=0)||e[t[r]]||r&&"."===t[r-1][t[r-1].length-1])if(t[r].indexOf("$index")>=0){for(var a=L;a>=0;a--)if(I[a]){o+=t[r].replace(/\$index/g,I[a]);break}}else o+=t[r];else o+="S."+t[r];return o}return n},V={$index:1,undefined:1,$attr:1},N=function(e){if(e.indexOf("{{")>=0){for(var n=e.split(/\{\{|\}\}/),t=0;t<n.length;t+=2)n[t].indexOf("'")>=0&&(n[t]=n[t].replace(/'/g,"\\'"));for(var t=1;t<n.length-1;t+=2)n[t]=C(null,n[t]);return n.join("")}return e.indexOf("'")>=0?e.replace(/'/g,"\\'"):e},M=function(e){return e.replace(/\{\{([^}]+)\}\}/g,C)},C=function(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+Y(V,n)+val_mod+")+'";for(var o="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),r=Y(V,o[0]),a=1;a<o.length;a++){var i=o[a].split(":");if(r="F('"+i.shift().trim()+"')("+r,i.length){for(var c=[],d=0;d<i.length;d++)c.push(Y(V,i[d]));r+=","+c.join(",")}r+=")";break}return"'+("+r+val_mod+")+'"},D=function(e,n){var t=new Array(e+2).join("    ");return n?t.slice(0,-2*n):t},L=0,T={},I={},W={},X,P,Q,F,R="'use strict';var R='';";parse(E,{onopentag:function(e,n){var t,o={};if(n["dota-pass"]?(P=L,Q=0):n["dota-continue"]&&(Q=L),!P&&n["ng-repeat"]){T[L]=T[L]?T[L]+1:1;var r="i"+L,a="l"+L,i=n["ng-repeat"].split(" in "),c=Y(V,i[1]);if(I[L]=r,i[0].indexOf(",")>=0){var d=i[0].split(",");R+="var D"+L+"="+c+";",R+="for(var "+d[0]+" in D"+L+"){",R+="var "+d[1]+" = D"+L+"["+d[0]+"]; ",V[d[0]]=V[d[1]]=1}else R+="var D"+L+"="+c+","+r+"=-1,"+a+"=D"+L+".length;",R+="while(++"+r+"<"+a+"){",R+="var "+i[0]+"=D"+L+"["+r+"]; ",V[i[0]]=1;delete n["ng-repeat"]}if(!P||Q){n["ng-if"]&&((n.wait||n.watch)&&(++w,R+=(X?"":"X.W=[];")+'var W={I:"D'+w+'",W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};X.W.push(W);",W[L]=X=1,R+='W.F=function(S,F){"use strict";var R="";',n.id="D"+w,delete n.watch,delete n.wait),T[L]=T[L]?T[L]+1:1,R+="if("+Y(V,n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(R+="var s=[],n="+Y(V,n["ng-class"])+";",R+="for(var c in n){n[c]&&s.push(c);}",t=1,delete n["ng-class"]);for(var l in n)"-"===l.charAt(2)&&/^ng-(?:src|alt|title|href)/.test(l)&&(n[l.replace("ng-","")]=n[l],delete n[l])}for(var l in n){var s=n[l];if(t&&"class"===l)R+='s.push("'+s+'"); ';else if(o[l]='="'+N(s)+'"',o[l].indexOf("$index")>=0)for(var f=L;f>=0;f--)if(I[f]){o[l]=o[l].replace(/\$index/g,"'+"+I[f]+"+'");break}}R+="R+='<"+e+(t?" class=\"'+s.join(' ')+'\"":"");for(var u in o)R+=" "+u+o[u];if(R+=">';",n["dota-render"]&&n.expand){var p=[];for(var l in n)l.indexOf("data-")?l.indexOf("scope-")||p.push('"'+l.slice(6)+'":S["'+n[l]+'"]'):p.push('"'+l.slice(5)+'":"'+n[l]+'"');R+="var P={"+p.join(",")+'},U="'+n["dota-render"]+'";',R+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(e)?T[L]>0&&(R+="}",T[L]--,I[L]=0):L++},onclosetag:function(e){for(R+="R+='</"+e+">';",L--,W[L]&&(R+="} else {",R+="R+='<"+e+' id="D'+w+'" style="display:none"></'+e+">'; ");T[L]>0;)R+="}",T[L]--,I[L]=0;W[L]&&(R+="return R;}; ",R+="R+=W.F(S,F); ",W[L]=0),P&&P>=L&&(P=0)},ontext:function(e){e.indexOf("{{")>=0&&(e=M(e)),R+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){R+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),R+="return R;",R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,""),O.debug&&console.log(R);try{F=X?eval("[(function X(S,F,$attr){"+R+"})][0]"):new Function("S","F","$attr",R)}catch(e){throw"undefined"!=typeof console&&console.log("doTA compile error:"+R),e}return R=L=T=I=V=P=null,F},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}}),function(A){"use strict";var hiddenDIV;setTimeout(function(){document.getElementById&&(hiddenDIV=document.getElementById("dota-cache"),!hiddenDIV&&document.body&&(hiddenDIV=document.createElement("div"),hiddenDIV.id="dota-cache",hiddenDIV.style.display="none",document.body.appendChild(hiddenDIV)))});var isIE="undefined"!=typeof navigator&&/MSIE|Trident/.test(navigator.userAgent),B={0:0,"false":0};A.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile",function(d,h,f,t,c){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){return function(s,e,a){function cacheDOM(){s.$on("$destroy",function(){hiddenDIV&&(d.D[a.dotaRender]=e[0],hiddenDIV.appendChild(e[0]))})}function compile(e){a.debug;try{var n=d.compile(e,a)}catch(t){throw console.log("compile error",a,e),t}return a.dotaRender&&(d.C[a.dotaRender]=n),n}function render(func){if(func){try{var v=func(s,f,p)}catch(x){throw console.log("render error",func),x}a.debug,e[0].innerHTML=v}if(a.scope&&(a.newScope&&a.newScope.$destroy(),a.newScope=s.$new()),a.compile?A.forEach(e[0].querySelectorAll("[dota-pass]"),function(e){c(e)(a.newScope||s)}):a.compileAll&&c(e.contents())(a.newScope||s),a.dotaOnload&&setTimeout(function(){eval(a.dotaOnload)}),a.dotaOnloadScope&&setTimeout(function(){s.$evalAsync(a.dotaOnloadScope)}),a.cacheDom&&cacheDOM(),a.loaded&&e.attr("loaded",!0),func&&func.W)for(var scopes={},watches={},i=0;i<func.W.length;i++){var w=func.W[i];watches[w.I]=s.$watch(w.W,function(e){return function(n,t){var o=document.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(s,f,p);if(!r)return console.log("no contents");var i=/^<(\w+)/.test(r)&&RegExp.$1,d=document.createElement(i);d.id=e.I,d.innerHTML=r,scopes[e.I]&&scopes[e.I].$destroy(),scopes[e.I]=s.$new(),(a.compile||a.compileAll)&&c(d)(scopes[e.I]),o.parentNode.replaceChild(d,o),e.O&&watches[e.I]()}}(w))}}function loader(n){if(d.C[a.dotaRender])!e[0].hasChildNodes()||a.inline||n?render(d.C[a.dotaRender]):render();else if(a.inline){var o=e[0].innerHTML;render(compile(o,a))}else a.dotaRender&&(e[0].hasChildNodes()?render():h.get(a.dotaRender,{cache:t}).success(function(e){render(compile(e,a))}))}a.loose=a.loose in B?B[a.loose]:a.loose||1,a.optimize=a.optimize in B?B[a.optimize]:a.optimize||1;var p={};if(a.cacheDom&&d.D[a.dotaRender]){var elem;return elem=isIE?d.D[a.dotaRender].cloneNode(!0):d.D[a.dotaRender],void e[0].parentNode.replaceChild(elem,e[0])}for(var x in a.$attr){var z=a.$attr[x];z.indexOf("data-")?z.indexOf("scope-")||(p[z.slice(6)]=s[a[x]]):p[x]=a[x]}a.watch&&s.$watchCollection(a.watch,function(e,n){e!==n&&d.C[a.dotaRender]&&loader(!0)}),loader()}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){e.get(a.dotaInclude,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){o.$watch(a.dotaTemplate,function(i,c){i&&e.get(i,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,o,r){return function(e,a,i,c){c=c||{},c.loose=1,r.C[e]?i(r.C[e](a,o)):n.get(e,{cache:t}).success(function(n){r.C[e]=r.compile(n,c),i(r.C[e](a,o))})}}])}(window.angular);