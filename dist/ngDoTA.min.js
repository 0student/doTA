var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t,n){if(t){var i=0,o=t.indexOf("<");do if("<"===t.charAt(o))if(o++,"/"===t.charAt(o))i=++o,o=t.indexOf(">",i),n.onclosetag(t.substring(i,o));else if("!"===t.charAt(o))i=o,o=t.indexOf(">",i),n.oncomment(t.substring(i,o));else{var i=o,o=t.indexOf(">",i),i=t.substring(i,o),r=n,c={},a=void 0,d=i.indexOf(" "),l=void 0,s=void 0,f=void 0,u=void 0,u=void 0;if(-1!==d){for(a=i.slice(0,d),l=i.length;++d<l;){if(f=i.indexOf("=",d),-1===f){s=i.slice(d),"/"!==s&&(c[s]="");break}if(s=i.slice(d,f),u=i[f+1],'"'===u||"'"===u)u=i.indexOf(u,f+2),f=i.slice(f+2,u),c[s]=e(f),d=u+1;else{if(u=i.indexOf(" ",f+2),-1===u){f=i.slice(f+1),c[s]=e(f);break}f=i.slice(f+1,u),c[s]=e(f),d=u}}r.onopentag(a,c),a=a.toLowerCase(),"input"===a||"img"===a?r.onvoidtag():"/"===s&&r.onclosetag(a)}else"/"===i.charAt(i.length-1)?(a=i.slice(0,-1),r.onopentag(a,c),a=a.toLowerCase(),"br"===a||"hr"===a?r.onvoidtag():r.onclosetag(a)):(a=i,r.onopentag(i,c),a=a.toLowerCase(),("br"===a||"hr"===a)&&r.onvoidtag())}else{if(">"!==t.charAt(o))break;i=++o,o=t.indexOf("<",i),o>i&&n.ontext(t.substring(i,o))}while(o>0)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var n=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,i=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,o=/"[^"]*"|'[^']*'/g,r=/\s{2,}|\n/g,c=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,a=/^(?:src|alt|title|href)/,d=/^(?:checked|selected|disabled)/,l=/\$index/g,s={},f=0,u={diff:function(e,t){var n,i=doTA.H[e],o=0,r=i.indexOf("<"),c=0,a=t.indexOf("<");do if("<"===i.charAt(r))if(r++,a++,"/"===i.charAt(r)||"!"===i.charAt(r))r=i.indexOf(">",r),a=t.indexOf(">",a);else if(o=r,c=a,r=i.indexOf(">",o),a=t.indexOf(">",c),n=i.substring(o,r),c=t.substring(c,a),n!==c)e:{var d=o=void 0,l=n.indexOf(" "),s=void 0,f=void 0,u=void 0,h=void 0,u=void 0,f=0,p=void 0,g=void 0,s=void 0,v=n.length;if(-1!==l)for(;++l<v&&(s=n.indexOf("=",l),-1!==s);)if(p=n.slice(l,s),u=n[s+1],'"'===u||"'"===u){if(h=n.indexOf(u,s+2),g=n.slice(s+2,h),"id"===p)o=g;else if(f=s+f,u=c.indexOf(u,f+2),s=c.slice(f+2,u),f=u-h,g!==s){if(!d&&(d=document.getElementById(o),!d)){n=void 0;break e}d.setAttribute(p,s)}l=h+1}else{if(h=n.indexOf(" ",s+2),-1===h){o||(g=n.slice(s+1),"id"===p&&(o=g));break}o||(g=n.slice(s+1,h),"id"===p&&(o=g)),l=h}n=o}else c=n.indexOf(" id="),o=void 0,c>=0&&(c+=4,o=n.charAt(c),"'"===o||'"'===o?(c++,o=n.indexOf(o,c+1)):(o=n.indexOf(" ",c),-1===o&&(o=n.indexOf(">",c),-1===o&&(o=n.length)))),n=n.substring(c,o);else">"===i.charAt(r)&&(o=++r,c=++a,r=i.indexOf("<",o),a=t.indexOf("<",c),a>c&&(o=i.substring(o,r),c=t.substring(c,a),o!==c&&(o=document.getElementById(n))&&o.firstChild&&3===o.firstChild.nodeType&&(o.firstChild.nodeValue=c)));while(r>0)},getId:function(e){if(e){if(s[e])return s[e];s[e]=f}return f++},initCH:function(e){for(var t in e)s[t]=e[t],e[t]>f&&(f=e[t])},compile:function(e,s){function f(e){if(e){e=e.match(i);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||w[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var o=$;o>=0;o--)if(y[o]){t+=e[n].replace(l,y[o]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function u(e){var t=e.indexOf("'");if(t>=0){var n="",i=0;do n+=e.substring(i,t),"\\"!==e.charAt(t-1)&&(n+="\\"),i=t,t=e.indexOf("'",i+1);while(t>0);return n+=e.substr(i)}return e}function h(e){var t=e.indexOf("{{");if(t>=0){var n=0,i="";do n=e.substring(n,t),i+=u(n),n=t+2,t=e.indexOf("}}",n),n=e.substring(n,t),i+="'+("+p(n)+b+")+'",n=t+2,t=e.indexOf("{{",n);while(t>0);return i+=u(e.substr(n))}return u(e)}function p(e){if(-1===e.indexOf("|"))return f(e);var t=e.indexOf("|");if(-1===t)e=[e];else{for(var n=0,i=[];-1!==t;)"|"===e.charAt(t+1)?t+=2:(i.push(e.substring(n,t)),n=++t),t=e.indexOf("|",t);n<e.length&&i.push(e.substring(n)),e=i}for(var o,t=f(e[0]),n=0,r=1;r<e.length;r++)if(o=e[r],i=o.indexOf(":"),i>0){for(t="F('"+o.slice(n,i).trim()+"')("+t,n=++i,i=o.indexOf(":",n);i>0;)t+=","+f(o.slice(n,i)),n=++i,i=o.indexOf(":",n);t+=","+f(o.substr(n))+")"}else t="F('"+o.trim()+"')("+t+")";return t}s=s||{};var g,v,m,x,b=s.loose?"||''":"",O=s.watchDiff,w={$index:1,undefined:1,$attr:1},$=0,A={},y={},C={},T=this.getId(s.dotaRender),F={},D="'use strict';var "+(O?"N=0,J="+T+",":"")+"R='';";e=e.replace(r," "),s.encode&&(e=e.replace(o,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),t(e,{onopentag:function(e,t){var i,o,r={},c="";if(t["dota-pass"]?(v=$,m=0):t["dota-continue"]&&(m=$),!v||m){if(t["ng-repeat"]){A[$]=A[$]?A[$]+1:1;var u,x,b="i"+$,I="l"+$,R=t["ng-repeat"],k=R.indexOf(" in "),W=R.substr(0,k),R=R.substr(k+4),k=W.indexOf(","),E=R.indexOf("|");y[$]=b,E>0?u=p(R):(x=R.indexOf(":"),0>x&&(u=f(R))),x>0?(u=R.substr(0,x),b=R.indexOf(":",++x),b>0?(x=R.substring(x,b),R=R.substr(b+1)):(x=R.substr(x),R=1),D+="for(var "+W+"="+u+";"+W+(R>0?"<":">")+x+";"+W+"+="+R+"){",w[W]=1):k>0?(x=W.substr(0,k),W=W.substr(k+1),D+="var D"+$+"="+u+";",D+="for(var "+x+" in D"+$+"){",D+="var "+W+" = D"+$+"["+x+"]; ",w[x]=w[W]=1):(D+="var D"+$+"="+u+","+b+"=-1,"+I+"=D"+$+".length;",D+="while(++"+b+"<"+I+"){",D+="var "+W+"=D"+$+"["+b+"]; ",w[W]=1),delete t["ng-repeat"]}if(t["ng-if"]&&((t.wait||t.watch)&&(i=1,D+=(g?"":"var "+(O?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+T+'."+ ++N,W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",C[$]=g=1,D+='W.F=function(S,F,$attr,X){var R="";',delete t.watch,delete t.wait),A[$]=A[$]?A[$]+1:1,D+="if("+f(t["ng-if"])+"){",delete t["ng-if"]),t["ng-init"]&&(D+=f(t["ng-init"])+"; ",delete t["ng-init"]),t["ng-class"]){for(o=f(t["ng-class"]),t["class"]=t["class"]?h(t["class"]):"";null!==(W=n.exec(o));)t["class"]+="'+("+W[2]+"?'"+(t["class"]?" ":"")+W[1].replace(/['"]/g,"")+"':'')+'";t["class"]=t["class"].replace(/\+''\+/g,"+"),o=1,delete t["ng-class"]}for(var H in t)"ng-"===H.substr(0,3)&&(W=H.substr(3),a.test(W)?(t[W]=t[H],delete t[H]):s.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+W+" ")?(t.de="1",t["de-"+W]=t[H],delete t[H]):d.test(W)&&(c+="'+("+f(t[H])+"?' "+W+"=\"\"':'')+'",delete t[H]))}for(H in t)if(r[H]=o&&"class"===H?t[H]:h(t[H]),0<=r[H].indexOf("$index"))for(W=$;W>=0;W--)if(y[W]){r[H]=r[H].replace(l,"'+"+y[W]+"+'");break}D+="R+='<"+e,(O||i)&&(i=F[T+"."+$]=r.id||T+".'+N+'",D+=' id="'+i+'"',r.id&&delete r.id);for(var B in r)D+=" "+B+'="'+r[B]+'"';if(D+=c+">';",O&&(D+="N++; "),t["dota-render"]&&t.expand){r=[];for(H in t)H.indexOf("data-")?H.indexOf("scope-")||r.push('"'+H.slice(6)+'":S["'+t[H]+'"]'):r.push('"'+H.slice(5)+'":"'+t[H]+'"');D+="var P={"+r.join(",")+'},U="'+t["dota-render"]+'";',D+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}$++},onvoidtag:function(){for($--;0<A[$];)D+="}",A[$]--,y[$]=0;v&&v>=$&&(v=0)},onclosetag:function(e){for($--,D+="R+='</"+e+">';",C[$]&&(D+="} else {",D+="R+='<"+e+" id="+F[T+"."+$]+" style=display:none></"+e+">'; ");0<A[$];)D+="}",A[$]--,y[$]=0;C[$]&&(D+="return R;}; ",D+="R+=W.F(S,F,$attr,X); ",C[$]=0),v&&v>=$&&(v=0)},ontext:function(e){D+=("R+='"+h(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){D+="R+='<"+h(e)+">';"}}),O&&(D+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),D+="return R;",D=D.replace(/;R\+=/g,"+").replace(/'\+'/g,""),s.optimize&&(D=D.replace(c,"$1$2")),s.debug&&console.log(D);try{x=new Function("S","F","$attr","X",D),g&&(x={W:[],F:x})}catch(I){throw"undefined"!=typeof console&&console.log("doTA compile error:"+D),I}return D=$=A=y=w=v=null,x},C:{},D:{},H:{}};return u.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1}),u}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(z,B){function K(e,t){return e in J?J[e]:e||t}function I(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function R(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){I(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function P(e,t,n){I(e.querySelectorAll("[de]"),function(e){if(!e.de){for(var n=e.attributes,i=0,o=n.length;o>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){e.preventDefault(),e.stopPropagation(),t.$evalAsync(n.value,{$event:e})}}(e,n[i]));e.de=1}})}var S=B.documentMode,F;setTimeout(function(){B.getElementById&&(F=B.getElementById("dota-cache"),!F&&B.body&&(F=B.createElement("div"),F.id="dota-cache",F.style.display="none",B.body.appendChild(F)))});var J={0:0,"false":0};z.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=P,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(c,l,t,n,g,p){return{restrict:"A",priority:1e3,terminal:!0,controller:z.noop,link:z.noop,compile:function(){var f,b;return function(q,h,a){function m(){q.$on("$destroy",function(){F&&(c.D[r]=h[0],F.appendChild(h[0]))})}function J(e){try{var t=c.compile(e,a)}catch(n){throw console.log("compile error",a,e),n}return r&&(c.C[r]=t),t}function e(a,d){if((X||D)&&(f&&b.$destroy(),b=q.$new(),f=1,D)){var c=p(D,{$scope:b});h.data("$ngControllerController",c)}if(a){!d&&h[0].firstChild&&R(h[0]);try{var e=a.F?a.F(b,t,H,d):a(b,t,H,d)}catch(k){throw console.log("render error",a),k}if(d)return;if(h[0].firstChild)for(c=B.createElement("div"),c.innerHTML=e;e=c.firstChild;)h[0].appendChild(e);else h[0].innerHTML=e}if(G&&P(h[0],b,r),Q?I(h[0].querySelectorAll("[dota-pass]"),function(e){g(e)(b)}):U&&g(h.contents())(b),v&&setTimeout(function(){eval(v)}),V&&setTimeout(function(){b.$evalAsync(V)}),y&&m(),Y&&h.attr("loaded",!0),a&&a.W)for(var l={},n={},e=0;e<a.W.length;e++)c=a.W[e],n[c.I]=b.$watch(c.W,function(e){return function(i,o){var r=B.getElementById(e.I);if(!r)return console.log("tag not found");var c=e.F(b,t,H);return c?(c=z.element(c),l[e.I]&&l[e.I].$destroy(),l[e.I]=b.$new(),(Q||U)&&g(c)(l[e.I]),z.element(r).replaceWith(c),void(e.O&&n[e.I]())):console.log("no contents")}}(c))}function k(){c.C[r]?h[0].hasChildNodes()&&!W?e():e(c.C[r]):W?e(J(h[0].innerHTML,a)):r&&(h[0].hasChildNodes()?e():l.get(r,{cache:n}).success(function(t){e(J(t,a))}))}b=q;var y=a.cacheDom,r=a.dotaRender,X=a.scope,D=a.ngController,A=a.loose,T=a.optimize,G=a.event,O=a.debug,d=a.watch,Q=a.compile,U=a.compileAll,v=a.dotaOnload,V=a.dotaOnloadScope,Y=a.loaded,W=a.inline,L=a.watchDiff,E=a.$attr,A=a.loose=K(A,1),T=a.optimize=K(T,0),O=a.debug=K(O,0),G=a.event=K(G,1),d=a.watch="string"==typeof d?d:0,H={};if(y&&c.D[r])d=S?c.D[r].cloneNode(!0):c.D[r],h[0].parentNode.replaceChild(d,h[0]);else{for(var w in E)A=E[w],A.indexOf("data-")?A.indexOf("scope-")||(H[A.slice(6)]=0<=a[w].indexOf(".")||0<=a[w].indexOf("[")?q.$eval(a[w]):q[a[w]]):H[w]=a[w];d&&b.$watchCollection(d,function(t,n){t!==n&&c.C[r]&&e(c.C[r])}),L&&b.$watchCollection(L,function(t,n){t!==n&&c.C[r]&&e(c.C[r],!0)}),k()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,c,a){a=a||{},a.loose=1,o.C[e]?c(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,a),c(o.C[e](r,i))})}}])}(window.angular,window.document);