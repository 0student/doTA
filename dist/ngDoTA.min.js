var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function n(n){var t,o={},i=n.indexOf(" ");if(-1!==i){t=n.slice(0,i);for(var r=n.length;++i<r;){var c=n.indexOf("=",i);if(-1===c){o[n.slice(i)]="";break}var a=n.slice(i,c),l=n[c+1];if('"'===l||"'"===l)l=n.indexOf(l,c+2),c=n.slice(c+2,l),o[a]=e(c),i=l+1;else{if(l=n.indexOf(" ",c+2),-1===l){c=n.slice(c+1),o[a]=e(c);break}c=n.slice(c+1,l),o[a]=e(c),i=l}}}else t=n;return[t,o,i]}function t(e,t){if(e){var o=e.match(/([<>]|[^<>]+)/g),i=0,r=o.length;do"<"===o[i]?(i++,"/"===o[i][0]?t.onclosetag(o[i].slice(1)):"!"===o[i][0]?t.oncomment(o[i]):t.onopentag.apply(this,n(o[i]))):">"===o[i]&&"<"!==o[i+1]&&(i++,o[i])&&t.ontext(o[i]);while(++i<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o=0,i={};return{diff:function(e,t){var o,i,r="textContent"in document.body?"textContent":"innerText",c=e.match(/([<>]|[^<>]+)/g),a=c.length,l=t.match(/([<>]|[^<>]+)/g),d=0;if(a===l.length)do if("<"===c[d]){if(d++,"/"!==c[d][0]&&"!"!==c[d][0])if(c[d]!==l[d])e:{i=l[d];var f=void 0;o=o=void 0,f=n(c[d]),o=n(i),i=f[1];var f=o[1],s=void 0;o=i.id;var u=void 0;for(u in f)if(f[u]!==i[u]){if(!s&&(s=document.getElementById(o),!s)){o=void 0;break e}s.setAttribute(u,f[u])}}else o=c[d],i=o.indexOf(" id="),f=void 0,i>=0&&(i+=4,f=o.charAt(i),"'"===f||'"'===f?(i++,f=o.indexOf(f,i+1)):(f=o.indexOf(" ",i),-1===f&&(f=o.indexOf(">",i),-1===f&&(f=o.length)))),o=o.substring(i,f)}else">"===c[d]&&"<"!==c[d+1]&&(d++,c[d]!==l[d]&&(i=document.getElementById(o))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[r]=l[d]));while(d++<a)},compile:function(e,n){function r(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var n="",t=0;t<e.length;t++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t].charAt(0)))||p[e[t]]||t&&"."===e[t-1][e[t-1].length-1])if(0<=e[t].indexOf("$index")){for(var o=h;o>=0;o--)if(m[o]){n+=e[t].replace(/\$index/g,m[o]);break}}else n+=e[t];else n+="S."+e[t];return n}return e}function c(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+r(n)+s+")+'";var o="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),t=r(o[0]);if(o[1]){if(o=o[1].split(":"),t="F('"+o.shift().trim()+"')("+t,o.length){for(var i=[],c=0;c<o.length;c++)i.push(r(o[c]));t+=","+i.join(",")}t+=")"}return"'+("+t+s+")+'"}n=n||{};var a,l,d,f,s=n.loose?"||''":"",u=n.watchDiff,p={$index:1,undefined:1,$attr:1},h=0,g={},m={},v={},y=i[n.dotaRender]||o++,C={};i[y]=y;var $="'use strict';var "+(u?"N=0,J="+y+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),n.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),t(e,{onopentag:function(e,t){var o,i={};if(t["dota-pass"]?(l=h,d=0):t["dota-continue"]&&(d=h),!l||d){if(t["ng-repeat"]){g[h]=g[h]?g[h]+1:1;var f="i"+h,s="l"+h,x=t["ng-repeat"].split(" in "),w=r(x[1]);m[h]=f,0<=x[0].indexOf(",")?(f=x[0].split(","),$+="var D"+h+"="+w+";",$+="for(var "+f[0]+" in D"+h+"){",$+="var "+f[1]+" = D"+h+"["+f[0]+"]; ",p[f[0]]=p[f[1]]=1):($+="var D"+h+"="+w+","+f+"=-1,"+s+"=D"+h+".length;",$+="while(++"+f+"<"+s+"){",$+="var "+x[0]+"=D"+h+"["+f+"]; ",p[x[0]]=1),delete t["ng-repeat"]}t["ng-if"]&&((t.wait||t.watch)&&(t.id=C[y+"."+h]=t.id||y+".'+N+'",$+=(a?"":"var "+(u?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+y+'."+ ++N,W:"'+t["ng-if"]+'"'+(t.wait?",O:1":"")+"};T.W.push(W);",v[h]=a=1,$+='W.F=function(S,F,$attr,X){var R="";',delete t.watch,delete t.wait),g[h]=g[h]?g[h]+1:1,$+="if("+r(t["ng-if"])+"){",delete t["ng-if"]),t["ng-class"]&&($+="var s=[],n="+r(t["ng-class"])+";",$+="for(var c in n){n[c]&&s.push(c);}",o=1,delete t["ng-class"]);for(var T in t)"ng-"===T.substr(0,3)&&(w=T.substr(3),/^(?:src|alt|title|href)/.test(w)?(t[w]=t[T],delete t[T]):n.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+w+" ")&&(t.de="1",t["de-"+w]=t[T],delete t[T]))}for(T in t)if(f=t[T],o&&"class"===T)$+='s.push("'+f+'"); ';else{if(w=T,"id"!==T)if(0<=f.indexOf("{{")){for(f=f.split(/\{\{|\}\}/),s=0;s<f.length;s+=2)0<=f[s].indexOf("'")&&(f[s]=f[s].replace(/'/g,"\\'"));for(s=1;s<f.length-1;s+=2)f[s]=c(null,f[s]);f=f.join("")}else f=0<=f.indexOf("'")?f.replace(/'/g,"\\'"):f;if(i[w]=f,0<=i[T].indexOf("$index"))for(w=h;w>=0;w--)if(m[w]){i[T]=i[T].replace(/\$index/g,"'+"+m[w]+"+'");break}}u&&(i.id=i.id||y+".'+N+'"),$+="R+='<"+e+(o?" class=\"'+s.join(' ')+'\"":"");for(var O in i)$+=" "+O+'="'+i[O]+'"';if($+=">';",u&&($+="N++; "),t["dota-render"]&&t.expand){i=[];for(T in t)T.indexOf("data-")?T.indexOf("scope-")||i.push('"'+T.slice(6)+'":S["'+t[T]+'"]'):i.push('"'+T.slice(5)+'":"'+t[T]+'"');$+="var P={"+i.join(",")+'},U="'+t["dota-render"]+'";',$+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<g[h]&&($+="}",g[h]--,m[h]=0):h++},onclosetag:function(e){for(h--,$+="R+='</"+e+">';",v[h]&&($+="} else {",$+="R+='<"+e+" id="+C[y+"."+h]+" style=display:none></"+e+">'; ");0<g[h];)$+="}",g[h]--,m[h]=0;v[h]&&($+="return R;}; ",$+="R+=W.F(S,F,$attr,X); ",v[h]=0),l&&l>=h&&(l=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,c)),$+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){$+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),u&&($+="if(H){doTA.diff(H,R)}doTA.H["+y+"]=R;"),$+="return R;",$=$.replace(/;R\+=/g,"+").replace(/'\+'/g,""),n.optimize&&($=$.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),n.debug&&console.log($);try{f=new Function("S","F","$attr","X",$),a&&(f={W:[],F:f})}catch(x){throw"undefined"!=typeof console&&console.log("doTA compile error:"+$),x}return $=h=g=m=p=l=null,f},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(y,w){function C(e,n){return e in m?m[e]:e||n}function F(e,n,t){if(e.forEach)return e.forEach(n);for(var o=0,i=e.length;i>o;o++)o in e&&n.call(t,e[o],o);return e}function H(e){e=e.firstChild;var n=[];if(e)for(e.hidden=1,n.push(e);e=e.nextSibling;)e.hidden=1,n.push(e);setTimeout(function(){F(n,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var h=w.documentMode,p;setTimeout(function(){w.getElementById&&(p=w.getElementById("dota-cache"),!p&&w.body&&(p=w.createElement("div"),p.id="dota-cache",p.style.display="none",w.body.appendChild(p)))});var m={0:0,"false":0};y.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(a,f,g,e,b,d){return{restrict:"A",priority:1e3,terminal:!0,controller:y.noop,link:y.noop,compile:function(){var q,r;return function(m,t,n){function S(){m.$on("$destroy",function(){p&&(a.D[z]=t[0],p.appendChild(t[0]))})}function A(e){try{var t=a.compile(e,n)}catch(o){throw console.log("compile error",n,e),o}return z&&(a.C[z]=t),t}function B(a,c){if((k||J)&&(q&&r.$destroy(),r=m.$new(),q=1,J)){var e=d(J,{$scope:r});t.data("$ngControllerController",e)}if(a){!c&&t[0].firstChild&&H(t[0]);try{var f=a.F?a.F(r,g,G,c):a(r,g,G,c)}catch(h){throw console.log("render error",a),h}if(c)return;if(t[0].firstChild)for(e=w.createElement("div"),e.innerHTML=f;f=e.firstChild;)t[0].appendChild(f);else t[0].innerHTML=f}if(x&&F(t[0].querySelectorAll("[de]"),function(e){var n=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var t=0,o=n.length;o>t;t++)"de-"===n[t].name.substr(0,3)&&e.addEventListener(n[t].name.substr(3),function(e,n){return function(e){r.$applyAsync(n.value)}}(e,n[t]))}),u?F(t[0].querySelectorAll("[dota-pass]"),function(e){b(e)(r)}):L&&b(t.contents())(r),N&&setTimeout(function(){eval(N)}),O&&setTimeout(function(){r.$evalAsync(O)}),M&&S(),T&&t.attr("loaded",!0),a&&a.W)for(var l={},n={},f=0;f<a.W.length;f++)e=a.W[f],n[e.I]=r.$watch(e.W,function(e){return function(t,o){var i=w.getElementById(e.I);if(!i)return console.log("tag not found");var c=e.F(r,g,G);return c?(c=y.element(c),l[e.I]&&l[e.I].$destroy(),l[e.I]=r.$new(),(u||L)&&b(c)(l[e.I]),y.element(i).replaceWith(c),void(e.O&&n[e.I]())):console.log("no contents")}}(e))}function c(){a.C[z]?t[0].hasChildNodes()&&!P?B():B(a.C[z]):P?B(A(t[0].innerHTML,n)):z&&(t[0].hasChildNodes()?B():f.get(z,{cache:e}).success(function(e){B(A(e,n))}))}r=m;var M=n.cacheDom,z=n.dotaRender,k=n.scope,J=n.ngController,E=n.loose,l=n.optimize,x=n.event,K=n.debug,v=n.watch,u=n.compile,L=n.compileAll,N=n.dotaOnload,O=n.dotaOnloadScope,T=n.loaded,P=n.inline,Q=n.watchDiff,R=n.$attr,E=n.loose=C(E,1),l=n.optimize=C(l,0),K=n.debug=C(K,0),x=n.event=C(x,1),v=n.watch="string"==typeof v?v:0,G={};if(M&&a.D[z])v=h?a.D[z].cloneNode(!0):a.D[z],t[0].parentNode.replaceChild(v,t[0]);else{for(var I in R)E=R[I],E.indexOf("data-")?E.indexOf("scope-")||(G[E.slice(6)]=r[n[I]]):G[I]=n[I];v&&r.$watchCollection(v,function(e,n){e!==n&&a.C[z]&&B(a.C[z])}),Q&&r.$watchCollection(Q,function(e,n){e!==n&&a.C[z]&&B(a.C[z],!0)}),c()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){e.get(r.dotaInclude,{cache:n}).success(function(e){i.html(e),"false"!==r.compile&&t(i.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,i,r){o.$watch(r.dotaTemplate,function(c,a){c&&e.get(c,{cache:n}).success(function(e){i.html(e),"false"!==r.compile&&t(i.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,o,i){return function(e,r,c,a){a=a||{},a.loose=1,i.C[e]?c(i.C[e](r,o)):n.get(e,{cache:t}).success(function(n){i.C[e]=i.compile(n,a),c(i.C[e](r,o))})}}])}(window.angular,window.document);