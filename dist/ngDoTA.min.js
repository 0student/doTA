var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},r=t.indexOf(" ");if(-1!==r){n=t.slice(0,r);for(var o=t.length;++r<o;){var c=t.indexOf("=",r);if(-1===c){i[t.slice(r)]="";break}var r=t.slice(r,c),d=t[c+1];if('"'===d||"'"===d)d=t.indexOf(d,c+2),c=t.slice(c+2,d),i[r]=e(c),r=d+1;else{if(d=t.indexOf(" ",c+2),-1===d){c=t.slice(c+1),i[r]=e(c);break}c=t.slice(c+1,d),i[r]=e(c),r=d}}}else n=t;return[n,i]}function n(e,n){if(e){var i=0,r=e.indexOf("<");do if("<"===e.charAt(r))r++,"/"===e.charAt(r)?(i=++r,r=e.indexOf(">",i),n.onclosetag(e.substring(i,r))):"!"===e.charAt(r)?(i=r,r=e.indexOf(">",i),n.oncomment(e.substring(i,r))):(i=r,r=e.indexOf(">",i),n.onopentag.apply(this,t(e.substring(i,r))));else{if(">"!==e.charAt(r))break;i=++r,r=e.indexOf("<",i),r>i&&n.ontext(e.substring(i,r))}while(r>0)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var i=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,r=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,o=/"[^"]*"|'[^']*'/g,c=/\s{2,}|\n/g,d=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,l=/^(?:input|img|br|hr)/i,a=/^(?:src|alt|title|href)/,f=/^(?:checked|selected|disabled)/,s=/\$index/g,u={},p=0,h={diff:function(e,t){var n,i=doTA.H[e],r=0,o=i.indexOf("<"),c=0,d=t.indexOf("<");do if("<"===i.charAt(o))if(o++,d++,"/"===i.charAt(o)||"!"===i.charAt(o))o=i.indexOf(">",o),d=t.indexOf(">",d);else if(r=o,c=d,o=i.indexOf(">",r),d=t.indexOf(">",c),n=i.substring(r,o),c=t.substring(c,d),n!==c)e:{var l=r=void 0,a=n.indexOf(" "),f=void 0,s=void 0,u=void 0,p=void 0,u=void 0,s=0,h=void 0,g=void 0,f=void 0,v=n.length;if(-1!==a)for(;++a<v&&(f=n.indexOf("=",a),-1!==f);)if(h=n.slice(a,f),u=n[f+1],'"'===u||"'"===u){if(p=n.indexOf(u,f+2),g=n.slice(f+2,p),"id"===h)r=g;else if(s=f+s,u=c.indexOf(u,s+2),f=c.slice(s+2,u),s=u-p,g!==f){if(!l&&(l=document.getElementById(r),!l)){n=void 0;break e}l.setAttribute(h,f)}a=p+1}else{if(p=n.indexOf(" ",f+2),-1===p){r||(g=n.slice(f+1),"id"===h&&(r=g));break}r||(g=n.slice(f+1,p),"id"===h&&(r=g)),a=p}n=r}else c=n.indexOf(" id="),r=void 0,c>=0&&(c+=4,r=n.charAt(c),"'"===r||'"'===r?(c++,r=n.indexOf(r,c+1)):(r=n.indexOf(" ",c),-1===r&&(r=n.indexOf(">",c),-1===r&&(r=n.length)))),n=n.substring(c,r);else">"===i.charAt(o)&&(r=++o,c=++d,o=i.indexOf("<",r),d=t.indexOf("<",c),d>c&&(r=i.substring(r,o),c=t.substring(c,d),r!==c&&(r=document.getElementById(n))&&r.firstChild&&3===r.firstChild.nodeType&&(r.firstChild.nodeValue=c)));while(o>0)},getId:function(e){if(e){if(u[e])return u[e];u[e]=p}return p++},initCH:function(e){for(var t in e)u[t]=e[t],e[t]>p&&(p=e[t])},compile:function(e,t){function u(e){if(e){e=e.match(r);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||A[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=y;i>=0;i--)if(w[i]){t+=e[n].replace(s,w[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function p(e){var t=e.indexOf("'");if(t>=0){var n="",i=0;do n+=e.substring(i,t),"\\"!==e.charAt(t-1)&&(n+="\\"),i=t,t=e.indexOf("'",i+1);while(t>0);return n+=e.substr(i)}return e}function h(e){var t=e.indexOf("{{");if(t>=0){var n=0,i="";do n=e.substring(n,t),i+=p(n),n=t+2,t=e.indexOf("}}",n),n=e.substring(n,t),i+="'+("+g(n)+O+")+'",n=t+2,t=e.indexOf("{{",n);while(t>0);return i+=p(e.substr(n))}return p(e)}function g(e){if(-1===e.indexOf("|"))return u(e);var t=e.indexOf("|");if(-1===t)e=[e];else{for(var n=0,i=[];-1!==t;)"|"===e.charAt(t+1)?t+=2:(i.push(e.substring(n,t)),n=++t),t=e.indexOf("|",t);n<e.length&&i.push(e.substring(n)),e=i}for(var r,t=u(e[0]),n=0,o=1;o<e.length;o++)if(r=e[o],i=r.indexOf(":"),i>0){for(t="F('"+r.slice(n,i).trim()+"')("+t,n=++i,i=r.indexOf(":",n);i>0;)t+=","+u(r.slice(n,i)),n=++i,i=r.indexOf(":",n);t+=","+u(r.substr(n))+")"}else t="F('"+r.trim()+"')("+t+")";return t}t=t||{};var v,m,x,b,O=t.loose?"||''":"",$=t.watchDiff,A={$index:1,undefined:1,$attr:1},y=0,C={},w={},T={},k=this.getId(t.dotaRender),D={},I="'use strict';var "+($?"N=0,J="+k+",":"")+"R='';";e=e.replace(c," "),t.encode&&(e=e.replace(o,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var r,o,c={},d="";if(n["dota-pass"]?(m=y,x=0):n["dota-continue"]&&(x=y),!m||x){if(n["ng-repeat"]){C[y]=C[y]?C[y]+1:1;var p,b,O="i"+y,F="l"+y,R=n["ng-repeat"],W=R.indexOf(" in "),H=R.substr(0,W),R=R.substr(W+4),W=H.indexOf(","),N=R.indexOf("|");w[y]=O,N>0?p=g(R):(b=R.indexOf(":"),0>b&&(p=u(R))),b>0?(p=R.substr(0,b),O=R.indexOf(":",++b),O>0?(b=R.substring(b,O),R=R.substr(O+1)):(b=R.substr(b),R=1),I+="for(var "+H+"="+p+";"+H+(R>0?"<":">")+b+";"+H+"+="+R+"){",A[H]=1):W>0?(b=H.substr(0,W),H=H.substr(W+1),I+="var D"+y+"="+p+";",I+="for(var "+b+" in D"+y+"){",I+="var "+H+" = D"+y+"["+b+"]; ",A[b]=A[H]=1):(I+="var D"+y+"="+p+","+O+"=-1,"+F+"=D"+y+".length;",I+="while(++"+O+"<"+F+"){",I+="var "+H+"=D"+y+"["+O+"]; ",A[H]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(r=1,I+=(v?"":"var "+($?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+k+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",T[y]=v=1,I+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),C[y]=C[y]?C[y]+1:1,I+="if("+u(n["ng-if"])+"){",delete n["ng-if"]),n["ng-init"]&&(I+=u(n["ng-init"])+"; ",delete n["ng-init"]),n["ng-class"]){for(o=u(n["ng-class"]),n["class"]=n["class"]?h(n["class"]):"";null!==(H=i.exec(o));)n["class"]+="'+("+H[2]+"?'"+(n["class"]?" ":"")+H[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),o=1,delete n["ng-class"]}for(var S in n)"ng-"===S.substr(0,3)&&(H=S.substr(3),a.test(H)?(n[H]=n[S],delete n[S]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+H+" ")?(n.de="1",n["de-"+H]=n[S],delete n[S]):f.test(H)&&(d+="'+("+u(n[S])+"?' "+H+"=\"\"':'')+'",delete n[S]))}for(S in n)if(c[S]=o&&"class"===S?n[S]:h(n[S]),0<=c[S].indexOf("$index"))for(H=y;H>=0;H--)if(w[H]){c[S]=c[S].replace(s,"'+"+w[H]+"+'");break}I+="R+='<"+e,($||r)&&(r=D[k+"."+y]=c.id||k+".'+N+'",I+=' id="'+r+'"',c.id&&delete c.id);for(var E in c)I+=" "+E+'="'+c[E]+'"';if(I+=d+">';",$&&(I+="N++; "),n["dota-render"]&&n.expand){c=[];for(S in n)S.indexOf("data-")?S.indexOf("scope-")||c.push('"'+S.slice(6)+'":S["'+n[S]+'"]'):c.push('"'+S.slice(5)+'":"'+n[S]+'"');I+="var P={"+c.join(",")+'},U="'+n["dota-render"]+'";',I+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}l.test(e)?0<C[y]&&(I+="}",C[y]--,w[y]=0):y++},onclosetag:function(e){for(y--,I+="R+='</"+e+">';",T[y]&&(I+="} else {",I+="R+='<"+e+" id="+D[k+"."+y]+" style=display:none></"+e+">'; ");0<C[y];)I+="}",C[y]--,w[y]=0;T[y]&&(I+="return R;}; ",I+="R+=W.F(S,F,$attr,X); ",T[y]=0),m&&m>=y&&(m=0)},ontext:function(e){I+=("R+='"+h(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){I+="R+='<"+h(e)+">';"}}),$&&(I+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),I+="return R;",I=I.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(I=I.replace(d,"$1$2")),t.debug&&console.log(I);try{b=new Function("S","F","$attr","X",I),v&&(b={W:[],F:b})}catch(F){throw"undefined"!=typeof console&&console.log("doTA compile error:"+I),F}return I=y=C=w=A=m=null,b},C:{},D:{},H:{}};return h.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1}),h}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(D,x){function I(e,t){return e in K?K[e]:e||t}function N(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,r=e.length;r>i;i++)i in e&&t.call(n,e[i],i);return e}function R(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){N(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function P(e,t,n){N(e.querySelectorAll("[de]"),function(e){if(!e.de){for(var n=e.attributes,i=0,r=n.length;r>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){e.preventDefault(),e.stopPropagation(),t.$evalAsync(n.value,{$event:e})}}(e,n[i]));e.de=1}})}var S=x.documentMode,A;setTimeout(function(){x.getElementById&&(A=x.getElementById("dota-cache"),!A&&x.body&&(A=x.createElement("div"),A.id="dota-cache",A.style.display="none",x.body.appendChild(A)))});var K={0:0,"false":0};D.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=P,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(b,q,t,n,a,r){return{restrict:"A",priority:1e3,terminal:!0,controller:D.noop,link:D.noop,compile:function(){var f,h;return function(g,c,e){function K(){g.$on("$destroy",function(){A&&(b.D[m]=c[0],A.appendChild(c[0]))})}function U(t){try{var n=b.compile(t,e)}catch(i){throw console.log("compile error",e,t),i}return m&&(b.C[m]=n),n}function k(b,e){if((G||T)&&(f&&h.$destroy(),h=g.$new(),f=1,T)){var k=r(T,{$scope:h});c.data("$ngControllerController",k)}if(b){!e&&c[0].firstChild&&R(c[0]);try{var p=b.F?b.F(h,t,H,e):b(h,t,H,e)}catch(n){throw console.log("render error",b),n}if(e)return;if(c[0].firstChild)for(k=x.createElement("div"),k.innerHTML=p;p=k.firstChild;)c[0].appendChild(p);else c[0].innerHTML=p}if(C&&P(c[0],h,m),O?N(c[0].querySelectorAll("[dota-pass]"),function(e){a(e)(h)}):d&&a(c.contents())(h),Q&&setTimeout(function(){eval(Q)}),V&&setTimeout(function(){h.$evalAsync(V)}),l&&K(),u&&c.attr("loaded",!0),b&&b.W)for(var q={},v={},p=0;p<b.W.length;p++)k=b.W[p],v[k.I]=h.$watch(k.W,function(e){return function(n,i){var r=x.getElementById(e.I);if(!r)return console.log("tag not found");var o=e.F(h,t,H);return o?(o=D.element(o),q[e.I]&&q[e.I].$destroy(),q[e.I]=h.$new(),(O||d)&&a(o)(q[e.I]),D.element(r).replaceWith(o),void(e.O&&v[e.I]())):console.log("no contents")}}(k))}function aa(){b.C[m]?c[0].hasChildNodes()&&!W?k():k(b.C[m]):W?k(U(c[0].innerHTML,e)):m&&(c[0].hasChildNodes()?k():q.get(m,{cache:n}).success(function(t){k(U(t,e))}))}h=g;var l=e.cacheDom,m=e.dotaRender,G=e.scope,T=e.ngController,v=e.loose,B=e.optimize,C=e.event,J=e.debug,F=e.watch,O=e.compile,d=e.compileAll,Q=e.dotaOnload,V=e.dotaOnloadScope,u=e.loaded,W=e.inline,X=e.watchDiff,Y=e.$attr,v=e.loose=I(v,1),B=e.optimize=I(B,0),J=e.debug=I(J,0),C=e.event=I(C,1),F=e.watch="string"==typeof F?F:0,H={};if(l&&b.D[m])F=S?b.D[m].cloneNode(!0):b.D[m],c[0].parentNode.replaceChild(F,c[0]);else{for(var z in Y)v=Y[z],v.indexOf("data-")?v.indexOf("scope-")||(H[v.slice(6)]=0<=e[z].indexOf(".")||0<=e[z].indexOf("[")?g.$eval(e[z]):g[e[z]]):H[z]=e[z];F&&h.$watchCollection(F,function(e,t){e!==t&&b.C[m]&&k(b.C[m])}),X&&h.$watchCollection(X,function(e,t){e!==t&&b.C[m]&&k(b.C[m],!0)}),aa()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,r,o){e.get(o.dotaInclude,{cache:t}).success(function(e){r.html(e),"false"!==o.compile&&n(r.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,r,o){i.$watch(o.dotaTemplate,function(c,d){c&&e.get(c,{cache:t}).success(function(e){r.html(e),"false"!==o.compile&&n(r.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,r){return function(e,o,c,d){d=d||{},d.loose=1,r.C[e]?c(r.C[e](o,i)):t.get(e,{cache:n}).success(function(t){r.C[e]=r.compile(t,d),c(r.C[e](o,i))})}}])}(window.angular,window.document);