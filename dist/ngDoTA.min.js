var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},o=t.indexOf(" ");if(-1!==o){n=t.slice(0,o);for(var r=t.length;++o<r;){var c=t.indexOf("=",o);if(-1===c){i[t.slice(o)]="";break}var d=t.slice(o,c),l=t[c+1];if('"'===l||"'"===l)l=t.indexOf(l,c+2),c=t.slice(c+2,l),i[d]=e(c),o=l+1;else{if(l=t.indexOf(" ",c+2),-1===l){c=t.slice(c+1),i[d]=e(c);break}c=t.slice(c+1,l),i[d]=e(c),o=l}}}else n=t;return[n,i,o]}function n(e,n){if(e){var i=e.match(/([<>]|[^<>]+)/g),o=0,r=i.length;do"<"===i[o]?(o++,"/"===i[o][0]?n.onclosetag(i[o].slice(1)):"!"===i[o][0]?n.oncomment(i[o]):n.onopentag.apply(this,t(i[o]))):">"===i[o]&&"<"!==i[o+1]&&(o++,i[o])&&n.ontext(i[o]);while(++o<r)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var i=0;return{nc:function(e,t){t=t||"";for(var n in e)e[n]&&(t+=(t?" ":"")+n);return t},diff:function(e,t){var n,i,o="textContent"in document.body?"textContent":"innerText",r=e.match(/([<>]|[^<>]+)/g),c=r.length,d=t.match(/([<>]|[^<>]+)/g),l=0;if(c===d.length)do if("<"===r[l]){if(l++,"/"!==r[l][0]&&"!"!==r[l][0])if(r[l]!==d[l])e:{n=r[l],i=d[l];var a=void 0,f=void 0,s=n.indexOf(" "),u=void 0,p=void 0,h=void 0,g=void 0,h=void 0,p=0,m=void 0,v=void 0,u=void 0,x=n.length;if(-1!==s)for(;++s<x&&(u=n.indexOf("=",s),-1!==u);)if(m=n.slice(s,u),h=n[u+1],'"'===h||"'"===h){if(g=n.indexOf(h,u+2),v=n.slice(u+2,g),"id"===m)a=v;else if(p=u+p,h=i.indexOf(h,p+2),u=i.slice(p+2,h),p=h-g,v!==u){if(!f&&(f=document.getElementById(a),!f)){n=void 0;break e}f.setAttribute(m,u)}s=g+1}else{if(g=n.indexOf(" ",u+2),-1===g){a||(v=n.slice(u+1),"id"===m&&(a=v));break}a||(v=n.slice(u+1,g),"id"===m&&(a=v)),s=g}n=a}else n=r[l],i=n.indexOf(" id="),a=void 0,i>=0&&(i+=4,a=n.charAt(i),"'"===a||'"'===a?(i++,a=n.indexOf(a,i+1)):(a=n.indexOf(" ",i),-1===a&&(a=n.indexOf(">",i),-1===a&&(a=n.length)))),n=n.substring(i,a)}else">"===r[l]&&"<"!==r[l+1]&&(l++,r[l]!==d[l]&&(i=document.getElementById(n))&&i.firstChild&&3===i.firstChild.nodeType&&(i.firstChild[o]=d[l]));while(l++<c)},CH:{},initCH:function(e){this.CH=e},compile:function(e,t){function o(e){if(e){e=e.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||u[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=p;i>=0;i--)if(g[i]){t+=e[n].replace(/\$index/g,g[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function r(e,t){var n=t.indexOf("|");if(-1===n)return"'+("+o(t)+f+")+'";var i="|"===t[n+1]?t.match(/([^|]+(?:\|\|)?)+/g):t.split("|"),n=o(i[0]);if(i[1]){if(i=i[1].split(":"),n="F('"+i.shift().trim()+"')("+n,i.length){for(var r=[],c=0;c<i.length;c++)r.push(o(i[c]));n+=","+r.join(",")}n+=")"}return"'+("+n+f+")+'"}t=t||{};var c,d,l,a,f=t.loose?"||''":"",s=t.watchDiff,u={$index:1,undefined:1,$attr:1},p=0,h={},g={},m={},v=this.CH[t.dotaRender]||i++,x={};this.CH[t.dotaRender]=v;var C="'use strict';var "+(s?"N=0,J="+v+',H=doTA.H[J]=X?doTA.H[J]||"":"",P1=0,C1=0,PX=0,DX=0,X1="",X2="",':"")+"R='';";e=e.replace(/\s{2,}|\n/g," "),t.encode&&(e=e.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var i,a,f={};if(n["dota-pass"]?(d=p,l=0):n["dota-continue"]&&(l=p),!d||l){if(n["ng-repeat"]){h[p]=h[p]?h[p]+1:1;var $="i"+p,y="l"+p,w=n["ng-repeat"].split(" in "),b=o(w[1]);g[p]=$,0<=w[0].indexOf(",")?($=w[0].split(","),C+="var D"+p+"="+b+";",C+="for(var "+$[0]+" in D"+p+"){",C+="var "+$[1]+" = D"+p+"["+$[0]+"]; ",u[$[0]]=u[$[1]]=1):(C+="var D"+p+"="+b+","+$+"=-1,"+y+"=D"+p+".length;",C+="while(++"+$+"<"+y+"){",C+="var "+w[0]+"=D"+p+"["+$+"]; ",u[w[0]]=1),delete n["ng-repeat"]}n["ng-if"]&&((n.wait||n.watch)&&(i=1,C+=(c?"":"var "+(s?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+v+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",m[p]=c=1,C+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),h[p]=h[p]?h[p]+1:1,C+="if("+o(n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(n["class"]="'+doTA.nc("+o(n["ng-class"])+(n["class"]?",'"+n["class"]+"'":"")+")+'",a=1,delete n["ng-class"]);for(var O in n)"ng-"===O.substr(0,3)&&(b=O.substr(3),/^(?:src|alt|title|href)/.test(b)?(n[b]=n[O],delete n[O]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+b+" ")&&(n.de="1",n["de-"+b]=n[O],delete n[O]))}for(O in n){if(b=O,a&&"class"===O)$=n[O];else if($=n[O],0<=$.indexOf("{{")){for($=$.split(/\{\{|\}\}/),y=0;y<$.length;y+=2)0<=$[y].indexOf("'")&&($[y]=$[y].replace(/'/g,"\\'"));for(y=1;y<$.length-1;y+=2)$[y]=r(null,$[y]);$=$.join("")}else $=0<=$.indexOf("'")?$.replace(/'/g,"\\'"):$;if(f[b]=$,0<=f[O].indexOf("$index"))for(b=p;b>=0;b--)if(g[b]){f[O]=f[O].replace(/\$index/g,"'+"+g[b]+"+'");break}}C+="R+='<"+e,(s||i)&&(i=x[v+"."+p]=f.id||v+".'+N+'",C+=' id="'+i+'"',f.id&&delete f.id);for(var A in f)C+=" "+A+'="'+f[A]+'"';if(C+=">';",s&&(C+="N++; "),n["dota-render"]&&n.expand){f=[];for(O in n)O.indexOf("data-")?O.indexOf("scope-")||f.push('"'+O.slice(6)+'":S["'+n[O]+'"]'):f.push('"'+O.slice(5)+'":"'+n[O]+'"');C+="var P={"+f.join(",")+'},U="'+n["dota-render"]+'";',C+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}/^(?:input|img|br|hr)/i.test(e)?0<h[p]&&(C+="}",h[p]--,g[p]=0):p++},onclosetag:function(e){for(p--,C+="R+='</"+e+">';",m[p]&&(C+="} else {",C+="R+='<"+e+" id="+x[v+"."+p]+" style=display:none></"+e+">'; ");0<h[p];)C+="}",h[p]--,g[p]=0;m[p]&&(C+="return R;}; ",C+="R+=W.F(S,F,$attr,X); ",m[p]=0),d&&d>=p&&(d=0)},ontext:function(e){0<=e.indexOf("{{")&&(e=e.replace(/\{\{([^}]+)\}\}/g,r)),C+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){C+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),s&&(C+="if(H){doTA.diff(H,R)}doTA.H["+v+"]=R;"),C+="return R;",C=C.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(C=C.replace(/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,"$1$2")),t.debug&&console.log(C);try{a=new Function("S","F","$attr","X",C),c&&(a={W:[],F:a})}catch($){throw"undefined"!=typeof console&&console.log("doTA compile error:"+C),$}return C=p=h=g=u=d=null,a},C:{},D:{},H:{}}}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(A,z){function B(e,t){return e in h?h[e]:e||t}function G(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function k(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){G(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}var m=z.documentMode,l;setTimeout(function(){z.getElementById&&(l=z.getElementById("dota-cache"),!l&&z.body&&(l=z.createElement("div"),l.id="dota-cache",l.style.display="none",z.body.appendChild(l)))});var h={0:0,"false":0};A.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(c,g,p,a,f,n){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){var h,t;return function(u,r,d){function y(){u.$on("$destroy",function(){l&&(c.D[e]=r[0],l.appendChild(r[0]))})}function D(t){try{var n=c.compile(t,d)}catch(i){throw console.log("compile error",d,t),i}return e&&(c.C[e]=n),n}function b(a,b){if((S||J)&&(h&&t.$destroy(),t=u.$new(),h=1,J)){var c=n(J,{$scope:t});r.data("$ngControllerController",c)}if(a){!b&&r[0].firstChild&&k(r[0]);try{var d=a.F?a.F(t,p,H,b):a(t,p,H,b)}catch(e){throw console.log("render error",a),e}if(b)return;if(r[0].firstChild)for(c=z.createElement("div"),c.innerHTML=d;d=c.firstChild;)r[0].appendChild(d);else r[0].innerHTML=d}if(x&&G(r[0].querySelectorAll("[de]"),function(e){var n=e.attributes;e.addEventListener||(e.addEventListener=e.attachEvent);for(var i=0,o=n.length;o>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){t.$applyAsync(n.value)}}(e,n[i]))}),v?G(r[0].querySelectorAll("[dota-pass]"),function(e){f(e)(t)}):L&&f(r.contents())(t),M&&setTimeout(function(){eval(M)}),N&&setTimeout(function(){t.$evalAsync(N)}),K&&y(),T&&r.attr("loaded",!0),a&&a.W)for(var g={},l={},d=0;d<a.W.length;d++)c=a.W[d],l[c.I]=t.$watch(c.W,function(e){return function(n,i){var o=z.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(t,p,H);return r?(r=A.element(r),g[e.I]&&g[e.I].$destroy(),g[e.I]=t.$new(),(v||L)&&f(r)(g[e.I]),A.element(o).replaceWith(r),void(e.O&&l[e.I]())):console.log("no contents")}}(c))}function R(){c.C[e]?r[0].hasChildNodes()&&!O?b():b(c.C[e]):O?b(D(r[0].innerHTML,d)):e&&(r[0].hasChildNodes()?b():g.get(e,{cache:a}).success(function(e){b(D(e,d))}))}t=u;var K=d.cacheDom,e=d.dotaRender,S=d.scope,J=d.ngController,F=d.loose,q=d.optimize,x=d.event,E=d.debug,w=d.watch,v=d.compile,L=d.compileAll,M=d.dotaOnload,N=d.dotaOnloadScope,T=d.loaded,O=d.inline,P=d.watchDiff,Q=d.$attr,F=d.loose=B(F,1),q=d.optimize=B(q,0),E=d.debug=B(E,0),x=d.event=B(x,1),w=d.watch="string"==typeof w?w:0,H={};if(K&&c.D[e])w=m?c.D[e].cloneNode(!0):c.D[e],r[0].parentNode.replaceChild(w,r[0]);else{for(var I in Q)F=Q[I],F.indexOf("data-")?F.indexOf("scope-")||(H[F.slice(6)]=t[d[I]]):H[I]=d[I];w&&t.$watchCollection(w,function(t,n){t!==n&&c.C[e]&&b(c.C[e])}),P&&t.$watchCollection(P,function(t,n){t!==n&&c.C[e]&&b(c.C[e],!0)}),R()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,d){c&&e.get(c,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,c,d){d=d||{},d.loose=1,o.C[e]?c(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,d),c(o.C[e](r,i))})}}])}(window.angular,window.document);