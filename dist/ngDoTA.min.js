var doTA=function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var e="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=function(e,n){if(e){var t=e.match(/([<>]|[^<>]+)/g),o=0,r=function(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};do if("<"===t[o])if(o++,"/"===t[o][0])n.onclosetag(t[o].slice(1));else if("!"===t[o][0])n.oncomment(t[o]);else{var a,i={},c=t[o],l=c.indexOf(" ");if(-1===l)a=c;else{a=c.slice(0,l);for(var d=c.length;++l<d;){var s=c.indexOf("=",l);if(-1===s){i[c.slice(l)]="";break}var f,u,p=c.slice(l,s),h=c[s+1];if('"'===h||"'"===h)u=c.indexOf(h,s+2),f=c.slice(s+2,u),i[p]=r(f),l=u+1;else{if(u=c.indexOf(" ",s+2),-1===u){f=c.slice(s+1),i[p]=r(f);break}f=c.slice(s+1,u),i[p]=r(f),l=u}}}n.onopentag(a,i)}else">"===t[o]&&"<"!==t[o+1]&&(o++,t[o]&&n.ontext(t[o]));while(++o<t.length)}},t=0;return{compile:function(o,r){r=r||{};var a=r.loose?"||''":"";o=o.replace(/\s{2,}|\n/g," "),r.encode&&(o=o.replace(/"[^"]*"|'[^']*'/g,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}));var i,c,l,d,s=function(n,t){if(t){for(var o=t.match(/'[^']+'|"[^"]+"|[\w$]+|[^\w$'"]+/g),r="",a=0;a<o.length;a++)if(!(e.indexOf(o[a].charAt(0))>=0)||n[o[a]]||a&&"."===o[a-1][o[a-1].length-1])if(o[a].indexOf("$index")>=0){for(var i=m;i>=0;i--)if(v[i]){r+=o[a].replace(/\$index/g,v[i]);break}}else r+=o[a];else r+="S."+o[a];return r}return t},f={$index:1,undefined:1,$attr:1},u=function(e){if(e.indexOf("{{")>=0){for(var n=e.split(/\{\{|\}\}/),t=0;t<n.length;t+=2)n[t].indexOf("'")>=0&&(n[t]=n[t].replace(/'/g,"\\'"));for(var t=1;t<n.length-1;t+=2)n[t]=h(null,n[t]);return n.join("")}return e.indexOf("'")>=0?e.replace(/'/g,"\\'"):e},p=function(e){return e.replace(/\{\{([^}]+)\}\}/g,h)},h=function(e,n){var t=n.indexOf("|");if(-1===t)return"'+("+s(f,n)+a+")+'";for(var o="|"===n[t+1]?n.match(/([^|]+(?:\|\|)?)+/g):n.split("|"),r=s(f,o[0]),i=1;i<o.length;i++){var c=o[i].split(":");if(r="F('"+c.shift().trim()+"')("+r,c.length){for(var l=[],d=0;d<c.length;d++)l.push(s(f,c[d]));r+=","+l.join(",")}r+=")";break}return"'+("+r+a+")+'"},m=0,g={},v={},$={},x="'use strict';var R='';";n(o,{onopentag:function(e,n){var o,r={};if(n["dota-pass"]?(c=m,l=0):n["dota-continue"]&&(l=m),!c&&n["ng-repeat"]){g[m]=g[m]?g[m]+1:1;var a="i"+m,d="l"+m,p=n["ng-repeat"].split(" in "),h=s(f,p[1]);if(v[m]=a,p[0].indexOf(",")>=0){var w=p[0].split(",");x+="var D"+m+"="+h+";",x+="for(var "+w[0]+" in D"+m+"){",x+="var "+w[1]+" = D"+m+"["+w[0]+"]; ",f[w[0]]=f[w[1]]=1}else x+="var D"+m+"="+h+","+a+"=-1,"+d+"=D"+m+".length;",x+="while(++"+a+"<"+d+"){",x+="var "+p[0]+"=D"+m+"["+a+"]; ",f[p[0]]=1;delete n["ng-repeat"]}if(!c||l){n["ng-if"]&&((n.wait||n.watch)&&(++t,x+='var W={I:"D'+t+'",W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};this.W.push(W);",$[m]=i=1,x+='W.F=function(S,F){"use strict";var R="";',n.id="D"+t,delete n.watch,delete n.wait),g[m]=g[m]?g[m]+1:1,x+="if("+s(f,n["ng-if"])+"){",delete n["ng-if"]),n["ng-class"]&&(x+="var s=[],n="+s(f,n["ng-class"])+";",x+="for(var c in n){n[c]&&s.push(c);}",o=1,delete n["ng-class"]);for(var D in n)"-"===D.charAt(2)&&/^ng-(?:src|alt|title|href)/.test(D)&&(n[D.replace("ng-","")]=n[D],delete n[D])}for(var D in n){var y=n[D];if(o&&"class"===D)x+='s.push("'+y+'"); ';else if(r[D]='="'+u(y)+'"',r[D].indexOf("$index")>=0)for(var O=m;O>=0;O--)if(v[O]){r[D]=r[D].replace(/\$index/g,"'+"+v[O]+"+'");break}}x+="R+='<"+e+(o?" class=\"'+s.join(' ')+'\"":"");for(var A in r)x+=" "+A+r[A];if(x+=">';",n["dota-render"]&&n.expand){var R=[];for(var D in n)D.indexOf("data-")?D.indexOf("scope-")||R.push('"'+D.slice(6)+'":S["'+n[D]+'"]'):R.push('"'+D.slice(5)+'":"'+n[D]+'"');x+="var P={"+R.join(",")+'},U="'+n["dota-render"]+'";',x+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P)); "}/^(?:input|img|br|hr)/i.test(e)?g[m]>0&&(x+="}",g[m]--,v[m]=0):m++},onclosetag:function(e){for(x+="R+='</"+e+">';",m--,$[m]&&(x+="} else {",x+="R+='<"+e+' id="D'+t+'" style="display:none"></'+e+">'; ");g[m]>0;)x+="}",g[m]--,v[m]=0;$[m]&&(x+="return R;}; ",x+="R+=W.F(S,F); ",$[m]=0),c&&c>=m&&(c=0)},ontext:function(e){e.indexOf("{{")>=0&&(e=p(e)),x+=("R+='"+e+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){x+="R+='<"+e.replace(/'/g,"\\'")+">';"}}),x+="return R;",x=x.replace(/;R\+=/g,"+").replace(/'\+'/g,""),r.debug&&console.log(x);try{d=new Function("S","F","$attr",x),i&&(d={W:[],F:d})}catch(w){throw"undefined"!=typeof console&&console.log("doTA compile error:"+x),w}return x=m=g=v=f=c=null,d},C:{},D:{}}}();"undefined"!=typeof module&&module.exports?module.exports=doTA:"undefined"==typeof console&&(console={log:function(){}}),function(A){"use strict";var msie=document.documentMode,hiddenDIV;setTimeout(function(){document.getElementById&&(hiddenDIV=document.getElementById("dota-cache"),!hiddenDIV&&document.body&&(hiddenDIV=document.createElement("div"),hiddenDIV.id="dota-cache",hiddenDIV.style.display="none",document.body.appendChild(hiddenDIV)))});var B={0:0,"false":0};A.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile",function(d,h,f,t,c){return{restrict:"A",priority:1e3,terminal:!0,controller:A.noop,link:A.noop,compile:function(){return function(s,e,a){function cacheDOM(){s.$on("$destroy",function(){hiddenDIV&&(d.D[a.dotaRender]=e[0],hiddenDIV.appendChild(e[0]))})}function compile(e){a.debug;try{var n=d.compile(e,a)}catch(t){throw console.log("compile error",a,e),t}return a.dotaRender&&(d.C[a.dotaRender]=n),n}function render(func){if(func){try{var v=func.F?func.F(s,f,p):func(s,f,p)}catch(x){throw console.log("render error",func),x}a.debug,e[0].innerHTML=v}if(a.scope&&(a.newScope&&a.newScope.$destroy(),a.newScope=s.$new()),a.compile?A.forEach(e[0].querySelectorAll("[dota-pass]"),function(e){c(e)(a.newScope||s)}):a.compileAll&&c(e.contents())(a.newScope||s),a.dotaOnload&&setTimeout(function(){eval(a.dotaOnload)}),a.dotaOnloadScope&&setTimeout(function(){s.$evalAsync(a.dotaOnloadScope)}),a.cacheDom&&cacheDOM(),a.loaded&&e.attr("loaded",!0),func&&func.W)for(var scopes={},watches={},i=0;i<func.W.length;i++){var w=func.W[i];watches[w.I]=s.$watch(w.W,function(e){return function(n,t){var o=document.getElementById(e.I);if(!o)return console.log("tag not found");var r=e.F(s,f,p);if(!r)return console.log("no contents");var i=angular.element(r);scopes[e.I]&&scopes[e.I].$destroy(),scopes[e.I]=s.$new(),(a.compile||a.compileAll)&&c(i)(scopes[e.I]),angular.element(o).replaceWith(i),e.O&&watches[e.I]()}}(w))}}function loader(n){if(d.C[a.dotaRender])!e[0].hasChildNodes()||a.inline||n?render(d.C[a.dotaRender]):render();else if(a.inline){var o=e[0].innerHTML;render(compile(o,a))}else a.dotaRender&&(e[0].hasChildNodes()?render():h.get(a.dotaRender,{cache:t}).success(function(e){render(compile(e,a))}))}a.loose=a.loose in B?B[a.loose]:a.loose||1,a.optimize=a.optimize in B?B[a.optimize]:a.optimize||1;var p={};if(a.cacheDom&&d.D[a.dotaRender]){var elem;return elem=msie?d.D[a.dotaRender].cloneNode(!0):d.D[a.dotaRender],void e[0].parentNode.replaceChild(elem,e[0])}for(var x in a.$attr){var z=a.$attr[x];z.indexOf("data-")?z.indexOf("scope-")||(p[z.slice(6)]=s[a[x]]):p[x]=a[x]}a.watch&&s.$watchCollection(a.watch,function(e,n){e!==n&&d.C[a.dotaRender]&&loader(!0)}),loader()}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){e.get(a.dotaInclude,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,n,t){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(o,r,a){o.$watch(a.dotaTemplate,function(i,c){i&&e.get(i,{cache:n}).success(function(e){r.html(e),"false"!==a.compile&&t(r.contents())(o)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,n,t,o,r){return function(e,a,i,c){c=c||{},c.loose=1,r.C[e]?i(r.C[e](a,o)):n.get(e,{cache:t}).success(function(n){r.C[e]=r.compile(n,c),i(r.C[e](a,o))})}}])}(window.angular);